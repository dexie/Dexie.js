var p,T,Q,L,D,U=-1,v=function(n){addEventListener("pageshow",function(t){t.persisted&&(U=t.timeStamp,n(t))},!0)},M=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},b=function(){var n=M();return n&&n.activationStart||0},f=function(n,t){var e=M(),i="navigate";return U>=0?i="back-forward-cache":e&&(document.prerendering||b()>0?i="prerender":document.wasDiscarded?i="restore":e.type&&(i=e.type.replace(/_/g,"-"))),{name:n,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},h=function(n,t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){var i=new PerformanceObserver(function(r){Promise.resolve().then(function(){t(r.getEntries())})});return i.observe(Object.assign({type:n,buffered:!0},e||{})),i}}catch{}},d=function(n,t,e,i){var r,a;return function(u){t.value>=0&&(u||i)&&((a=t.value-(r||0))||r===void 0)&&(r=t.value,t.delta=a,t.rating=function(c,o){return c>o[1]?"poor":c>o[0]?"needs-improvement":"good"}(t.value,e),n(t))}},k=function(n){requestAnimationFrame(function(){return requestAnimationFrame(function(){return n()})})},w=function(n){var t=function(e){e.type!=="pagehide"&&document.visibilityState!=="hidden"||n(e)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},B=function(n){var t=!1;return function(e){t||(n(e),t=!0)}},m=-1,N=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},S=function(n){document.visibilityState==="hidden"&&m>-1&&(m=n.type==="visibilitychange"?n.timeStamp:0,$())},R=function(){addEventListener("visibilitychange",S,!0),addEventListener("prerenderingchange",S,!0)},$=function(){removeEventListener("visibilitychange",S,!0),removeEventListener("prerenderingchange",S,!0)},x=function(){return m<0&&(m=N(),R(),v(function(){setTimeout(function(){m=N(),R()},0)})),{get firstHiddenTime(){return m}}},y=function(n){document.prerendering?addEventListener("prerenderingchange",function(){return n()},!0):n()},H=[1800,3e3],tt=function(n,t){t=t||{},y(function(){var e,i=x(),r=f("FCP"),a=h("paint",function(u){u.forEach(function(c){c.name==="first-contentful-paint"&&(a.disconnect(),c.startTime<i.firstHiddenTime&&(r.value=Math.max(c.startTime-b(),0),r.entries.push(c),e(!0)))})});a&&(e=d(n,r,H,t.reportAllChanges),v(function(u){r=f("FCP"),e=d(n,r,H,t.reportAllChanges),k(function(){r.value=performance.now()-u.timeStamp,e(!0)})}))})},O=[.1,.25],ot=function(n,t){t=t||{},tt(B(function(){var e,i=f("CLS",0),r=0,a=[],u=function(o){o.forEach(function(s){if(!s.hadRecentInput){var P=a[0],C=a[a.length-1];r&&s.startTime-C.startTime<1e3&&s.startTime-P.startTime<5e3?(r+=s.value,a.push(s)):(r=s.value,a=[s])}}),r>i.value&&(i.value=r,i.entries=a,e())},c=h("layout-shift",u);c&&(e=d(n,i,O,t.reportAllChanges),w(function(){u(c.takeRecords()),e(!0)}),v(function(){r=0,i=f("CLS",0),e=d(n,i,O,t.reportAllChanges),k(function(){return e()})}),setTimeout(e,0))}))},g={passive:!0,capture:!0},nt=new Date,q=function(n,t){p||(p=t,T=n,Q=new Date,W(removeEventListener),V())},V=function(){if(T>=0&&T<Q-nt){var n={entryType:"first-input",name:p.type,target:p.target,cancelable:p.cancelable,startTime:p.timeStamp,processingStart:p.timeStamp+T};L.forEach(function(t){t(n)}),L=[]}},et=function(n){if(n.cancelable){var t=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;n.type=="pointerdown"?function(e,i){var r=function(){q(e,i),u()},a=function(){u()},u=function(){removeEventListener("pointerup",r,g),removeEventListener("pointercancel",a,g)};addEventListener("pointerup",r,g),addEventListener("pointercancel",a,g)}(t,n):q(t,n)}},W=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return n(t,et,g)})},j=[100,300],ct=function(n,t){t=t||{},y(function(){var e,i=x(),r=f("FID"),a=function(o){o.startTime<i.firstHiddenTime&&(r.value=o.processingStart-o.startTime,r.entries.push(o),e(!0))},u=function(o){o.forEach(a)},c=h("first-input",u);e=d(n,r,j,t.reportAllChanges),c&&w(B(function(){u(c.takeRecords()),c.disconnect()})),c&&v(function(){var o;r=f("FID"),e=d(n,r,j,t.reportAllChanges),L=[],T=-1,p=null,W(addEventListener),o=a,L.push(o),V()})})},X=0,F=1/0,E=0,rt=function(n){n.forEach(function(t){t.interactionId&&(F=Math.min(F,t.interactionId),E=Math.max(E,t.interactionId),X=E?(E-F)/7+1:0)})},Y=function(){return D?X:performance.interactionCount||0},it=function(){"interactionCount"in performance||D||(D=h("event",rt,{type:"event",buffered:!0,durationThreshold:0}))},_=[200,500],Z=0,z=function(){return Y()-Z},l=[],I={},G=function(n){var t=l[l.length-1],e=I[n.interactionId];if(e||l.length<10||n.duration>t.latency){if(e)e.entries.push(n),e.latency=Math.max(e.latency,n.duration);else{var i={id:n.interactionId,latency:n.duration,entries:[n]};I[i.id]=i,l.push(i)}l.sort(function(r,a){return a.latency-r.latency}),l.splice(10).forEach(function(r){delete I[r.id]})}},ut=function(n,t){t=t||{},y(function(){it();var e,i=f("INP"),r=function(u){u.forEach(function(s){s.interactionId&&G(s),s.entryType==="first-input"&&!l.some(function(P){return P.entries.some(function(C){return s.duration===C.duration&&s.startTime===C.startTime})})&&G(s)});var c,o=(c=Math.min(l.length-1,Math.floor(z()/50)),l[c]);o&&o.latency!==i.value&&(i.value=o.latency,i.entries=o.entries,e())},a=h("event",r,{durationThreshold:t.durationThreshold||40});e=d(n,i,_,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),w(function(){r(a.takeRecords()),i.value<0&&z()>0&&(i.value=0,i.entries=[]),e(!0)}),v(function(){l=[],Z=Y(),i=f("INP"),e=d(n,i,_,t.reportAllChanges)}))})},J=[2500,4e3],A={},st=function(n,t){t=t||{},y(function(){var e,i=x(),r=f("LCP"),a=function(o){var s=o[o.length-1];s&&s.startTime<i.firstHiddenTime&&(r.value=Math.max(s.startTime-b(),0),r.entries=[s],e())},u=h("largest-contentful-paint",a);if(u){e=d(n,r,J,t.reportAllChanges);var c=B(function(){A[r.id]||(a(u.takeRecords()),u.disconnect(),A[r.id]=!0,e(!0))});["keydown","click"].forEach(function(o){addEventListener(o,c,!0)}),w(c),v(function(o){r=f("LCP"),e=d(n,r,J,t.reportAllChanges),k(function(){r.value=performance.now()-o.timeStamp,A[r.id]=!0,e(!0)})})}})},K=[800,1800],at=function n(t){document.prerendering?y(function(){return n(t)}):document.readyState!=="complete"?addEventListener("load",function(){return n(t)},!0):setTimeout(t,0)},ft=function(n,t){t=t||{};var e=f("TTFB"),i=d(n,e,K,t.reportAllChanges);at(function(){var r=M();if(r){var a=r.responseStart;if(a<=0||a>performance.now())return;e.value=Math.max(a-b(),0),e.entries=[r],i(!0),v(function(){e=f("TTFB",0),(i=d(n,e,K,t.reportAllChanges))(!0)})}})};export{O as CLSThresholds,H as FCPThresholds,j as FIDThresholds,_ as INPThresholds,J as LCPThresholds,K as TTFBThresholds,ot as getCLS,tt as getFCP,ct as getFID,ut as getINP,st as getLCP,ft as getTTFB,ot as onCLS,tt as onFCP,ct as onFID,ut as onINP,st as onLCP,ft as onTTFB};
//# sourceMappingURL=web-vitals-dfcc5b9a.js.map
