var G_=Object.defineProperty;var Y_=(e,t,n)=>t in e?G_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Rr=(e,t,n)=>Y_(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ov={exports:{}},lc={},jv={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=Symbol.for("react.element"),Q_=Symbol.for("react.portal"),J_=Symbol.for("react.fragment"),X_=Symbol.for("react.strict_mode"),Z_=Symbol.for("react.profiler"),e1=Symbol.for("react.provider"),t1=Symbol.for("react.context"),n1=Symbol.for("react.forward_ref"),r1=Symbol.for("react.suspense"),i1=Symbol.for("react.memo"),o1=Symbol.for("react.lazy"),Km=Symbol.iterator;function s1(e){return e===null||typeof e!="object"?null:(e=Km&&e[Km]||e["@@iterator"],typeof e=="function"?e:null)}var Tv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nv=Object.assign,Pv={};function qo(e,t,n){this.props=e,this.context=t,this.refs=Pv,this.updater=n||Tv}qo.prototype.isReactComponent={};qo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dv(){}Dv.prototype=qo.prototype;function Fh(e,t,n){this.props=e,this.context=t,this.refs=Pv,this.updater=n||Tv}var Bh=Fh.prototype=new Dv;Bh.constructor=Fh;Nv(Bh,qo.prototype);Bh.isPureReactComponent=!0;var Vm=Array.isArray,Av=Object.prototype.hasOwnProperty,Kh={current:null},Rv={key:!0,ref:!0,__self:!0,__source:!0};function Lv(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Av.call(t,r)&&!Rv.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ll,type:e,key:o,ref:s,props:i,_owner:Kh.current}}function l1(e,t){return{$$typeof:Ll,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ll}function a1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Wm=/\/+/g;function kd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?a1(""+e.key):t.toString(36)}function Xa(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ll:case Q_:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+kd(s,0):r,Vm(i)?(n="",e!=null&&(n=e.replace(Wm,"$&/")+"/"),Xa(i,t,n,"",function(d){return d})):i!=null&&(Vh(i)&&(i=l1(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Wm,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Vm(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+kd(o,a);s+=Xa(o,t,n,c,i)}else if(c=s1(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+kd(o,a++),s+=Xa(o,t,n,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Sa(e,t,n){if(e==null)return e;var r=[],i=0;return Xa(e,r,"","",function(o){return t.call(n,o,i++)}),r}function u1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qt={current:null},Za={transition:null},c1={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Za,ReactCurrentOwner:Kh};function Mv(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:Sa,forEach:function(e,t,n){Sa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sa(e,function(){t++}),t},toArray:function(e){return Sa(e,function(t){return t})||[]},only:function(e){if(!Vh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=qo;Le.Fragment=J_;Le.Profiler=Z_;Le.PureComponent=Fh;Le.StrictMode=X_;Le.Suspense=r1;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c1;Le.act=Mv;Le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Nv({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Kh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Av.call(t,c)&&!Rv.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Ll,type:e.type,key:i,ref:o,props:r,_owner:s}};Le.createContext=function(e){return e={$$typeof:t1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:e1,_context:e},e.Consumer=e};Le.createElement=Lv;Le.createFactory=function(e){var t=Lv.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:n1,render:e}};Le.isValidElement=Vh;Le.lazy=function(e){return{$$typeof:o1,_payload:{_status:-1,_result:e},_init:u1}};Le.memo=function(e,t){return{$$typeof:i1,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=Za.transition;Za.transition={};try{e()}finally{Za.transition=t}};Le.unstable_act=Mv;Le.useCallback=function(e,t){return Qt.current.useCallback(e,t)};Le.useContext=function(e){return Qt.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return Qt.current.useDeferredValue(e)};Le.useEffect=function(e,t){return Qt.current.useEffect(e,t)};Le.useId=function(){return Qt.current.useId()};Le.useImperativeHandle=function(e,t,n){return Qt.current.useImperativeHandle(e,t,n)};Le.useInsertionEffect=function(e,t){return Qt.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return Qt.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return Qt.current.useMemo(e,t)};Le.useReducer=function(e,t,n){return Qt.current.useReducer(e,t,n)};Le.useRef=function(e){return Qt.current.useRef(e)};Le.useState=function(e){return Qt.current.useState(e)};Le.useSyncExternalStore=function(e,t,n){return Qt.current.useSyncExternalStore(e,t,n)};Le.useTransition=function(){return Qt.current.useTransition()};Le.version="18.3.1";jv.exports=Le;var Se=jv.exports;const io=Iv(Se);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1=Se,f1=Symbol.for("react.element"),h1=Symbol.for("react.fragment"),p1=Object.prototype.hasOwnProperty,m1=d1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y1={key:!0,ref:!0,__self:!0,__source:!0};function Uv(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)p1.call(t,r)&&!y1.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:f1,type:e,key:o,ref:s,props:i,_owner:m1.current}}lc.Fragment=h1;lc.jsx=Uv;lc.jsxs=Uv;Ov.exports=lc;var O=Ov.exports,zv={exports:{}},vn={},$v={exports:{}},Fv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,J){var ue=R.length;R.push(J);e:for(;0<ue;){var oe=ue-1>>>1,se=R[oe];if(0<i(se,J))R[oe]=J,R[ue]=se,ue=oe;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var J=R[0],ue=R.pop();if(ue!==J){R[0]=ue;e:for(var oe=0,se=R.length,we=se>>>1;oe<we;){var je=2*(oe+1)-1,Je=R[je],ze=je+1,Te=R[ze];if(0>i(Je,ue))ze<se&&0>i(Te,Je)?(R[oe]=Te,R[ze]=ue,oe=ze):(R[oe]=Je,R[je]=ue,oe=je);else if(ze<se&&0>i(Te,ue))R[oe]=Te,R[ze]=ue,oe=ze;else break e}}return J}function i(R,J){var ue=R.sortIndex-J.sortIndex;return ue!==0?ue:R.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],d=[],f=1,p=null,m=3,v=!1,b=!1,x=!1,P=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var J=n(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=R)r(d),J.sortIndex=J.expirationTime,t(c,J);else break;J=n(d)}}function M(R){if(x=!1,_(R),!b)if(n(c)!==null)b=!0,Z(K);else{var J=n(d);J!==null&&ce(M,J.startTime-R)}}function K(R,J){b=!1,x&&(x=!1,E(W),W=-1),v=!0;var ue=m;try{for(_(J),p=n(c);p!==null&&(!(p.expirationTime>J)||R&&!G());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,m=p.priorityLevel;var se=oe(p.expirationTime<=J);J=e.unstable_now(),typeof se=="function"?p.callback=se:p===n(c)&&r(c),_(J)}else r(c);p=n(c)}if(p!==null)var we=!0;else{var je=n(d);je!==null&&ce(M,je.startTime-J),we=!1}return we}finally{p=null,m=ue,v=!1}}var B=!1,H=null,W=-1,ie=5,de=-1;function G(){return!(e.unstable_now()-de<ie)}function ve(){if(H!==null){var R=e.unstable_now();de=R;var J=!0;try{J=H(!0,R)}finally{J?xe():(B=!1,H=null)}}else B=!1}var xe;if(typeof k=="function")xe=function(){k(ve)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ke=Ee.port2;Ee.port1.onmessage=ve,xe=function(){ke.postMessage(null)}}else xe=function(){P(ve,0)};function Z(R){H=R,B||(B=!0,xe())}function ce(R,J){W=P(function(){R(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,Z(K))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var J=3;break;default:J=m}var ue=m;m=J;try{return R()}finally{m=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,J){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ue=m;m=R;try{return J()}finally{m=ue}},e.unstable_scheduleCallback=function(R,J,ue){var oe=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?oe+ue:oe):ue=oe,R){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ue+se,R={id:f++,callback:J,priorityLevel:R,startTime:ue,expirationTime:se,sortIndex:-1},ue>oe?(R.sortIndex=ue,t(d,R),n(c)===null&&R===n(d)&&(x?(E(W),W=-1):x=!0,ce(M,ue-oe))):(R.sortIndex=se,t(c,R),b||v||(b=!0,Z(K))),R},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(R){var J=m;return function(){var ue=m;m=J;try{return R.apply(this,arguments)}finally{m=ue}}}})(Fv);$v.exports=Fv;var g1=$v.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1=Se,yn=g1;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bv=new Set,rl={};function Vi(e,t){No(e,t),No(e+"Capture",t)}function No(e,t){for(rl[e]=t,e=0;e<t.length;e++)Bv.add(t[e])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=Object.prototype.hasOwnProperty,w1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hm={},qm={};function b1(e){return yf.call(qm,e)?!0:yf.call(Hm,e)?!1:w1.test(e)?qm[e]=!0:(Hm[e]=!0,!1)}function k1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _1(e,t,n,r){if(t===null||typeof t>"u"||k1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wh=/[\-:]([a-z])/g;function Hh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wh,Hh);Lt[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wh,Hh);Lt[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wh,Hh);Lt[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function qh(e,t,n,r){var i=Lt.hasOwnProperty(t)?Lt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_1(t,n,i,r)&&(n=null),r||i===null?b1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xr=v1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ea=Symbol.for("react.element"),lo=Symbol.for("react.portal"),ao=Symbol.for("react.fragment"),Gh=Symbol.for("react.strict_mode"),gf=Symbol.for("react.profiler"),Kv=Symbol.for("react.provider"),Vv=Symbol.for("react.context"),Yh=Symbol.for("react.forward_ref"),vf=Symbol.for("react.suspense"),wf=Symbol.for("react.suspense_list"),Qh=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),Wv=Symbol.for("react.offscreen"),Gm=Symbol.iterator;function bs(e){return e===null||typeof e!="object"?null:(e=Gm&&e[Gm]||e["@@iterator"],typeof e=="function"?e:null)}var at=Object.assign,_d;function As(e){if(_d===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_d=t&&t[1]||""}return`
`+_d+e}var xd=!1;function Sd(e,t){if(!e||xd)return"";xd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{xd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?As(e):""}function x1(e){switch(e.tag){case 5:return As(e.type);case 16:return As("Lazy");case 13:return As("Suspense");case 19:return As("SuspenseList");case 0:case 2:case 15:return e=Sd(e.type,!1),e;case 11:return e=Sd(e.type.render,!1),e;case 1:return e=Sd(e.type,!0),e;default:return""}}function bf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ao:return"Fragment";case lo:return"Portal";case gf:return"Profiler";case Gh:return"StrictMode";case vf:return"Suspense";case wf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vv:return(e.displayName||"Context")+".Consumer";case Kv:return(e._context.displayName||"Context")+".Provider";case Yh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qh:return t=e.displayName||null,t!==null?t:bf(e.type)||"Memo";case Ur:t=e._payload,e=e._init;try{return bf(e(t))}catch{}}return null}function S1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bf(t);case 8:return t===Gh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function oi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E1(e){var t=Hv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ca(e){e._valueTracker||(e._valueTracker=E1(e))}function qv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kf(e,t){var n=t.checked;return at({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ym(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=oi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gv(e,t){t=t.checked,t!=null&&qh(e,"checked",t,!1)}function _f(e,t){Gv(e,t);var n=oi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xf(e,t.type,n):t.hasOwnProperty("defaultValue")&&xf(e,t.type,oi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xf(e,t,n){(t!=="number"||wu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rs=Array.isArray;function ko(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+oi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Sf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return at({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Y(92));if(Rs(n)){if(1<n.length)throw Error(Y(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:oi(n)}}function Yv(e,t){var n=oi(t.value),r=oi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Xm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ef(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ia,Jv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ia=Ia||document.createElement("div"),Ia.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ia.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function il(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C1=["Webkit","ms","Moz","O"];Object.keys(zs).forEach(function(e){C1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zs[t]=zs[e]})});function Xv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zs.hasOwnProperty(e)&&zs[e]?(""+t).trim():t+"px"}function Zv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var I1=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cf(e,t){if(t){if(I1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function If(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=null;function Jh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jf=null,_o=null,xo=null;function Zm(e){if(e=zl(e)){if(typeof jf!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=fc(t),jf(e.stateNode,e.type,t))}}function e0(e){_o?xo?xo.push(e):xo=[e]:_o=e}function t0(){if(_o){var e=_o,t=xo;if(xo=_o=null,Zm(e),t)for(e=0;e<t.length;e++)Zm(t[e])}}function n0(e,t){return e(t)}function r0(){}var Ed=!1;function i0(e,t,n){if(Ed)return e(t,n);Ed=!0;try{return n0(e,t,n)}finally{Ed=!1,(_o!==null||xo!==null)&&(r0(),t0())}}function ol(e,t){var n=e.stateNode;if(n===null)return null;var r=fc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var Tf=!1;if(vr)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){Tf=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{Tf=!1}function O1(e,t,n,r,i,o,s,a,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var $s=!1,bu=null,ku=!1,Nf=null,j1={onError:function(e){$s=!0,bu=e}};function T1(e,t,n,r,i,o,s,a,c){$s=!1,bu=null,O1.apply(j1,arguments)}function N1(e,t,n,r,i,o,s,a,c){if(T1.apply(this,arguments),$s){if($s){var d=bu;$s=!1,bu=null}else throw Error(Y(198));ku||(ku=!0,Nf=d)}}function Wi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function o0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ey(e){if(Wi(e)!==e)throw Error(Y(188))}function P1(e){var t=e.alternate;if(!t){if(t=Wi(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ey(i),e;if(o===r)return ey(i),t;o=o.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function s0(e){return e=P1(e),e!==null?l0(e):null}function l0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=l0(e);if(t!==null)return t;e=e.sibling}return null}var a0=yn.unstable_scheduleCallback,ty=yn.unstable_cancelCallback,D1=yn.unstable_shouldYield,A1=yn.unstable_requestPaint,ht=yn.unstable_now,R1=yn.unstable_getCurrentPriorityLevel,Xh=yn.unstable_ImmediatePriority,u0=yn.unstable_UserBlockingPriority,_u=yn.unstable_NormalPriority,L1=yn.unstable_LowPriority,c0=yn.unstable_IdlePriority,ac=null,Jn=null;function M1(e){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(ac,e,void 0,(e.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:$1,U1=Math.log,z1=Math.LN2;function $1(e){return e>>>=0,e===0?32:31-(U1(e)/z1|0)|0}var Oa=64,ja=4194304;function Ls(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ls(a):(o&=s,o!==0&&(r=Ls(o)))}else s=n&~i,s!==0?r=Ls(s):o!==0&&(r=Ls(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Un(t),i=1<<n,r|=e[n],t&=~i;return r}function F1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Un(o),a=1<<s,c=i[s];c===-1?(!(a&n)||a&r)&&(i[s]=F1(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Pf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function d0(){var e=Oa;return Oa<<=1,!(Oa&4194240)&&(Oa=64),e}function Cd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ml(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Un(t),e[t]=n}function K1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Un(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Zh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Un(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var He=0;function f0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var h0,ep,p0,m0,y0,Df=!1,Ta=[],Hr=null,qr=null,Gr=null,sl=new Map,ll=new Map,$r=[],V1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ny(e,t){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(t.pointerId)}}function _s(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=zl(t),t!==null&&ep(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function W1(e,t,n,r,i){switch(t){case"focusin":return Hr=_s(Hr,e,t,n,r,i),!0;case"dragenter":return qr=_s(qr,e,t,n,r,i),!0;case"mouseover":return Gr=_s(Gr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return sl.set(o,_s(sl.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ll.set(o,_s(ll.get(o)||null,e,t,n,r,i)),!0}return!1}function g0(e){var t=Ii(e.target);if(t!==null){var n=Wi(t);if(n!==null){if(t=n.tag,t===13){if(t=o0(n),t!==null){e.blockedOn=t,y0(e.priority,function(){p0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Af(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Of=r,n.target.dispatchEvent(r),Of=null}else return t=zl(n),t!==null&&ep(t),e.blockedOn=n,!1;t.shift()}return!0}function ry(e,t,n){eu(e)&&n.delete(t)}function H1(){Df=!1,Hr!==null&&eu(Hr)&&(Hr=null),qr!==null&&eu(qr)&&(qr=null),Gr!==null&&eu(Gr)&&(Gr=null),sl.forEach(ry),ll.forEach(ry)}function xs(e,t){e.blockedOn===t&&(e.blockedOn=null,Df||(Df=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,H1)))}function al(e){function t(i){return xs(i,e)}if(0<Ta.length){xs(Ta[0],e);for(var n=1;n<Ta.length;n++){var r=Ta[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Hr!==null&&xs(Hr,e),qr!==null&&xs(qr,e),Gr!==null&&xs(Gr,e),sl.forEach(t),ll.forEach(t),n=0;n<$r.length;n++)r=$r[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)g0(n),n.blockedOn===null&&$r.shift()}var So=xr.ReactCurrentBatchConfig,Su=!0;function q1(e,t,n,r){var i=He,o=So.transition;So.transition=null;try{He=1,tp(e,t,n,r)}finally{He=i,So.transition=o}}function G1(e,t,n,r){var i=He,o=So.transition;So.transition=null;try{He=4,tp(e,t,n,r)}finally{He=i,So.transition=o}}function tp(e,t,n,r){if(Su){var i=Af(e,t,n,r);if(i===null)Ld(e,t,r,Eu,n),ny(e,r);else if(W1(i,e,t,n,r))r.stopPropagation();else if(ny(e,r),t&4&&-1<V1.indexOf(e)){for(;i!==null;){var o=zl(i);if(o!==null&&h0(o),o=Af(e,t,n,r),o===null&&Ld(e,t,r,Eu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ld(e,t,r,null,n)}}var Eu=null;function Af(e,t,n,r){if(Eu=null,e=Jh(r),e=Ii(e),e!==null)if(t=Wi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=o0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Eu=e,null}function v0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R1()){case Xh:return 1;case u0:return 4;case _u:case L1:return 16;case c0:return 536870912;default:return 16}default:return 16}}var Br=null,np=null,tu=null;function w0(){if(tu)return tu;var e,t=np,n=t.length,r,i="value"in Br?Br.value:Br.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return tu=i.slice(e,1<r?1-r:void 0)}function nu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Na(){return!0}function iy(){return!1}function wn(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Na:iy,this.isPropagationStopped=iy,this}return at(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),t}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rp=wn(Go),Ul=at({},Go,{view:0,detail:0}),Y1=wn(Ul),Id,Od,Ss,uc=at({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ip,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ss&&(Ss&&e.type==="mousemove"?(Id=e.screenX-Ss.screenX,Od=e.screenY-Ss.screenY):Od=Id=0,Ss=e),Id)},movementY:function(e){return"movementY"in e?e.movementY:Od}}),oy=wn(uc),Q1=at({},uc,{dataTransfer:0}),J1=wn(Q1),X1=at({},Ul,{relatedTarget:0}),jd=wn(X1),Z1=at({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),ex=wn(Z1),tx=at({},Go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nx=wn(tx),rx=at({},Go,{data:0}),sy=wn(rx),ix={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ox={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sx[e])?!!t[e]:!1}function ip(){return lx}var ax=at({},Ul,{key:function(e){if(e.key){var t=ix[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ox[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ip,charCode:function(e){return e.type==="keypress"?nu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ux=wn(ax),cx=at({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ly=wn(cx),dx=at({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ip}),fx=wn(dx),hx=at({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),px=wn(hx),mx=at({},uc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yx=wn(mx),gx=[9,13,27,32],op=vr&&"CompositionEvent"in window,Fs=null;vr&&"documentMode"in document&&(Fs=document.documentMode);var vx=vr&&"TextEvent"in window&&!Fs,b0=vr&&(!op||Fs&&8<Fs&&11>=Fs),ay=" ",uy=!1;function k0(e,t){switch(e){case"keyup":return gx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uo=!1;function wx(e,t){switch(e){case"compositionend":return _0(t);case"keypress":return t.which!==32?null:(uy=!0,ay);case"textInput":return e=t.data,e===ay&&uy?null:e;default:return null}}function bx(e,t){if(uo)return e==="compositionend"||!op&&k0(e,t)?(e=w0(),tu=np=Br=null,uo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return b0&&t.locale!=="ko"?null:t.data;default:return null}}var kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kx[e.type]:t==="textarea"}function x0(e,t,n,r){e0(r),t=Cu(t,"onChange"),0<t.length&&(n=new rp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bs=null,ul=null;function _x(e){A0(e,0)}function cc(e){var t=ho(e);if(qv(t))return e}function xx(e,t){if(e==="change")return t}var S0=!1;if(vr){var Td;if(vr){var Nd="oninput"in document;if(!Nd){var dy=document.createElement("div");dy.setAttribute("oninput","return;"),Nd=typeof dy.oninput=="function"}Td=Nd}else Td=!1;S0=Td&&(!document.documentMode||9<document.documentMode)}function fy(){Bs&&(Bs.detachEvent("onpropertychange",E0),ul=Bs=null)}function E0(e){if(e.propertyName==="value"&&cc(ul)){var t=[];x0(t,ul,e,Jh(e)),i0(_x,t)}}function Sx(e,t,n){e==="focusin"?(fy(),Bs=t,ul=n,Bs.attachEvent("onpropertychange",E0)):e==="focusout"&&fy()}function Ex(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cc(ul)}function Cx(e,t){if(e==="click")return cc(t)}function Ix(e,t){if(e==="input"||e==="change")return cc(t)}function Ox(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $n=typeof Object.is=="function"?Object.is:Ox;function cl(e,t){if($n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yf.call(t,i)||!$n(e[i],t[i]))return!1}return!0}function hy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function py(e,t){var n=hy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hy(n)}}function C0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?C0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function I0(){for(var e=window,t=wu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wu(e.document)}return t}function sp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jx(e){var t=I0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&C0(n.ownerDocument.documentElement,n)){if(r!==null&&sp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=py(n,o);var s=py(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tx=vr&&"documentMode"in document&&11>=document.documentMode,co=null,Rf=null,Ks=null,Lf=!1;function my(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lf||co==null||co!==wu(r)||(r=co,"selectionStart"in r&&sp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ks&&cl(Ks,r)||(Ks=r,r=Cu(Rf,"onSelect"),0<r.length&&(t=new rp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=co)))}function Pa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fo={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},Pd={},O0={};vr&&(O0=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function dc(e){if(Pd[e])return Pd[e];if(!fo[e])return e;var t=fo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in O0)return Pd[e]=t[n];return e}var j0=dc("animationend"),T0=dc("animationiteration"),N0=dc("animationstart"),P0=dc("transitionend"),D0=new Map,yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ci(e,t){D0.set(e,t),Vi(t,[e])}for(var Dd=0;Dd<yy.length;Dd++){var Ad=yy[Dd],Nx=Ad.toLowerCase(),Px=Ad[0].toUpperCase()+Ad.slice(1);ci(Nx,"on"+Px)}ci(j0,"onAnimationEnd");ci(T0,"onAnimationIteration");ci(N0,"onAnimationStart");ci("dblclick","onDoubleClick");ci("focusin","onFocus");ci("focusout","onBlur");ci(P0,"onTransitionEnd");No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ms));function gy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,N1(r,t,void 0,e),e.currentTarget=null}function A0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;gy(i,a,d),o=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,d=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;gy(i,a,d),o=c}}}if(ku)throw e=Nf,ku=!1,Nf=null,e}function tt(e,t){var n=t[Ff];n===void 0&&(n=t[Ff]=new Set);var r=e+"__bubble";n.has(r)||(R0(t,e,2,!1),n.add(r))}function Rd(e,t,n){var r=0;t&&(r|=4),R0(n,e,r,t)}var Da="_reactListening"+Math.random().toString(36).slice(2);function dl(e){if(!e[Da]){e[Da]=!0,Bv.forEach(function(n){n!=="selectionchange"&&(Dx.has(n)||Rd(n,!1,e),Rd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Da]||(t[Da]=!0,Rd("selectionchange",!1,t))}}function R0(e,t,n,r){switch(v0(t)){case 1:var i=q1;break;case 4:i=G1;break;default:i=tp}n=i.bind(null,t,n,e),i=void 0,!Tf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ld(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ii(a),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}a=a.parentNode}}r=r.return}i0(function(){var d=o,f=Jh(n),p=[];e:{var m=D0.get(e);if(m!==void 0){var v=rp,b=e;switch(e){case"keypress":if(nu(n)===0)break e;case"keydown":case"keyup":v=ux;break;case"focusin":b="focus",v=jd;break;case"focusout":b="blur",v=jd;break;case"beforeblur":case"afterblur":v=jd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=J1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=fx;break;case j0:case T0:case N0:v=ex;break;case P0:v=px;break;case"scroll":v=Y1;break;case"wheel":v=yx;break;case"copy":case"cut":case"paste":v=nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ly}var x=(t&4)!==0,P=!x&&e==="scroll",E=x?m!==null?m+"Capture":null:m;x=[];for(var k=d,_;k!==null;){_=k;var M=_.stateNode;if(_.tag===5&&M!==null&&(_=M,E!==null&&(M=ol(k,E),M!=null&&x.push(fl(k,M,_)))),P)break;k=k.return}0<x.length&&(m=new v(m,b,null,n,f),p.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==Of&&(b=n.relatedTarget||n.fromElement)&&(Ii(b)||b[wr]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(b=n.relatedTarget||n.toElement,v=d,b=b?Ii(b):null,b!==null&&(P=Wi(b),b!==P||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=d),v!==b)){if(x=oy,M="onMouseLeave",E="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(x=ly,M="onPointerLeave",E="onPointerEnter",k="pointer"),P=v==null?m:ho(v),_=b==null?m:ho(b),m=new x(M,k+"leave",v,n,f),m.target=P,m.relatedTarget=_,M=null,Ii(f)===d&&(x=new x(E,k+"enter",b,n,f),x.target=_,x.relatedTarget=P,M=x),P=M,v&&b)t:{for(x=v,E=b,k=0,_=x;_;_=to(_))k++;for(_=0,M=E;M;M=to(M))_++;for(;0<k-_;)x=to(x),k--;for(;0<_-k;)E=to(E),_--;for(;k--;){if(x===E||E!==null&&x===E.alternate)break t;x=to(x),E=to(E)}x=null}else x=null;v!==null&&vy(p,m,v,x,!1),b!==null&&P!==null&&vy(p,P,b,x,!0)}}e:{if(m=d?ho(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var K=xx;else if(cy(m))if(S0)K=Ix;else{K=Ex;var B=Sx}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(K=Cx);if(K&&(K=K(e,d))){x0(p,K,n,f);break e}B&&B(e,m,d),e==="focusout"&&(B=m._wrapperState)&&B.controlled&&m.type==="number"&&xf(m,"number",m.value)}switch(B=d?ho(d):window,e){case"focusin":(cy(B)||B.contentEditable==="true")&&(co=B,Rf=d,Ks=null);break;case"focusout":Ks=Rf=co=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,my(p,n,f);break;case"selectionchange":if(Tx)break;case"keydown":case"keyup":my(p,n,f)}var H;if(op)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else uo?k0(e,n)&&(W="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(b0&&n.locale!=="ko"&&(uo||W!=="onCompositionStart"?W==="onCompositionEnd"&&uo&&(H=w0()):(Br=f,np="value"in Br?Br.value:Br.textContent,uo=!0)),B=Cu(d,W),0<B.length&&(W=new sy(W,e,null,n,f),p.push({event:W,listeners:B}),H?W.data=H:(H=_0(n),H!==null&&(W.data=H)))),(H=vx?wx(e,n):bx(e,n))&&(d=Cu(d,"onBeforeInput"),0<d.length&&(f=new sy("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=H))}A0(p,t)})}function fl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ol(e,n),o!=null&&r.unshift(fl(e,o,i)),o=ol(e,t),o!=null&&r.push(fl(e,o,i))),e=e.return}return r}function to(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vy(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,i?(c=ol(n,o),c!=null&&s.unshift(fl(n,c,a))):i||(c=ol(n,o),c!=null&&s.push(fl(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ax=/\r\n?/g,Rx=/\u0000|\uFFFD/g;function wy(e){return(typeof e=="string"?e:""+e).replace(Ax,`
`).replace(Rx,"")}function Aa(e,t,n){if(t=wy(t),wy(e)!==t&&n)throw Error(Y(425))}function Iu(){}var Mf=null,Uf=null;function zf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $f=typeof setTimeout=="function"?setTimeout:void 0,Lx=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,Mx=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(e){return by.resolve(null).then(e).catch(Ux)}:$f;function Ux(e){setTimeout(function(){throw e})}function Md(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),al(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);al(t)}function Yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ky(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Yo,hl="__reactProps$"+Yo,wr="__reactContainer$"+Yo,Ff="__reactEvents$"+Yo,zx="__reactListeners$"+Yo,$x="__reactHandles$"+Yo;function Ii(e){var t=e[Yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wr]||n[Yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ky(e);e!==null;){if(n=e[Yn])return n;e=ky(e)}return t}e=n,n=e.parentNode}return null}function zl(e){return e=e[Yn]||e[wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ho(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function fc(e){return e[hl]||null}var Bf=[],po=-1;function di(e){return{current:e}}function nt(e){0>po||(e.current=Bf[po],Bf[po]=null,po--)}function et(e,t){po++,Bf[po]=e.current,e.current=t}var si={},Ht=di(si),tn=di(!1),Ai=si;function Po(e,t){var n=e.type.contextTypes;if(!n)return si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function nn(e){return e=e.childContextTypes,e!=null}function Ou(){nt(tn),nt(Ht)}function _y(e,t,n){if(Ht.current!==si)throw Error(Y(168));et(Ht,t),et(tn,n)}function L0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Y(108,S1(e)||"Unknown",i));return at({},n,r)}function ju(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||si,Ai=Ht.current,et(Ht,e),et(tn,tn.current),!0}function xy(e,t,n){var r=e.stateNode;if(!r)throw Error(Y(169));n?(e=L0(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,nt(tn),nt(Ht),et(Ht,e)):nt(tn),et(tn,n)}var dr=null,hc=!1,Ud=!1;function M0(e){dr===null?dr=[e]:dr.push(e)}function Fx(e){hc=!0,M0(e)}function fi(){if(!Ud&&dr!==null){Ud=!0;var e=0,t=He;try{var n=dr;for(He=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}dr=null,hc=!1}catch(i){throw dr!==null&&(dr=dr.slice(e+1)),a0(Xh,fi),i}finally{He=t,Ud=!1}}return null}var mo=[],yo=0,Tu=null,Nu=0,xn=[],Sn=0,Ri=null,fr=1,hr="";function Ei(e,t){mo[yo++]=Nu,mo[yo++]=Tu,Tu=e,Nu=t}function U0(e,t,n){xn[Sn++]=fr,xn[Sn++]=hr,xn[Sn++]=Ri,Ri=e;var r=fr;e=hr;var i=32-Un(r)-1;r&=~(1<<i),n+=1;var o=32-Un(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fr=1<<32-Un(t)+i|n<<i|r,hr=o+e}else fr=1<<o|n<<i|r,hr=e}function lp(e){e.return!==null&&(Ei(e,1),U0(e,1,0))}function ap(e){for(;e===Tu;)Tu=mo[--yo],mo[yo]=null,Nu=mo[--yo],mo[yo]=null;for(;e===Ri;)Ri=xn[--Sn],xn[Sn]=null,hr=xn[--Sn],xn[Sn]=null,fr=xn[--Sn],xn[Sn]=null}var hn=null,dn=null,ot=!1,Ln=null;function z0(e,t){var n=jn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hn=e,dn=Yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hn=e,dn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ri!==null?{id:fr,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,hn=e,dn=null,!0):!1;default:return!1}}function Kf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vf(e){if(ot){var t=dn;if(t){var n=t;if(!Sy(e,t)){if(Kf(e))throw Error(Y(418));t=Yr(n.nextSibling);var r=hn;t&&Sy(e,t)?z0(r,n):(e.flags=e.flags&-4097|2,ot=!1,hn=e)}}else{if(Kf(e))throw Error(Y(418));e.flags=e.flags&-4097|2,ot=!1,hn=e}}}function Ey(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hn=e}function Ra(e){if(e!==hn)return!1;if(!ot)return Ey(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zf(e.type,e.memoizedProps)),t&&(t=dn)){if(Kf(e))throw $0(),Error(Y(418));for(;t;)z0(e,t),t=Yr(t.nextSibling)}if(Ey(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dn=Yr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dn=null}}else dn=hn?Yr(e.stateNode.nextSibling):null;return!0}function $0(){for(var e=dn;e;)e=Yr(e.nextSibling)}function Do(){dn=hn=null,ot=!1}function up(e){Ln===null?Ln=[e]:Ln.push(e)}var Bx=xr.ReactCurrentBatchConfig;function Es(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,e))}return e}function La(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cy(e){var t=e._init;return t(e._payload)}function F0(e){function t(E,k){if(e){var _=E.deletions;_===null?(E.deletions=[k],E.flags|=16):_.push(k)}}function n(E,k){if(!e)return null;for(;k!==null;)t(E,k),k=k.sibling;return null}function r(E,k){for(E=new Map;k!==null;)k.key!==null?E.set(k.key,k):E.set(k.index,k),k=k.sibling;return E}function i(E,k){return E=Zr(E,k),E.index=0,E.sibling=null,E}function o(E,k,_){return E.index=_,e?(_=E.alternate,_!==null?(_=_.index,_<k?(E.flags|=2,k):_):(E.flags|=2,k)):(E.flags|=1048576,k)}function s(E){return e&&E.alternate===null&&(E.flags|=2),E}function a(E,k,_,M){return k===null||k.tag!==6?(k=Wd(_,E.mode,M),k.return=E,k):(k=i(k,_),k.return=E,k)}function c(E,k,_,M){var K=_.type;return K===ao?f(E,k,_.props.children,M,_.key):k!==null&&(k.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ur&&Cy(K)===k.type)?(M=i(k,_.props),M.ref=Es(E,k,_),M.return=E,M):(M=uu(_.type,_.key,_.props,null,E.mode,M),M.ref=Es(E,k,_),M.return=E,M)}function d(E,k,_,M){return k===null||k.tag!==4||k.stateNode.containerInfo!==_.containerInfo||k.stateNode.implementation!==_.implementation?(k=Hd(_,E.mode,M),k.return=E,k):(k=i(k,_.children||[]),k.return=E,k)}function f(E,k,_,M,K){return k===null||k.tag!==7?(k=Pi(_,E.mode,M,K),k.return=E,k):(k=i(k,_),k.return=E,k)}function p(E,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Wd(""+k,E.mode,_),k.return=E,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ea:return _=uu(k.type,k.key,k.props,null,E.mode,_),_.ref=Es(E,null,k),_.return=E,_;case lo:return k=Hd(k,E.mode,_),k.return=E,k;case Ur:var M=k._init;return p(E,M(k._payload),_)}if(Rs(k)||bs(k))return k=Pi(k,E.mode,_,null),k.return=E,k;La(E,k)}return null}function m(E,k,_,M){var K=k!==null?k.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return K!==null?null:a(E,k,""+_,M);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ea:return _.key===K?c(E,k,_,M):null;case lo:return _.key===K?d(E,k,_,M):null;case Ur:return K=_._init,m(E,k,K(_._payload),M)}if(Rs(_)||bs(_))return K!==null?null:f(E,k,_,M,null);La(E,_)}return null}function v(E,k,_,M,K){if(typeof M=="string"&&M!==""||typeof M=="number")return E=E.get(_)||null,a(k,E,""+M,K);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ea:return E=E.get(M.key===null?_:M.key)||null,c(k,E,M,K);case lo:return E=E.get(M.key===null?_:M.key)||null,d(k,E,M,K);case Ur:var B=M._init;return v(E,k,_,B(M._payload),K)}if(Rs(M)||bs(M))return E=E.get(_)||null,f(k,E,M,K,null);La(k,M)}return null}function b(E,k,_,M){for(var K=null,B=null,H=k,W=k=0,ie=null;H!==null&&W<_.length;W++){H.index>W?(ie=H,H=null):ie=H.sibling;var de=m(E,H,_[W],M);if(de===null){H===null&&(H=ie);break}e&&H&&de.alternate===null&&t(E,H),k=o(de,k,W),B===null?K=de:B.sibling=de,B=de,H=ie}if(W===_.length)return n(E,H),ot&&Ei(E,W),K;if(H===null){for(;W<_.length;W++)H=p(E,_[W],M),H!==null&&(k=o(H,k,W),B===null?K=H:B.sibling=H,B=H);return ot&&Ei(E,W),K}for(H=r(E,H);W<_.length;W++)ie=v(H,E,W,_[W],M),ie!==null&&(e&&ie.alternate!==null&&H.delete(ie.key===null?W:ie.key),k=o(ie,k,W),B===null?K=ie:B.sibling=ie,B=ie);return e&&H.forEach(function(G){return t(E,G)}),ot&&Ei(E,W),K}function x(E,k,_,M){var K=bs(_);if(typeof K!="function")throw Error(Y(150));if(_=K.call(_),_==null)throw Error(Y(151));for(var B=K=null,H=k,W=k=0,ie=null,de=_.next();H!==null&&!de.done;W++,de=_.next()){H.index>W?(ie=H,H=null):ie=H.sibling;var G=m(E,H,de.value,M);if(G===null){H===null&&(H=ie);break}e&&H&&G.alternate===null&&t(E,H),k=o(G,k,W),B===null?K=G:B.sibling=G,B=G,H=ie}if(de.done)return n(E,H),ot&&Ei(E,W),K;if(H===null){for(;!de.done;W++,de=_.next())de=p(E,de.value,M),de!==null&&(k=o(de,k,W),B===null?K=de:B.sibling=de,B=de);return ot&&Ei(E,W),K}for(H=r(E,H);!de.done;W++,de=_.next())de=v(H,E,W,de.value,M),de!==null&&(e&&de.alternate!==null&&H.delete(de.key===null?W:de.key),k=o(de,k,W),B===null?K=de:B.sibling=de,B=de);return e&&H.forEach(function(ve){return t(E,ve)}),ot&&Ei(E,W),K}function P(E,k,_,M){if(typeof _=="object"&&_!==null&&_.type===ao&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ea:e:{for(var K=_.key,B=k;B!==null;){if(B.key===K){if(K=_.type,K===ao){if(B.tag===7){n(E,B.sibling),k=i(B,_.props.children),k.return=E,E=k;break e}}else if(B.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ur&&Cy(K)===B.type){n(E,B.sibling),k=i(B,_.props),k.ref=Es(E,B,_),k.return=E,E=k;break e}n(E,B);break}else t(E,B);B=B.sibling}_.type===ao?(k=Pi(_.props.children,E.mode,M,_.key),k.return=E,E=k):(M=uu(_.type,_.key,_.props,null,E.mode,M),M.ref=Es(E,k,_),M.return=E,E=M)}return s(E);case lo:e:{for(B=_.key;k!==null;){if(k.key===B)if(k.tag===4&&k.stateNode.containerInfo===_.containerInfo&&k.stateNode.implementation===_.implementation){n(E,k.sibling),k=i(k,_.children||[]),k.return=E,E=k;break e}else{n(E,k);break}else t(E,k);k=k.sibling}k=Hd(_,E.mode,M),k.return=E,E=k}return s(E);case Ur:return B=_._init,P(E,k,B(_._payload),M)}if(Rs(_))return b(E,k,_,M);if(bs(_))return x(E,k,_,M);La(E,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,k!==null&&k.tag===6?(n(E,k.sibling),k=i(k,_),k.return=E,E=k):(n(E,k),k=Wd(_,E.mode,M),k.return=E,E=k),s(E)):n(E,k)}return P}var Ao=F0(!0),B0=F0(!1),Pu=di(null),Du=null,go=null,cp=null;function dp(){cp=go=Du=null}function fp(e){var t=Pu.current;nt(Pu),e._currentValue=t}function Wf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){Du=e,cp=go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zt=!0),e.firstContext=null)}function Nn(e){var t=e._currentValue;if(cp!==e)if(e={context:e,memoizedValue:t,next:null},go===null){if(Du===null)throw Error(Y(308));go=e,Du.dependencies={lanes:0,firstContext:e}}else go=go.next=e;return t}var Oi=null;function hp(e){Oi===null?Oi=[e]:Oi.push(e)}function K0(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,hp(t)):(n.next=i.next,i.next=n),t.interleaved=n,br(e,r)}function br(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zr=!1;function pp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,br(e,n)}return i=r.interleaved,i===null?(t.next=t,hp(r)):(t.next=i.next,i.next=t),r.interleaved=t,br(e,n)}function ru(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zh(e,n)}}function Iy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Au(e,t,n,r){var i=e.updateQueue;zr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,d=c.next;c.next=null,s===null?o=d:s.next=d,s=c;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=c))}if(o!==null){var p=i.baseState;s=0,f=d=c=null,a=o;do{var m=a.lane,v=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,x=a;switch(m=t,v=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){p=b.call(v,p,m);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,m=typeof b=="function"?b.call(v,p,m):b,m==null)break e;p=at({},p,m);break e;case 2:zr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=v,c=p):f=f.next=v,s|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Mi|=s,e.lanes=s,e.memoizedState=p}}function Oy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var $l={},Xn=di($l),pl=di($l),ml=di($l);function ji(e){if(e===$l)throw Error(Y(174));return e}function mp(e,t){switch(et(ml,t),et(pl,e),et(Xn,$l),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ef(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ef(t,e)}nt(Xn),et(Xn,t)}function Ro(){nt(Xn),nt(pl),nt(ml)}function W0(e){ji(ml.current);var t=ji(Xn.current),n=Ef(t,e.type);t!==n&&(et(pl,e),et(Xn,n))}function yp(e){pl.current===e&&(nt(Xn),nt(pl))}var st=di(0);function Ru(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zd=[];function gp(){for(var e=0;e<zd.length;e++)zd[e]._workInProgressVersionPrimary=null;zd.length=0}var iu=xr.ReactCurrentDispatcher,$d=xr.ReactCurrentBatchConfig,Li=0,lt=null,gt=null,It=null,Lu=!1,Vs=!1,yl=0,Kx=0;function $t(){throw Error(Y(321))}function vp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function wp(e,t,n,r,i,o){if(Li=o,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,iu.current=e===null||e.memoizedState===null?qx:Gx,e=n(r,i),Vs){o=0;do{if(Vs=!1,yl=0,25<=o)throw Error(Y(301));o+=1,It=gt=null,t.updateQueue=null,iu.current=Yx,e=n(r,i)}while(Vs)}if(iu.current=Mu,t=gt!==null&&gt.next!==null,Li=0,It=gt=lt=null,Lu=!1,t)throw Error(Y(300));return e}function bp(){var e=yl!==0;return yl=0,e}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?lt.memoizedState=It=e:It=It.next=e,It}function Pn(){if(gt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=It===null?lt.memoizedState:It.next;if(t!==null)It=t,gt=e;else{if(e===null)throw Error(Y(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},It===null?lt.memoizedState=It=e:It=It.next=e}return It}function gl(e,t){return typeof t=="function"?t(e):t}function Fd(e){var t=Pn(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=gt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,c=null,d=o;do{var f=d.lane;if((Li&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=p,s=r):c=c.next=p,lt.lanes|=f,Mi|=f}d=d.next}while(d!==null&&d!==o);c===null?s=r:c.next=a,$n(r,t.memoizedState)||(Zt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,lt.lanes|=o,Mi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bd(e){var t=Pn(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);$n(o,t.memoizedState)||(Zt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function H0(){}function q0(e,t){var n=lt,r=Pn(),i=t(),o=!$n(r.memoizedState,i);if(o&&(r.memoizedState=i,Zt=!0),r=r.queue,kp(Q0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,vl(9,Y0.bind(null,n,r,i,t),void 0,null),jt===null)throw Error(Y(349));Li&30||G0(n,t,i)}return i}function G0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Y0(e,t,n,r){t.value=n,t.getSnapshot=r,J0(t)&&X0(e)}function Q0(e,t,n){return n(function(){J0(t)&&X0(e)})}function J0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch{return!0}}function X0(e){var t=br(e,1);t!==null&&zn(t,e,1,-1)}function jy(e){var t=qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:e},t.queue=e,e=e.dispatch=Hx.bind(null,lt,e),[t.memoizedState,e]}function vl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Z0(){return Pn().memoizedState}function ou(e,t,n,r){var i=qn();lt.flags|=e,i.memoizedState=vl(1|t,n,void 0,r===void 0?null:r)}function pc(e,t,n,r){var i=Pn();r=r===void 0?null:r;var o=void 0;if(gt!==null){var s=gt.memoizedState;if(o=s.destroy,r!==null&&vp(r,s.deps)){i.memoizedState=vl(t,n,o,r);return}}lt.flags|=e,i.memoizedState=vl(1|t,n,o,r)}function Ty(e,t){return ou(8390656,8,e,t)}function kp(e,t){return pc(2048,8,e,t)}function ew(e,t){return pc(4,2,e,t)}function tw(e,t){return pc(4,4,e,t)}function nw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rw(e,t,n){return n=n!=null?n.concat([e]):null,pc(4,4,nw.bind(null,t,e),n)}function _p(){}function iw(e,t){var n=Pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ow(e,t){var n=Pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sw(e,t,n){return Li&21?($n(n,t)||(n=d0(),lt.lanes|=n,Mi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zt=!0),e.memoizedState=n)}function Vx(e,t){var n=He;He=n!==0&&4>n?n:4,e(!0);var r=$d.transition;$d.transition={};try{e(!1),t()}finally{He=n,$d.transition=r}}function lw(){return Pn().memoizedState}function Wx(e,t,n){var r=Xr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aw(e))uw(t,n);else if(n=K0(e,t,n,r),n!==null){var i=Yt();zn(n,e,r,i),cw(n,t,r)}}function Hx(e,t,n){var r=Xr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aw(e))uw(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,$n(a,s)){var c=t.interleaved;c===null?(i.next=i,hp(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=K0(e,t,i,r),n!==null&&(i=Yt(),zn(n,e,r,i),cw(n,t,r))}}function aw(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function uw(e,t){Vs=Lu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zh(e,n)}}var Mu={readContext:Nn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},qx={readContext:Nn,useCallback:function(e,t){return qn().memoizedState=[e,t===void 0?null:t],e},useContext:Nn,useEffect:Ty,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ou(4194308,4,nw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ou(4194308,4,e,t)},useInsertionEffect:function(e,t){return ou(4,2,e,t)},useMemo:function(e,t){var n=qn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wx.bind(null,lt,e),[r.memoizedState,e]},useRef:function(e){var t=qn();return e={current:e},t.memoizedState=e},useState:jy,useDebugValue:_p,useDeferredValue:function(e){return qn().memoizedState=e},useTransition:function(){var e=jy(!1),t=e[0];return e=Vx.bind(null,e[1]),qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lt,i=qn();if(ot){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),jt===null)throw Error(Y(349));Li&30||G0(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ty(Q0.bind(null,r,o,e),[e]),r.flags|=2048,vl(9,Y0.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=qn(),t=jt.identifierPrefix;if(ot){var n=hr,r=fr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Kx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gx={readContext:Nn,useCallback:iw,useContext:Nn,useEffect:kp,useImperativeHandle:rw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:ow,useReducer:Fd,useRef:Z0,useState:function(){return Fd(gl)},useDebugValue:_p,useDeferredValue:function(e){var t=Pn();return sw(t,gt.memoizedState,e)},useTransition:function(){var e=Fd(gl)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:H0,useSyncExternalStore:q0,useId:lw,unstable_isNewReconciler:!1},Yx={readContext:Nn,useCallback:iw,useContext:Nn,useEffect:kp,useImperativeHandle:rw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:ow,useReducer:Bd,useRef:Z0,useState:function(){return Bd(gl)},useDebugValue:_p,useDeferredValue:function(e){var t=Pn();return gt===null?t.memoizedState=e:sw(t,gt.memoizedState,e)},useTransition:function(){var e=Bd(gl)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:H0,useSyncExternalStore:q0,useId:lw,unstable_isNewReconciler:!1};function An(e,t){if(e&&e.defaultProps){t=at({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:at({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mc={isMounted:function(e){return(e=e._reactInternals)?Wi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yt(),i=Xr(e),o=mr(r,i);o.payload=t,n!=null&&(o.callback=n),t=Qr(e,o,i),t!==null&&(zn(t,e,i,r),ru(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yt(),i=Xr(e),o=mr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Qr(e,o,i),t!==null&&(zn(t,e,i,r),ru(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yt(),r=Xr(e),i=mr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Qr(e,i,r),t!==null&&(zn(t,e,r,n),ru(t,e,r))}};function Ny(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!cl(n,r)||!cl(i,o):!0}function dw(e,t,n){var r=!1,i=si,o=t.contextType;return typeof o=="object"&&o!==null?o=Nn(o):(i=nn(t)?Ai:Ht.current,r=t.contextTypes,o=(r=r!=null)?Po(e,i):si),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Py(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mc.enqueueReplaceState(t,t.state,null)}function qf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},pp(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Nn(o):(o=nn(t)?Ai:Ht.current,i.context=Po(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Hf(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&mc.enqueueReplaceState(i,i.state,null),Au(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Lo(e,t){try{var n="",r=t;do n+=x1(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Kd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qx=typeof WeakMap=="function"?WeakMap:Map;function fw(e,t,n){n=mr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zu||(zu=!0,ih=r),Gf(e,t)},n}function hw(e,t,n){n=mr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Gf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gf(e,t),typeof r!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Dy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Qx;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=cS.bind(null,e,t,n),t.then(e,e))}function Ay(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ry(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mr(-1,1),t.tag=2,Qr(n,t,1))),n.lanes|=1),e)}var Jx=xr.ReactCurrentOwner,Zt=!1;function Gt(e,t,n,r){t.child=e===null?B0(t,null,n,r):Ao(t,e.child,n,r)}function Ly(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=wp(e,t,n,r,o,i),n=bp(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kr(e,t,i)):(ot&&n&&lp(t),t.flags|=1,Gt(e,t,r,i),t.child)}function My(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Tp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,pw(e,t,o,r,i)):(e=uu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:cl,n(s,r)&&e.ref===t.ref)return kr(e,t,i)}return t.flags|=1,e=Zr(o,r),e.ref=t.ref,e.return=t,t.child=e}function pw(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(cl(o,r)&&e.ref===t.ref)if(Zt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Zt=!0);else return t.lanes=e.lanes,kr(e,t,i)}return Yf(e,t,n,r,i)}function mw(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(wo,un),un|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(wo,un),un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,et(wo,un),un|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,et(wo,un),un|=r;return Gt(e,t,i,n),t.child}function yw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yf(e,t,n,r,i){var o=nn(n)?Ai:Ht.current;return o=Po(t,o),Eo(t,i),n=wp(e,t,n,r,o,i),r=bp(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kr(e,t,i)):(ot&&r&&lp(t),t.flags|=1,Gt(e,t,n,i),t.child)}function Uy(e,t,n,r,i){if(nn(n)){var o=!0;ju(t)}else o=!1;if(Eo(t,i),t.stateNode===null)su(e,t),dw(t,n,r),qf(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=Nn(d):(d=nn(n)?Ai:Ht.current,d=Po(t,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==d)&&Py(t,s,r,d),zr=!1;var m=t.memoizedState;s.state=m,Au(t,r,s,i),c=t.memoizedState,a!==r||m!==c||tn.current||zr?(typeof f=="function"&&(Hf(t,n,f,r),c=t.memoizedState),(a=zr||Ny(t,n,a,r,m,c,d))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=d,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,V0(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:An(t.type,a),s.props=d,p=t.pendingProps,m=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nn(c):(c=nn(n)?Ai:Ht.current,c=Po(t,c));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==c)&&Py(t,s,r,c),zr=!1,m=t.memoizedState,s.state=m,Au(t,r,s,i);var b=t.memoizedState;a!==p||m!==b||tn.current||zr?(typeof v=="function"&&(Hf(t,n,v,r),b=t.memoizedState),(d=zr||Ny(t,n,d,r,m,b,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,b,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,b,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),s.props=r,s.state=b,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Qf(e,t,n,r,o,i)}function Qf(e,t,n,r,i,o){yw(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&xy(t,n,!1),kr(e,t,o);r=t.stateNode,Jx.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,a,o)):Gt(e,t,a,o),t.memoizedState=r.state,i&&xy(t,n,!0),t.child}function gw(e){var t=e.stateNode;t.pendingContext?_y(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_y(e,t.context,!1),mp(e,t.containerInfo)}function zy(e,t,n,r,i){return Do(),up(i),t.flags|=256,Gt(e,t,n,r),t.child}var Jf={dehydrated:null,treeContext:null,retryLane:0};function Xf(e){return{baseLanes:e,cachePool:null,transitions:null}}function vw(e,t,n){var r=t.pendingProps,i=st.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),et(st,i&1),e===null)return Vf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=vc(s,r,0,null),e=Pi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Xf(n),t.memoizedState=Jf,e):xp(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Xx(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Zr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Zr(a,o):(o=Pi(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Xf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Jf,r}return o=e.child,e=o.sibling,r=Zr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xp(e,t){return t=vc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ma(e,t,n,r){return r!==null&&up(r),Ao(t,e.child,null,n),e=xp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xx(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Kd(Error(Y(422))),Ma(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=vc({mode:"visible",children:r.children},i,0,null),o=Pi(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ao(t,e.child,null,s),t.child.memoizedState=Xf(s),t.memoizedState=Jf,o);if(!(t.mode&1))return Ma(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Y(419)),r=Kd(o,r,void 0),Ma(e,t,s,r)}if(a=(s&e.childLanes)!==0,Zt||a){if(r=jt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,br(e,i),zn(r,e,i,-1))}return jp(),r=Kd(Error(Y(421))),Ma(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=dS.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,dn=Yr(i.nextSibling),hn=t,ot=!0,Ln=null,e!==null&&(xn[Sn++]=fr,xn[Sn++]=hr,xn[Sn++]=Ri,fr=e.id,hr=e.overflow,Ri=t),t=xp(t,r.children),t.flags|=4096,t)}function $y(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wf(e.return,t,n)}function Vd(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ww(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Gt(e,t,r.children,n),r=st.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$y(e,n,t);else if(e.tag===19)$y(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(et(st,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ru(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vd(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ru(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vd(t,!0,n,null,o);break;case"together":Vd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function su(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=Zr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zx(e,t,n){switch(t.tag){case 3:gw(t),Do();break;case 5:W0(t);break;case 1:nn(t.type)&&ju(t);break;case 4:mp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;et(Pu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(et(st,st.current&1),t.flags|=128,null):n&t.child.childLanes?vw(e,t,n):(et(st,st.current&1),e=kr(e,t,n),e!==null?e.sibling:null);et(st,st.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ww(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(st,st.current),r)break;return null;case 22:case 23:return t.lanes=0,mw(e,t,n)}return kr(e,t,n)}var bw,Zf,kw,_w;bw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zf=function(){};kw=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ji(Xn.current);var o=null;switch(n){case"input":i=kf(e,i),r=kf(e,r),o=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),o=[];break;case"textarea":i=Sf(e,i),r=Sf(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Iu)}Cf(n,r);var s;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(rl.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(a=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(rl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&tt("scroll",e),o||a===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};_w=function(e,t,n,r){n!==r&&(t.flags|=4)};function Cs(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function eS(e,t,n){var r=t.pendingProps;switch(ap(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(t),null;case 1:return nn(t.type)&&Ou(),Ft(t),null;case 3:return r=t.stateNode,Ro(),nt(tn),nt(Ht),gp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ra(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ln!==null&&(lh(Ln),Ln=null))),Zf(e,t),Ft(t),null;case 5:yp(t);var i=ji(ml.current);if(n=t.type,e!==null&&t.stateNode!=null)kw(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return Ft(t),null}if(e=ji(Xn.current),Ra(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Yn]=t,r[hl]=o,e=(t.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(i=0;i<Ms.length;i++)tt(Ms[i],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":Ym(r,o),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},tt("invalid",r);break;case"textarea":Jm(r,o),tt("invalid",r)}Cf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Aa(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Aa(r.textContent,a,e),i=["children",""+a]):rl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&tt("scroll",r)}switch(n){case"input":Ca(r),Qm(r,o,!0);break;case"textarea":Ca(r),Xm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Iu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Yn]=t,e[hl]=r,bw(e,t,!1,!1),t.stateNode=e;e:{switch(s=If(n,r),n){case"dialog":tt("cancel",e),tt("close",e),i=r;break;case"iframe":case"object":case"embed":tt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ms.length;i++)tt(Ms[i],e);i=r;break;case"source":tt("error",e),i=r;break;case"img":case"image":case"link":tt("error",e),tt("load",e),i=r;break;case"details":tt("toggle",e),i=r;break;case"input":Ym(e,r),i=kf(e,r),tt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),tt("invalid",e);break;case"textarea":Jm(e,r),i=Sf(e,r),tt("invalid",e);break;default:i=r}Cf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?Zv(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Jv(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&il(e,c):typeof c=="number"&&il(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rl.hasOwnProperty(o)?c!=null&&o==="onScroll"&&tt("scroll",e):c!=null&&qh(e,o,c,s))}switch(n){case"input":Ca(e),Qm(e,r,!1);break;case"textarea":Ca(e),Xm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+oi(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ko(e,!!r.multiple,o,!1):r.defaultValue!=null&&ko(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Iu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ft(t),null;case 6:if(e&&t.stateNode!=null)_w(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Y(166));if(n=ji(ml.current),ji(Xn.current),Ra(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yn]=t,(o=r.nodeValue!==n)&&(e=hn,e!==null))switch(e.tag){case 3:Aa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Aa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yn]=t,t.stateNode=r}return Ft(t),null;case 13:if(nt(st),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&dn!==null&&t.mode&1&&!(t.flags&128))$0(),Do(),t.flags|=98560,o=!1;else if(o=Ra(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Y(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[Yn]=t}else Do(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ft(t),o=!1}else Ln!==null&&(lh(Ln),Ln=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?wt===0&&(wt=3):jp())),t.updateQueue!==null&&(t.flags|=4),Ft(t),null);case 4:return Ro(),Zf(e,t),e===null&&dl(t.stateNode.containerInfo),Ft(t),null;case 10:return fp(t.type._context),Ft(t),null;case 17:return nn(t.type)&&Ou(),Ft(t),null;case 19:if(nt(st),o=t.memoizedState,o===null)return Ft(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Cs(o,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ru(e),s!==null){for(t.flags|=128,Cs(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return et(st,st.current&1|2),t.child}e=e.sibling}o.tail!==null&&ht()>Mo&&(t.flags|=128,r=!0,Cs(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ru(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ot)return Ft(t),null}else 2*ht()-o.renderingStartTime>Mo&&n!==1073741824&&(t.flags|=128,r=!0,Cs(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ht(),t.sibling=null,n=st.current,et(st,r?n&1|2:n&1),t):(Ft(t),null);case 22:case 23:return Op(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?un&1073741824&&(Ft(t),t.subtreeFlags&6&&(t.flags|=8192)):Ft(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function tS(e,t){switch(ap(t),t.tag){case 1:return nn(t.type)&&Ou(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ro(),nt(tn),nt(Ht),gp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yp(t),null;case 13:if(nt(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Do()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(st),null;case 4:return Ro(),null;case 10:return fp(t.type._context),null;case 22:case 23:return Op(),null;case 24:return null;default:return null}}var Ua=!1,Kt=!1,nS=typeof WeakSet=="function"?WeakSet:Set,pe=null;function vo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(e,t,r)}else n.current=null}function eh(e,t,n){try{n()}catch(r){ct(e,t,r)}}var Fy=!1;function rS(e,t){if(Mf=Su,e=I0(),sp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,d=0,f=0,p=e,m=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(a=s+i),p!==o||r!==0&&p.nodeType!==3||(c=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===e)break t;if(m===n&&++d===i&&(a=s),m===o&&++f===r&&(c=s),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uf={focusedElem:e,selectionRange:n},Su=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,P=b.memoizedState,E=t.stateNode,k=E.getSnapshotBeforeUpdate(t.elementType===t.type?x:An(t.type,x),P);E.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(M){ct(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return b=Fy,Fy=!1,b}function Ws(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&eh(t,n,o)}i=i.next}while(i!==r)}}function yc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function th(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xw(e){var t=e.alternate;t!==null&&(e.alternate=null,xw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yn],delete t[hl],delete t[Ff],delete t[zx],delete t[$x])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sw(e){return e.tag===5||e.tag===3||e.tag===4}function By(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Iu));else if(r!==4&&(e=e.child,e!==null))for(nh(e,t,n),e=e.sibling;e!==null;)nh(e,t,n),e=e.sibling}function rh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(rh(e,t,n),e=e.sibling;e!==null;)rh(e,t,n),e=e.sibling}var Tt=null,Rn=!1;function Lr(e,t,n){for(n=n.child;n!==null;)Ew(e,t,n),n=n.sibling}function Ew(e,t,n){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(ac,n)}catch{}switch(n.tag){case 5:Kt||vo(n,t);case 6:var r=Tt,i=Rn;Tt=null,Lr(e,t,n),Tt=r,Rn=i,Tt!==null&&(Rn?(e=Tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Rn?(e=Tt,n=n.stateNode,e.nodeType===8?Md(e.parentNode,n):e.nodeType===1&&Md(e,n),al(e)):Md(Tt,n.stateNode));break;case 4:r=Tt,i=Rn,Tt=n.stateNode.containerInfo,Rn=!0,Lr(e,t,n),Tt=r,Rn=i;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&eh(n,t,s),i=i.next}while(i!==r)}Lr(e,t,n);break;case 1:if(!Kt&&(vo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,t,a)}Lr(e,t,n);break;case 21:Lr(e,t,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,Lr(e,t,n),Kt=r):Lr(e,t,n);break;default:Lr(e,t,n)}}function Ky(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new nS),t.forEach(function(r){var i=fS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,Rn=!1;break e;case 3:Tt=a.stateNode.containerInfo,Rn=!0;break e;case 4:Tt=a.stateNode.containerInfo,Rn=!0;break e}a=a.return}if(Tt===null)throw Error(Y(160));Ew(o,s,i),Tt=null,Rn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ct(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cw(t,e),t=t.sibling}function Cw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dn(t,e),Wn(e),r&4){try{Ws(3,e,e.return),yc(3,e)}catch(x){ct(e,e.return,x)}try{Ws(5,e,e.return)}catch(x){ct(e,e.return,x)}}break;case 1:Dn(t,e),Wn(e),r&512&&n!==null&&vo(n,n.return);break;case 5:if(Dn(t,e),Wn(e),r&512&&n!==null&&vo(n,n.return),e.flags&32){var i=e.stateNode;try{il(i,"")}catch(x){ct(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Gv(i,o),If(a,s);var d=If(a,o);for(s=0;s<c.length;s+=2){var f=c[s],p=c[s+1];f==="style"?Zv(i,p):f==="dangerouslySetInnerHTML"?Jv(i,p):f==="children"?il(i,p):qh(i,f,p,d)}switch(a){case"input":_f(i,o);break;case"textarea":Yv(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?ko(i,!!o.multiple,v,!1):m!==!!o.multiple&&(o.defaultValue!=null?ko(i,!!o.multiple,o.defaultValue,!0):ko(i,!!o.multiple,o.multiple?[]:"",!1))}i[hl]=o}catch(x){ct(e,e.return,x)}}break;case 6:if(Dn(t,e),Wn(e),r&4){if(e.stateNode===null)throw Error(Y(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(x){ct(e,e.return,x)}}break;case 3:if(Dn(t,e),Wn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{al(t.containerInfo)}catch(x){ct(e,e.return,x)}break;case 4:Dn(t,e),Wn(e);break;case 13:Dn(t,e),Wn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Cp=ht())),r&4&&Ky(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Kt=(d=Kt)||f,Dn(t,e),Kt=d):Dn(t,e),Wn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(pe=e,f=e.child;f!==null;){for(p=pe=f;pe!==null;){switch(m=pe,v=m.child,m.tag){case 0:case 11:case 14:case 15:Ws(4,m,m.return);break;case 1:vo(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){ct(r,n,x)}}break;case 5:vo(m,m.return);break;case 22:if(m.memoizedState!==null){Wy(p);continue}}v!==null?(v.return=m,pe=v):Wy(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=p.stateNode,c=p.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Xv("display",s))}catch(x){ct(e,e.return,x)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(x){ct(e,e.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Dn(t,e),Wn(e),r&4&&Ky(e);break;case 21:break;default:Dn(t,e),Wn(e)}}function Wn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sw(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(il(i,""),r.flags&=-33);var o=By(e);rh(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=By(e);nh(e,a,s);break;default:throw Error(Y(161))}}catch(c){ct(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iS(e,t,n){pe=e,Iw(e)}function Iw(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var i=pe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ua;if(!s){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Kt;a=Ua;var d=Kt;if(Ua=s,(Kt=c)&&!d)for(pe=i;pe!==null;)s=pe,c=s.child,s.tag===22&&s.memoizedState!==null?Hy(i):c!==null?(c.return=s,pe=c):Hy(i);for(;o!==null;)pe=o,Iw(o),o=o.sibling;pe=i,Ua=a,Kt=d}Vy(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,pe=o):Vy(e)}}function Vy(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kt||yc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:An(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Oy(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Oy(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&al(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Kt||t.flags&512&&th(t)}catch(m){ct(t,t.return,m)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Wy(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Hy(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yc(4,t)}catch(c){ct(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){ct(t,i,c)}}var o=t.return;try{th(t)}catch(c){ct(t,o,c)}break;case 5:var s=t.return;try{th(t)}catch(c){ct(t,s,c)}}}catch(c){ct(t,t.return,c)}if(t===e){pe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,pe=a;break}pe=t.return}}var oS=Math.ceil,Uu=xr.ReactCurrentDispatcher,Sp=xr.ReactCurrentOwner,Tn=xr.ReactCurrentBatchConfig,$e=0,jt=null,pt=null,At=0,un=0,wo=di(0),wt=0,wl=null,Mi=0,gc=0,Ep=0,Hs=null,Xt=null,Cp=0,Mo=1/0,cr=null,zu=!1,ih=null,Jr=null,za=!1,Kr=null,$u=0,qs=0,oh=null,lu=-1,au=0;function Yt(){return $e&6?ht():lu!==-1?lu:lu=ht()}function Xr(e){return e.mode&1?$e&2&&At!==0?At&-At:Bx.transition!==null?(au===0&&(au=d0()),au):(e=He,e!==0||(e=window.event,e=e===void 0?16:v0(e.type)),e):1}function zn(e,t,n,r){if(50<qs)throw qs=0,oh=null,Error(Y(185));Ml(e,n,r),(!($e&2)||e!==jt)&&(e===jt&&(!($e&2)&&(gc|=n),wt===4&&Fr(e,At)),rn(e,r),n===1&&$e===0&&!(t.mode&1)&&(Mo=ht()+500,hc&&fi()))}function rn(e,t){var n=e.callbackNode;B1(e,t);var r=xu(e,e===jt?At:0);if(r===0)n!==null&&ty(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ty(n),t===1)e.tag===0?Fx(qy.bind(null,e)):M0(qy.bind(null,e)),Mx(function(){!($e&6)&&fi()}),n=null;else{switch(f0(r)){case 1:n=Xh;break;case 4:n=u0;break;case 16:n=_u;break;case 536870912:n=c0;break;default:n=_u}n=Rw(n,Ow.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ow(e,t){if(lu=-1,au=0,$e&6)throw Error(Y(327));var n=e.callbackNode;if(Co()&&e.callbackNode!==n)return null;var r=xu(e,e===jt?At:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fu(e,r);else{t=r;var i=$e;$e|=2;var o=Tw();(jt!==e||At!==t)&&(cr=null,Mo=ht()+500,Ni(e,t));do try{aS();break}catch(a){jw(e,a)}while(!0);dp(),Uu.current=o,$e=i,pt!==null?t=0:(jt=null,At=0,t=wt)}if(t!==0){if(t===2&&(i=Pf(e),i!==0&&(r=i,t=sh(e,i))),t===1)throw n=wl,Ni(e,0),Fr(e,r),rn(e,ht()),n;if(t===6)Fr(e,r);else{if(i=e.current.alternate,!(r&30)&&!sS(i)&&(t=Fu(e,r),t===2&&(o=Pf(e),o!==0&&(r=o,t=sh(e,o))),t===1))throw n=wl,Ni(e,0),Fr(e,r),rn(e,ht()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Y(345));case 2:Ci(e,Xt,cr);break;case 3:if(Fr(e,r),(r&130023424)===r&&(t=Cp+500-ht(),10<t)){if(xu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Yt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$f(Ci.bind(null,e,Xt,cr),t);break}Ci(e,Xt,cr);break;case 4:if(Fr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Un(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oS(r/1960))-r,10<r){e.timeoutHandle=$f(Ci.bind(null,e,Xt,cr),r);break}Ci(e,Xt,cr);break;case 5:Ci(e,Xt,cr);break;default:throw Error(Y(329))}}}return rn(e,ht()),e.callbackNode===n?Ow.bind(null,e):null}function sh(e,t){var n=Hs;return e.current.memoizedState.isDehydrated&&(Ni(e,t).flags|=256),e=Fu(e,t),e!==2&&(t=Xt,Xt=n,t!==null&&lh(t)),e}function lh(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function sS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$n(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fr(e,t){for(t&=~Ep,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Un(t),r=1<<n;e[n]=-1,t&=~r}}function qy(e){if($e&6)throw Error(Y(327));Co();var t=xu(e,0);if(!(t&1))return rn(e,ht()),null;var n=Fu(e,t);if(e.tag!==0&&n===2){var r=Pf(e);r!==0&&(t=r,n=sh(e,r))}if(n===1)throw n=wl,Ni(e,0),Fr(e,t),rn(e,ht()),n;if(n===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ci(e,Xt,cr),rn(e,ht()),null}function Ip(e,t){var n=$e;$e|=1;try{return e(t)}finally{$e=n,$e===0&&(Mo=ht()+500,hc&&fi())}}function Ui(e){Kr!==null&&Kr.tag===0&&!($e&6)&&Co();var t=$e;$e|=1;var n=Tn.transition,r=He;try{if(Tn.transition=null,He=1,e)return e()}finally{He=r,Tn.transition=n,$e=t,!($e&6)&&fi()}}function Op(){un=wo.current,nt(wo)}function Ni(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lx(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(ap(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ou();break;case 3:Ro(),nt(tn),nt(Ht),gp();break;case 5:yp(r);break;case 4:Ro();break;case 13:nt(st);break;case 19:nt(st);break;case 10:fp(r.type._context);break;case 22:case 23:Op()}n=n.return}if(jt=e,pt=e=Zr(e.current,null),At=un=t,wt=0,wl=null,Ep=gc=Mi=0,Xt=Hs=null,Oi!==null){for(t=0;t<Oi.length;t++)if(n=Oi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Oi=null}return e}function jw(e,t){do{var n=pt;try{if(dp(),iu.current=Mu,Lu){for(var r=lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lu=!1}if(Li=0,It=gt=lt=null,Vs=!1,yl=0,Sp.current=null,n===null||n.return===null){wt=1,wl=t,pt=null;break}e:{var o=e,s=n.return,a=n,c=t;if(t=At,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Ay(s);if(v!==null){v.flags&=-257,Ry(v,s,a,o,t),v.mode&1&&Dy(o,d,t),t=v,c=d;var b=t.updateQueue;if(b===null){var x=new Set;x.add(c),t.updateQueue=x}else b.add(c);break e}else{if(!(t&1)){Dy(o,d,t),jp();break e}c=Error(Y(426))}}else if(ot&&a.mode&1){var P=Ay(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Ry(P,s,a,o,t),up(Lo(c,a));break e}}o=c=Lo(c,a),wt!==4&&(wt=2),Hs===null?Hs=[o]:Hs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var E=fw(o,c,t);Iy(o,E);break e;case 1:a=c;var k=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof k.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Jr===null||!Jr.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var M=hw(o,a,t);Iy(o,M);break e}}o=o.return}while(o!==null)}Pw(n)}catch(K){t=K,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function Tw(){var e=Uu.current;return Uu.current=Mu,e===null?Mu:e}function jp(){(wt===0||wt===3||wt===2)&&(wt=4),jt===null||!(Mi&268435455)&&!(gc&268435455)||Fr(jt,At)}function Fu(e,t){var n=$e;$e|=2;var r=Tw();(jt!==e||At!==t)&&(cr=null,Ni(e,t));do try{lS();break}catch(i){jw(e,i)}while(!0);if(dp(),$e=n,Uu.current=r,pt!==null)throw Error(Y(261));return jt=null,At=0,wt}function lS(){for(;pt!==null;)Nw(pt)}function aS(){for(;pt!==null&&!D1();)Nw(pt)}function Nw(e){var t=Aw(e.alternate,e,un);e.memoizedProps=e.pendingProps,t===null?Pw(e):pt=t,Sp.current=null}function Pw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=tS(n,t),n!==null){n.flags&=32767,pt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,pt=null;return}}else if(n=eS(n,t,un),n!==null){pt=n;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);wt===0&&(wt=5)}function Ci(e,t,n){var r=He,i=Tn.transition;try{Tn.transition=null,He=1,uS(e,t,n,r)}finally{Tn.transition=i,He=r}return null}function uS(e,t,n,r){do Co();while(Kr!==null);if($e&6)throw Error(Y(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(K1(e,o),e===jt&&(pt=jt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||za||(za=!0,Rw(_u,function(){return Co(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Tn.transition,Tn.transition=null;var s=He;He=1;var a=$e;$e|=4,Sp.current=null,rS(e,n),Cw(n,e),jx(Uf),Su=!!Mf,Uf=Mf=null,e.current=n,iS(n),A1(),$e=a,He=s,Tn.transition=o}else e.current=n;if(za&&(za=!1,Kr=e,$u=i),o=e.pendingLanes,o===0&&(Jr=null),M1(n.stateNode),rn(e,ht()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zu)throw zu=!1,e=ih,ih=null,e;return $u&1&&e.tag!==0&&Co(),o=e.pendingLanes,o&1?e===oh?qs++:(qs=0,oh=e):qs=0,fi(),null}function Co(){if(Kr!==null){var e=f0($u),t=Tn.transition,n=He;try{if(Tn.transition=null,He=16>e?16:e,Kr===null)var r=!1;else{if(e=Kr,Kr=null,$u=0,$e&6)throw Error(Y(331));var i=$e;for($e|=4,pe=e.current;pe!==null;){var o=pe,s=o.child;if(pe.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(pe=d;pe!==null;){var f=pe;switch(f.tag){case 0:case 11:case 15:Ws(8,f,o)}var p=f.child;if(p!==null)p.return=f,pe=p;else for(;pe!==null;){f=pe;var m=f.sibling,v=f.return;if(xw(f),f===d){pe=null;break}if(m!==null){m.return=v,pe=m;break}pe=v}}}var b=o.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var P=x.sibling;x.sibling=null,x=P}while(x!==null)}}pe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,pe=s;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ws(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,pe=E;break e}pe=o.return}}var k=e.current;for(pe=k;pe!==null;){s=pe;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,pe=_;else e:for(s=k;pe!==null;){if(a=pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yc(9,a)}}catch(K){ct(a,a.return,K)}if(a===s){pe=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,pe=M;break e}pe=a.return}}if($e=i,fi(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(ac,e)}catch{}r=!0}return r}finally{He=n,Tn.transition=t}}return!1}function Gy(e,t,n){t=Lo(n,t),t=fw(e,t,1),e=Qr(e,t,1),t=Yt(),e!==null&&(Ml(e,1,t),rn(e,t))}function ct(e,t,n){if(e.tag===3)Gy(e,e,n);else for(;t!==null;){if(t.tag===3){Gy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jr===null||!Jr.has(r))){e=Lo(n,e),e=hw(t,e,1),t=Qr(t,e,1),e=Yt(),t!==null&&(Ml(t,1,e),rn(t,e));break}}t=t.return}}function cS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Yt(),e.pingedLanes|=e.suspendedLanes&n,jt===e&&(At&n)===n&&(wt===4||wt===3&&(At&130023424)===At&&500>ht()-Cp?Ni(e,0):Ep|=n),rn(e,t)}function Dw(e,t){t===0&&(e.mode&1?(t=ja,ja<<=1,!(ja&130023424)&&(ja=4194304)):t=1);var n=Yt();e=br(e,t),e!==null&&(Ml(e,t,n),rn(e,n))}function dS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dw(e,n)}function fS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(t),Dw(e,n)}var Aw;Aw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tn.current)Zt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Zt=!1,Zx(e,t,n);Zt=!!(e.flags&131072)}else Zt=!1,ot&&t.flags&1048576&&U0(t,Nu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;su(e,t),e=t.pendingProps;var i=Po(t,Ht.current);Eo(t,n),i=wp(null,t,r,e,i,n);var o=bp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nn(r)?(o=!0,ju(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pp(t),i.updater=mc,t.stateNode=i,i._reactInternals=t,qf(t,r,e,n),t=Qf(null,t,r,!0,o,n)):(t.tag=0,ot&&o&&lp(t),Gt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(su(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=pS(r),e=An(r,e),i){case 0:t=Yf(null,t,r,e,n);break e;case 1:t=Uy(null,t,r,e,n);break e;case 11:t=Ly(null,t,r,e,n);break e;case 14:t=My(null,t,r,An(r.type,e),n);break e}throw Error(Y(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:An(r,i),Yf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:An(r,i),Uy(e,t,r,i,n);case 3:e:{if(gw(t),e===null)throw Error(Y(387));r=t.pendingProps,o=t.memoizedState,i=o.element,V0(e,t),Au(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Lo(Error(Y(423)),t),t=zy(e,t,r,n,i);break e}else if(r!==i){i=Lo(Error(Y(424)),t),t=zy(e,t,r,n,i);break e}else for(dn=Yr(t.stateNode.containerInfo.firstChild),hn=t,ot=!0,Ln=null,n=B0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Do(),r===i){t=kr(e,t,n);break e}Gt(e,t,r,n)}t=t.child}return t;case 5:return W0(t),e===null&&Vf(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,zf(r,i)?s=null:o!==null&&zf(r,o)&&(t.flags|=32),yw(e,t),Gt(e,t,s,n),t.child;case 6:return e===null&&Vf(t),null;case 13:return vw(e,t,n);case 4:return mp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ao(t,null,r,n):Gt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:An(r,i),Ly(e,t,r,i,n);case 7:return Gt(e,t,t.pendingProps,n),t.child;case 8:return Gt(e,t,t.pendingProps.children,n),t.child;case 12:return Gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,et(Pu,r._currentValue),r._currentValue=s,o!==null)if($n(o.value,s)){if(o.children===i.children&&!tn.current){t=kr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=mr(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Wf(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Y(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Wf(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Gt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eo(t,n),i=Nn(i),r=r(i),t.flags|=1,Gt(e,t,r,n),t.child;case 14:return r=t.type,i=An(r,t.pendingProps),i=An(r.type,i),My(e,t,r,i,n);case 15:return pw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:An(r,i),su(e,t),t.tag=1,nn(r)?(e=!0,ju(t)):e=!1,Eo(t,n),dw(t,r,i),qf(t,r,i,n),Qf(null,t,r,!0,e,n);case 19:return ww(e,t,n);case 22:return mw(e,t,n)}throw Error(Y(156,t.tag))};function Rw(e,t){return a0(e,t)}function hS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,t,n,r){return new hS(e,t,n,r)}function Tp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pS(e){if(typeof e=="function")return Tp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yh)return 11;if(e===Qh)return 14}return 2}function Zr(e,t){var n=e.alternate;return n===null?(n=jn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function uu(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Tp(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ao:return Pi(n.children,i,o,t);case Gh:s=8,i|=8;break;case gf:return e=jn(12,n,t,i|2),e.elementType=gf,e.lanes=o,e;case vf:return e=jn(13,n,t,i),e.elementType=vf,e.lanes=o,e;case wf:return e=jn(19,n,t,i),e.elementType=wf,e.lanes=o,e;case Wv:return vc(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kv:s=10;break e;case Vv:s=9;break e;case Yh:s=11;break e;case Qh:s=14;break e;case Ur:s=16,r=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=jn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Pi(e,t,n,r){return e=jn(7,e,r,t),e.lanes=n,e}function vc(e,t,n,r){return e=jn(22,e,r,t),e.elementType=Wv,e.lanes=n,e.stateNode={isHidden:!1},e}function Wd(e,t,n){return e=jn(6,e,null,t),e.lanes=n,e}function Hd(e,t,n){return t=jn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cd(0),this.expirationTimes=Cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Np(e,t,n,r,i,o,s,a,c){return e=new mS(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=jn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pp(o),e}function yS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lw(e){if(!e)return si;e=e._reactInternals;e:{if(Wi(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var n=e.type;if(nn(n))return L0(e,n,t)}return t}function Mw(e,t,n,r,i,o,s,a,c){return e=Np(n,r,!0,e,i,o,s,a,c),e.context=Lw(null),n=e.current,r=Yt(),i=Xr(n),o=mr(r,i),o.callback=t??null,Qr(n,o,i),e.current.lanes=i,Ml(e,i,r),rn(e,r),e}function wc(e,t,n,r){var i=t.current,o=Yt(),s=Xr(i);return n=Lw(n),t.context===null?t.context=n:t.pendingContext=n,t=mr(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qr(i,t,s),e!==null&&(zn(e,i,s,o),ru(e,i,s)),s}function Bu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pp(e,t){Yy(e,t),(e=e.alternate)&&Yy(e,t)}function gS(){return null}var Uw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dp(e){this._internalRoot=e}bc.prototype.render=Dp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));wc(e,t,null,null)};bc.prototype.unmount=Dp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ui(function(){wc(null,e,null,null)}),t[wr]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var t=m0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$r.length&&t!==0&&t<$r[n].priority;n++);$r.splice(n,0,e),n===0&&g0(e)}};function Ap(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qy(){}function vS(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=Bu(s);o.call(d)}}var s=Mw(t,r,e,0,null,!1,!1,"",Qy);return e._reactRootContainer=s,e[wr]=s.current,dl(e.nodeType===8?e.parentNode:e),Ui(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var d=Bu(c);a.call(d)}}var c=Np(e,0,!1,null,null,!1,!1,"",Qy);return e._reactRootContainer=c,e[wr]=c.current,dl(e.nodeType===8?e.parentNode:e),Ui(function(){wc(t,c,n,r)}),c}function _c(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var c=Bu(s);a.call(c)}}wc(t,s,e,i)}else s=vS(n,t,e,i,r);return Bu(s)}h0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ls(t.pendingLanes);n!==0&&(Zh(t,n|1),rn(t,ht()),!($e&6)&&(Mo=ht()+500,fi()))}break;case 13:Ui(function(){var r=br(e,1);if(r!==null){var i=Yt();zn(r,e,1,i)}}),Pp(e,1)}};ep=function(e){if(e.tag===13){var t=br(e,134217728);if(t!==null){var n=Yt();zn(t,e,134217728,n)}Pp(e,134217728)}};p0=function(e){if(e.tag===13){var t=Xr(e),n=br(e,t);if(n!==null){var r=Yt();zn(n,e,t,r)}Pp(e,t)}};m0=function(){return He};y0=function(e,t){var n=He;try{return He=e,t()}finally{He=n}};jf=function(e,t,n){switch(t){case"input":if(_f(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=fc(r);if(!i)throw Error(Y(90));qv(r),_f(r,i)}}}break;case"textarea":Yv(e,n);break;case"select":t=n.value,t!=null&&ko(e,!!n.multiple,t,!1)}};n0=Ip;r0=Ui;var wS={usingClientEntryPoint:!1,Events:[zl,ho,fc,e0,t0,Ip]},Is={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bS={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=s0(e),e===null?null:e.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||gS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{ac=$a.inject(bS),Jn=$a}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wS;vn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ap(t))throw Error(Y(200));return yS(e,t,null,n)};vn.createRoot=function(e,t){if(!Ap(e))throw Error(Y(299));var n=!1,r="",i=Uw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Np(e,1,!1,null,null,n,!1,r,i),e[wr]=t.current,dl(e.nodeType===8?e.parentNode:e),new Dp(t)};vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=s0(t),e=e===null?null:e.stateNode,e};vn.flushSync=function(e){return Ui(e)};vn.hydrate=function(e,t,n){if(!kc(t))throw Error(Y(200));return _c(null,e,t,!0,n)};vn.hydrateRoot=function(e,t,n){if(!Ap(e))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Uw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Mw(t,null,e,1,n??null,i,!1,o,s),e[wr]=t.current,dl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new bc(t)};vn.render=function(e,t,n){if(!kc(t))throw Error(Y(200));return _c(null,e,t,!1,n)};vn.unmountComponentAtNode=function(e){if(!kc(e))throw Error(Y(40));return e._reactRootContainer?(Ui(function(){_c(null,null,e,!1,function(){e._reactRootContainer=null,e[wr]=null})}),!0):!1};vn.unstable_batchedUpdates=Ip;vn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!kc(n))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return _c(e,t,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function zw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zw)}catch(e){console.error(e)}}zw(),zv.exports=vn;var kS=zv.exports,$w,Jy=kS;$w=Jy.createRoot,Jy.hydrateRoot;var Fw={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Bm,function(){var n=function(l,u){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(h[g]=y[g])})(l,u)},r=function(){return(r=Object.assign||function(l){for(var u,h=1,y=arguments.length;h<y;h++)for(var g in u=arguments[h])Object.prototype.hasOwnProperty.call(u,g)&&(l[g]=u[g]);return l}).apply(this,arguments)};function i(l,u,h){for(var y,g=0,w=u.length;g<w;g++)!y&&g in u||((y=y||Array.prototype.slice.call(u,0,g))[g]=u[g]);return l.concat(y||Array.prototype.slice.call(u))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Bm,s=Object.keys,a=Array.isArray;function c(l,u){return typeof u!="object"||s(u).forEach(function(h){l[h]=u[h]}),l}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var d=Object.getPrototypeOf,f={}.hasOwnProperty;function p(l,u){return f.call(l,u)}function m(l,u){typeof u=="function"&&(u=u(d(l))),(typeof Reflect>"u"?s:Reflect.ownKeys)(u).forEach(function(h){b(l,h,u[h])})}var v=Object.defineProperty;function b(l,u,h,y){v(l,u,c(h&&p(h,"get")&&typeof h.get=="function"?{get:h.get,set:h.set,configurable:!0}:{value:h,configurable:!0,writable:!0},y))}function x(l){return{from:function(u){return l.prototype=Object.create(u.prototype),b(l.prototype,"constructor",l),{extend:m.bind(null,l.prototype)}}}}var P=Object.getOwnPropertyDescriptor,E=[].slice;function k(l,u,h){return E.call(l,u,h)}function _(l,u){return u(l)}function M(l){if(!l)throw new Error("Assertion Failed")}function K(l){o.setImmediate?setImmediate(l):setTimeout(l,0)}function B(l,u){if(typeof u=="string"&&p(l,u))return l[u];if(!u)return l;if(typeof u!="string"){for(var h=[],y=0,g=u.length;y<g;++y){var w=B(l,u[y]);h.push(w)}return h}var S=u.indexOf(".");if(S!==-1){var C=l[u.substr(0,S)];return C==null?void 0:B(C,u.substr(S+1))}}function H(l,u,h){if(l&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof u!="string"&&"length"in u){M(typeof h!="string"&&"length"in h);for(var y=0,g=u.length;y<g;++y)H(l,u[y],h[y])}else{var w,S,C=u.indexOf(".");C!==-1?(w=u.substr(0,C),(S=u.substr(C+1))===""?h===void 0?a(l)&&!isNaN(parseInt(w))?l.splice(w,1):delete l[w]:l[w]=h:H(C=!(C=l[w])||!p(l,w)?l[w]={}:C,S,h)):h===void 0?a(l)&&!isNaN(parseInt(u))?l.splice(u,1):delete l[u]:l[u]=h}}function W(l){var u,h={};for(u in l)p(l,u)&&(h[u]=l[u]);return h}var ie=[].concat;function de(l){return ie.apply([],l)}var pi="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(de([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(u){return u+l+"Array"})}))).filter(function(l){return o[l]}),G=new Set(pi.map(function(l){return o[l]})),ve=null;function xe(l){return ve=new WeakMap,l=function u(h){if(!h||typeof h!="object")return h;var y=ve.get(h);if(y)return y;if(a(h)){y=[],ve.set(h,y);for(var g=0,w=h.length;g<w;++g)y.push(u(h[g]))}else if(G.has(h.constructor))y=h;else{var S,C=d(h);for(S in y=C===Object.prototype?{}:Object.create(C),ve.set(h,y),h)p(h,S)&&(y[S]=u(h[S]))}return y}(l),ve=null,l}var Ee={}.toString;function ke(l){return Ee.call(l).slice(8,-1)}var Z=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ce=typeof Z=="symbol"?function(l){var u;return l!=null&&(u=l[Z])&&u.apply(l)}:function(){return null};function R(l,u){return u=l.indexOf(u),0<=u&&l.splice(u,1),0<=u}var J={};function ue(l){var u,h,y,g;if(arguments.length===1){if(a(l))return l.slice();if(this===J&&typeof l=="string")return[l];if(g=ce(l)){for(h=[];!(y=g.next()).done;)h.push(y.value);return h}if(l==null)return[l];if(typeof(u=l.length)!="number")return[l];for(h=new Array(u);u--;)h[u]=l[u];return h}for(u=arguments.length,h=new Array(u);u--;)h[u]=arguments[u];return h}var oe=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},as=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],kn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(as),se={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function we(l,u){this.name=l,this.message=u}function je(l,u){return l+". Errors: "+Object.keys(u).map(function(h){return u[h].toString()}).filter(function(h,y,g){return g.indexOf(h)===y}).join(`
`)}function Je(l,u,h,y){this.failures=u,this.failedKeys=y,this.successCount=h,this.message=je(l,u)}function ze(l,u){this.name="BulkError",this.failures=Object.keys(u).map(function(h){return u[h]}),this.failuresByPos=u,this.message=je(l,this.failures)}x(we).from(Error).extend({toString:function(){return this.name+": "+this.message}}),x(Je).from(we),x(ze).from(we);var Te=kn.reduce(function(l,u){return l[u]=u+"Error",l},{}),ut=we,le=kn.reduce(function(l,u){var h=u+"Error";function y(g,w){this.name=h,g?typeof g=="string"?(this.message="".concat(g).concat(w?`
 `+w:""),this.inner=w||null):typeof g=="object"&&(this.message="".concat(g.name," ").concat(g.message),this.inner=g):(this.message=se[u]||h,this.inner=null)}return x(y).from(ut),l[u]=y,l},{});le.Syntax=SyntaxError,le.Type=TypeError,le.Range=RangeError;var Ve=as.reduce(function(l,u){return l[u+"Error"]=le[u],l},{}),rt=kn.reduce(function(l,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(l[u+"Error"]=le[u]),l},{});function be(){}function Me(l){return l}function Be(l,u){return l==null||l===Me?u:function(h){return u(l(h))}}function Ge(l,u){return function(){l.apply(this,arguments),u.apply(this,arguments)}}function sn(l,u){return l===be?u:function(){var h=l.apply(this,arguments);h!==void 0&&(arguments[0]=h);var y=this.onsuccess,g=this.onerror;this.onsuccess=null,this.onerror=null;var w=u.apply(this,arguments);return y&&(this.onsuccess=this.onsuccess?Ge(y,this.onsuccess):y),g&&(this.onerror=this.onerror?Ge(g,this.onerror):g),w!==void 0?w:h}}function hi(l,u){return l===be?u:function(){l.apply(this,arguments);var h=this.onsuccess,y=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?Ge(h,this.onsuccess):h),y&&(this.onerror=this.onerror?Ge(y,this.onerror):y)}}function Fn(l,u){return l===be?u:function(h){var y=l.apply(this,arguments);c(h,y);var g=this.onsuccess,w=this.onerror;return this.onsuccess=null,this.onerror=null,h=u.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?Ge(g,this.onsuccess):g),w&&(this.onerror=this.onerror?Ge(w,this.onerror):w),y===void 0?h===void 0?void 0:h:c(y,h)}}function __(l,u){return l===be?u:function(){return u.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function $c(l,u){return l===be?u:function(){var h=l.apply(this,arguments);if(h&&typeof h.then=="function"){for(var y=this,g=arguments.length,w=new Array(g);g--;)w[g]=arguments[g];return h.then(function(){return u.apply(y,w)})}return u.apply(this,arguments)}}rt.ModifyError=Je,rt.DexieError=we,rt.BulkError=ze;var Bn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function lm(l){Bn=l}var ls={},am=100,pi=typeof Promise>"u"?[]:function(){var l=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[l,d(l),l];var u=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[u,d(u),l]}(),as=pi[0],kn=pi[1],pi=pi[2],kn=kn&&kn.then,mi=as&&as.constructor,Fc=!!pi,us=function(l,u){cs.push([l,u]),Xl&&(queueMicrotask(S_),Xl=!1)},Bc=!0,Xl=!0,yi=[],Zl=[],Kc=Me,Or={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:be,pgp:!1,env:{},finalize:be},ge=Or,cs=[],gi=0,ea=[];function ae(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=ge;if(typeof l!="function"){if(l!==ls)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Wc(this,this._value))}this._state=null,this._value=null,++u.ref,function h(y,g){try{g(function(w){if(y._state===null){if(w===y)throw new TypeError("A promise cannot be resolved with itself.");var S=y._lib&&qi();w&&typeof w.then=="function"?h(y,function(C,j){w instanceof ae?w._then(C,j):w.then(C,j)}):(y._state=!0,y._value=w,cm(y)),S&&Gi()}},Wc.bind(null,y))}catch(w){Wc(y,w)}}(this,l)}var Vc={get:function(){var l=ge,u=ia;function h(y,g){var w=this,S=!l.global&&(l!==ge||u!==ia),C=S&&!Tr(),j=new ae(function(T,L){Hc(w,new um(fm(y,l,S,C),fm(g,l,S,C),T,L,l))});return this._consoleTask&&(j._consoleTask=this._consoleTask),j}return h.prototype=ls,h},set:function(l){b(this,"then",l&&l.prototype===ls?Vc:{get:function(){return l},set:Vc.set})}};function um(l,u,h,y,g){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof u=="function"?u:null,this.resolve=h,this.reject=y,this.psd=g}function Wc(l,u){var h,y;Zl.push(u),l._state===null&&(h=l._lib&&qi(),u=Kc(u),l._state=!1,l._value=u,y=l,yi.some(function(g){return g._value===y._value})||yi.push(y),cm(l),h&&Gi())}function cm(l){var u=l._listeners;l._listeners=[];for(var h=0,y=u.length;h<y;++h)Hc(l,u[h]);var g=l._PSD;--g.ref||g.finalize(),gi===0&&(++gi,us(function(){--gi==0&&qc()},[]))}function Hc(l,u){if(l._state!==null){var h=l._state?u.onFulfilled:u.onRejected;if(h===null)return(l._state?u.resolve:u.reject)(l._value);++u.psd.ref,++gi,us(x_,[h,l,u])}else l._listeners.push(u)}function x_(l,u,h){try{var y,g=u._value;!u._state&&Zl.length&&(Zl=[]),y=Bn&&u._consoleTask?u._consoleTask.run(function(){return l(g)}):l(g),u._state||Zl.indexOf(g)!==-1||function(w){for(var S=yi.length;S;)if(yi[--S]._value===w._value)return yi.splice(S,1)}(u),h.resolve(y)}catch(w){h.reject(w)}finally{--gi==0&&qc(),--h.psd.ref||h.psd.finalize()}}function S_(){vi(Or,function(){qi()&&Gi()})}function qi(){var l=Bc;return Xl=Bc=!1,l}function Gi(){var l,u,h;do for(;0<cs.length;)for(l=cs,cs=[],h=l.length,u=0;u<h;++u){var y=l[u];y[0].apply(null,y[1])}while(0<cs.length);Xl=Bc=!0}function qc(){var l=yi;yi=[],l.forEach(function(y){y._PSD.onunhandled.call(null,y._value,y)});for(var u=ea.slice(0),h=u.length;h;)u[--h]()}function ta(l){return new ae(ls,!1,l)}function it(l,u){var h=ge;return function(){var y=qi(),g=ge;try{return Nr(h,!0),l.apply(this,arguments)}catch(w){u&&u(w)}finally{Nr(g,!1),y&&Gi()}}}m(ae.prototype,{then:Vc,_then:function(l,u){Hc(this,new um(null,null,l,u,ge))},catch:function(l){if(arguments.length===1)return this.then(null,l);var u=l,h=arguments[1];return typeof u=="function"?this.then(null,function(y){return(y instanceof u?h:ta)(y)}):this.then(null,function(y){return(y&&y.name===u?h:ta)(y)})},finally:function(l){return this.then(function(u){return ae.resolve(l()).then(function(){return u})},function(u){return ae.resolve(l()).then(function(){return ta(u)})})},timeout:function(l,u){var h=this;return l<1/0?new ae(function(y,g){var w=setTimeout(function(){return g(new le.Timeout(u))},l);h.then(y,g).finally(clearTimeout.bind(null,w))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(ae.prototype,Symbol.toStringTag,"Dexie.Promise"),Or.env=dm(),m(ae,{all:function(){var l=ue.apply(null,arguments).map(oa);return new ae(function(u,h){l.length===0&&u([]);var y=l.length;l.forEach(function(g,w){return ae.resolve(g).then(function(S){l[w]=S,--y||u(l)},h)})})},resolve:function(l){return l instanceof ae?l:l&&typeof l.then=="function"?new ae(function(u,h){l.then(u,h)}):new ae(ls,!0,l)},reject:ta,race:function(){var l=ue.apply(null,arguments).map(oa);return new ae(function(u,h){l.map(function(y){return ae.resolve(y).then(u,h)})})},PSD:{get:function(){return ge},set:function(l){return ge=l}},totalEchoes:{get:function(){return ia}},newPSD:jr,usePSD:vi,scheduler:{get:function(){return us},set:function(l){us=l}},rejectionMapper:{get:function(){return Kc},set:function(l){Kc=l}},follow:function(l,u){return new ae(function(h,y){return jr(function(g,w){var S=ge;S.unhandleds=[],S.onunhandled=w,S.finalize=Ge(function(){var C,j=this;C=function(){j.unhandleds.length===0?g():w(j.unhandleds[0])},ea.push(function T(){C(),ea.splice(ea.indexOf(T),1)}),++gi,us(function(){--gi==0&&qc()},[])},S.finalize),l()},u,h,y)})}}),mi&&(mi.allSettled&&b(ae,"allSettled",function(){var l=ue.apply(null,arguments).map(oa);return new ae(function(u){l.length===0&&u([]);var h=l.length,y=new Array(h);l.forEach(function(g,w){return ae.resolve(g).then(function(S){return y[w]={status:"fulfilled",value:S}},function(S){return y[w]={status:"rejected",reason:S}}).then(function(){return--h||u(y)})})})}),mi.any&&typeof AggregateError<"u"&&b(ae,"any",function(){var l=ue.apply(null,arguments).map(oa);return new ae(function(u,h){l.length===0&&h(new AggregateError([]));var y=l.length,g=new Array(y);l.forEach(function(w,S){return ae.resolve(w).then(function(C){return u(C)},function(C){g[S]=C,--y||h(new AggregateError(g))})})})}),mi.withResolvers&&(ae.withResolvers=mi.withResolvers));var St={awaits:0,echoes:0,id:0},E_=0,na=[],ra=0,ia=0,C_=0;function jr(l,u,h,y){var g=ge,w=Object.create(g);return w.parent=g,w.ref=0,w.global=!1,w.id=++C_,Or.env,w.env=Fc?{Promise:ae,PromiseProp:{value:ae,configurable:!0,writable:!0},all:ae.all,race:ae.race,allSettled:ae.allSettled,any:ae.any,resolve:ae.resolve,reject:ae.reject}:{},u&&c(w,u),++g.ref,w.finalize=function(){--this.parent.ref||this.parent.finalize()},y=vi(w,l,h,y),w.ref===0&&w.finalize(),y}function Yi(){return St.id||(St.id=++E_),++St.awaits,St.echoes+=am,St.id}function Tr(){return!!St.awaits&&(--St.awaits==0&&(St.id=0),St.echoes=St.awaits*am,!0)}function oa(l){return St.echoes&&l&&l.constructor===mi?(Yi(),l.then(function(u){return Tr(),u},function(u){return Tr(),dt(u)})):l}function I_(){var l=na[na.length-1];na.pop(),Nr(l,!1)}function Nr(l,u){var h,y=ge;(u?!St.echoes||ra++&&l===ge:!ra||--ra&&l===ge)||queueMicrotask(u?(function(g){++ia,St.echoes&&--St.echoes!=0||(St.echoes=St.awaits=St.id=0),na.push(ge),Nr(g,!0)}).bind(null,l):I_),l!==ge&&(ge=l,y===Or&&(Or.env=dm()),Fc&&(h=Or.env.Promise,u=l.env,(y.global||l.global)&&(Object.defineProperty(o,"Promise",u.PromiseProp),h.all=u.all,h.race=u.race,h.resolve=u.resolve,h.reject=u.reject,u.allSettled&&(h.allSettled=u.allSettled),u.any&&(h.any=u.any))))}function dm(){var l=o.Promise;return Fc?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function vi(l,u,h,y,g){var w=ge;try{return Nr(l,!0),u(h,y,g)}finally{Nr(w,!1)}}function fm(l,u,h,y){return typeof l!="function"?l:function(){var g=ge;h&&Yi(),Nr(u,!0);try{return l.apply(this,arguments)}finally{Nr(g,!1),y&&queueMicrotask(Tr)}}}function Gc(l){Promise===mi&&St.echoes===0?ra===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+kn).indexOf("[native code]")===-1&&(Yi=Tr=be);var dt=ae.reject,wi="￿",ir="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",hm="String expected.",Qi=[],sa="__dbnames",Yc="readonly",Qc="readwrite";function bi(l,u){return l?u?function(){return l.apply(this,arguments)&&u.apply(this,arguments)}:l:u}var pm={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function la(l){return typeof l!="string"||/\./.test(l)?function(u){return u}:function(u){return u[l]===void 0&&l in u&&delete(u=xe(u))[l],u}}function mm(){throw le.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ue(l,u){try{var h=ym(l),y=ym(u);if(h!==y)return h==="Array"?1:y==="Array"?-1:h==="binary"?1:y==="binary"?-1:h==="string"?1:y==="string"?-1:h==="Date"?1:y!=="Date"?NaN:-1;switch(h){case"number":case"Date":case"string":return u<l?1:l<u?-1:0;case"binary":return function(g,w){for(var S=g.length,C=w.length,j=S<C?S:C,T=0;T<j;++T)if(g[T]!==w[T])return g[T]<w[T]?-1:1;return S===C?0:S<C?-1:1}(gm(l),gm(u));case"Array":return function(g,w){for(var S=g.length,C=w.length,j=S<C?S:C,T=0;T<j;++T){var L=Ue(g[T],w[T]);if(L!==0)return L}return S===C?0:S<C?-1:1}(l,u)}}catch{}return NaN}function ym(l){var u=typeof l;return u!="object"?u:ArrayBuffer.isView(l)?"binary":(l=ke(l),l==="ArrayBuffer"?"binary":l)}function gm(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function aa(l,u,h){var y=l.schema.yProps;return y?(u&&0<h.numFailures&&(u=u.filter(function(g,w){return!h.failures[w]})),Promise.all(y.map(function(g){return g=g.updatesTable,u?l.db.table(g).where("k").anyOf(u).delete():l.db.table(g).clear()})).then(function(){return h})):h}var ds=(vm.prototype.execute=function(l){var u=this["@@propmod"];if(u.add!==void 0){var h=u.add;if(a(h))return i(i([],a(l)?l:[],!0),h).sort();if(typeof h=="number")return(Number(l)||0)+h;if(typeof h=="bigint")try{return BigInt(l)+h}catch{return BigInt(0)+h}throw new TypeError("Invalid term ".concat(h))}if(u.remove!==void 0){var y=u.remove;if(a(y))return a(l)?l.filter(function(g){return!y.includes(g)}).sort():[];if(typeof y=="number")return Number(l)-y;if(typeof y=="bigint")try{return BigInt(l)-y}catch{return BigInt(0)-y}throw new TypeError("Invalid subtrahend ".concat(y))}return h=(h=u.replacePrefix)===null||h===void 0?void 0:h[0],h&&typeof l=="string"&&l.startsWith(h)?u.replacePrefix[1]+l.substring(h.length):l},vm);function vm(l){this["@@propmod"]=l}function wm(l,u){for(var h=s(u),y=h.length,g=!1,w=0;w<y;++w){var S=h[w],C=u[S],j=B(l,S);C instanceof ds?(H(l,S,C.execute(j)),g=!0):j!==C&&(H(l,S,C),g=!0)}return g}var bm=(Ze.prototype._trans=function(l,u,h){var y=this._tx||ge.trans,g=this.name,w=Bn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function S(T,L,I){if(!I.schema[g])throw new le.NotFound("Table "+g+" not part of transaction");return u(I.idbtrans,I)}var C=qi();try{var j=y&&y.db._novip===this.db._novip?y===ge.trans?y._promise(l,S,h):jr(function(){return y._promise(l,S,h)},{trans:y,transless:ge.transless||ge}):function T(L,I,z,N){if(L.idbdb&&(L._state.openComplete||ge.letThrough||L._vip)){var D=L._createTransaction(I,z,L._dbSchema);try{D.create(),L._state.PR1398_maxLoop=3}catch(A){return A.name===Te.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return T(L,I,z,N)})):dt(A)}return D._promise(I,function(A,U){return jr(function(){return ge.trans=D,N(A,U,D)})}).then(function(A){if(I==="readwrite")try{D.idbtrans.commit()}catch{}return I==="readonly"?A:D._completion.then(function(){return A})})}if(L._state.openComplete)return dt(new le.DatabaseClosed(L._state.dbOpenError));if(!L._state.isBeingOpened){if(!L._state.autoOpen)return dt(new le.DatabaseClosed);L.open().catch(be)}return L._state.dbReadyPromise.then(function(){return T(L,I,z,N)})}(this.db,l,[this.name],S);return w&&(j._consoleTask=w,j=j.catch(function(T){return console.trace(T),dt(T)})),j}finally{C&&Gi()}},Ze.prototype.get=function(l,u){var h=this;return l&&l.constructor===Object?this.where(l).first(u):l==null?dt(new le.Type("Invalid argument to Table.get()")):this._trans("readonly",function(y){return h.core.get({trans:y,key:l}).then(function(g){return h.hook.reading.fire(g)})}).then(u)},Ze.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(a(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var u=s(l);if(u.length===1)return this.where(u[0]).equals(l[u[0]]);var h=this.schema.indexes.concat(this.schema.primKey).filter(function(C){if(C.compound&&u.every(function(T){return 0<=C.keyPath.indexOf(T)})){for(var j=0;j<u.length;++j)if(u.indexOf(C.keyPath[j])===-1)return!1;return!0}return!1}).sort(function(C,j){return C.keyPath.length-j.keyPath.length})[0];if(h&&this.db._maxKey!==wi){var w=h.keyPath.slice(0,u.length);return this.where(w).equals(w.map(function(j){return l[j]}))}!h&&Bn&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var y=this.schema.idxByName;function g(C,j){return Ue(C,j)===0}var S=u.reduce(function(I,j){var T=I[0],L=I[1],I=y[j],z=l[j];return[T||I,T||!I?bi(L,I&&I.multi?function(N){return N=B(N,j),a(N)&&N.some(function(D){return g(z,D)})}:function(N){return g(z,B(N,j))}):L]},[null,null]),w=S[0],S=S[1];return w?this.where(w.name).equals(l[w.keyPath]).filter(S):h?this.filter(S):this.where(u).equals("")},Ze.prototype.filter=function(l){return this.toCollection().and(l)},Ze.prototype.count=function(l){return this.toCollection().count(l)},Ze.prototype.offset=function(l){return this.toCollection().offset(l)},Ze.prototype.limit=function(l){return this.toCollection().limit(l)},Ze.prototype.each=function(l){return this.toCollection().each(l)},Ze.prototype.toArray=function(l){return this.toCollection().toArray(l)},Ze.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ze.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,a(l)?"[".concat(l.join("+"),"]"):l))},Ze.prototype.reverse=function(){return this.toCollection().reverse()},Ze.prototype.mapToClass=function(l){var u,h=this.db,y=this.name;function g(){return u!==null&&u.apply(this,arguments)||this}(this.schema.mappedClass=l).prototype instanceof mm&&(function(j,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function L(){this.constructor=j}n(j,T),j.prototype=T===null?Object.create(T):(L.prototype=T.prototype,new L)}(g,u=l),Object.defineProperty(g.prototype,"db",{get:function(){return h},enumerable:!1,configurable:!0}),g.prototype.table=function(){return y},l=g);for(var w=new Set,S=l.prototype;S;S=d(S))Object.getOwnPropertyNames(S).forEach(function(j){return w.add(j)});function C(j){if(!j)return j;var T,L=Object.create(l.prototype);for(T in j)if(!w.has(T))try{L[T]=j[T]}catch{}return L}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=C,this.hook("reading",C),l},Ze.prototype.defineClass=function(){return this.mapToClass(function(l){c(this,l)})},Ze.prototype.add=function(l,u){var h=this,y=this.schema.primKey,g=y.auto,w=y.keyPath,S=l;return w&&g&&(S=la(w)(l)),this._trans("readwrite",function(C){return h.core.mutate({trans:C,type:"add",keys:u!=null?[u]:null,values:[S]})}).then(function(C){return C.numFailures?ae.reject(C.failures[0]):C.lastResult}).then(function(C){if(w)try{H(l,w,C)}catch{}return C})},Ze.prototype.upsert=function(l,u){var h=this,y=this.schema.primKey.keyPath;return this._trans("readwrite",function(g){return h.core.get({trans:g,key:l}).then(function(w){var S=w??{};return wm(S,u),y&&H(S,y,l),h.core.mutate({trans:g,type:"put",values:[S],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[u]}}).then(function(C){return C.numFailures?ae.reject(C.failures[0]):!!w})})})},Ze.prototype.update=function(l,u){return typeof l!="object"||a(l)?this.where(":id").equals(l).modify(u):(l=B(l,this.schema.primKey.keyPath),l===void 0?dt(new le.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(u))},Ze.prototype.put=function(l,u){var h=this,y=this.schema.primKey,g=y.auto,w=y.keyPath,S=l;return w&&g&&(S=la(w)(l)),this._trans("readwrite",function(C){return h.core.mutate({trans:C,type:"put",values:[S],keys:u!=null?[u]:null})}).then(function(C){return C.numFailures?ae.reject(C.failures[0]):C.lastResult}).then(function(C){if(w)try{H(l,w,C)}catch{}return C})},Ze.prototype.delete=function(l){var u=this;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:[l]}).then(function(y){return aa(u,[l],y)}).then(function(y){return y.numFailures?ae.reject(y.failures[0]):void 0})})},Ze.prototype.clear=function(){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"deleteRange",range:pm}).then(function(h){return aa(l,null,h)})}).then(function(u){return u.numFailures?ae.reject(u.failures[0]):void 0})},Ze.prototype.bulkGet=function(l){var u=this;return this._trans("readonly",function(h){return u.core.getMany({keys:l,trans:h}).then(function(y){return y.map(function(g){return u.hook.reading.fire(g)})})})},Ze.prototype.bulkAdd=function(l,u,h){var y=this,g=Array.isArray(u)?u:void 0,w=(h=h||(g?void 0:u))?h.allKeys:void 0;return this._trans("readwrite",function(S){var T=y.schema.primKey,C=T.auto,T=T.keyPath;if(T&&g)throw new le.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(g&&g.length!==l.length)throw new le.InvalidArgument("Arguments objects and keys must have the same length");var j=l.length,T=T&&C?l.map(la(T)):l;return y.core.mutate({trans:S,type:"add",keys:g,values:T,wantResults:w}).then(function(D){var I=D.numFailures,z=D.results,N=D.lastResult,D=D.failures;if(I===0)return w?z:N;throw new ze("".concat(y.name,".bulkAdd(): ").concat(I," of ").concat(j," operations failed"),D)})})},Ze.prototype.bulkPut=function(l,u,h){var y=this,g=Array.isArray(u)?u:void 0,w=(h=h||(g?void 0:u))?h.allKeys:void 0;return this._trans("readwrite",function(S){var T=y.schema.primKey,C=T.auto,T=T.keyPath;if(T&&g)throw new le.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(g&&g.length!==l.length)throw new le.InvalidArgument("Arguments objects and keys must have the same length");var j=l.length,T=T&&C?l.map(la(T)):l;return y.core.mutate({trans:S,type:"put",keys:g,values:T,wantResults:w}).then(function(D){var I=D.numFailures,z=D.results,N=D.lastResult,D=D.failures;if(I===0)return w?z:N;throw new ze("".concat(y.name,".bulkPut(): ").concat(I," of ").concat(j," operations failed"),D)})})},Ze.prototype.bulkUpdate=function(l){var u=this,h=this.core,y=l.map(function(S){return S.key}),g=l.map(function(S){return S.changes}),w=[];return this._trans("readwrite",function(S){return h.getMany({trans:S,keys:y,cache:"clone"}).then(function(C){var j=[],T=[];l.forEach(function(I,z){var N=I.key,D=I.changes,A=C[z];if(A){for(var U=0,$=Object.keys(D);U<$.length;U++){var F=$[U],V=D[F];if(F===u.schema.primKey.keyPath){if(Ue(V,N)!==0)throw new le.Constraint("Cannot update primary key in bulkUpdate()")}else H(A,F,V)}w.push(z),j.push(N),T.push(A)}});var L=j.length;return h.mutate({trans:S,type:"put",keys:j,values:T,updates:{keys:y,changeSpecs:g}}).then(function(I){var z=I.numFailures,N=I.failures;if(z===0)return L;for(var D=0,A=Object.keys(N);D<A.length;D++){var U,$=A[D],F=w[Number($)];F!=null&&(U=N[$],delete N[$],N[F]=U)}throw new ze("".concat(u.name,".bulkUpdate(): ").concat(z," of ").concat(L," operations failed"),N)})})})},Ze.prototype.bulkDelete=function(l){var u=this,h=l.length;return this._trans("readwrite",function(y){return u.core.mutate({trans:y,type:"delete",keys:l}).then(function(g){return aa(u,l,g)})}).then(function(S){var g=S.numFailures,w=S.lastResult,S=S.failures;if(g===0)return w;throw new ze("".concat(u.name,".bulkDelete(): ").concat(g," of ").concat(h," operations failed"),S)})},Ze);function Ze(){}function fs(l){function u(S,C){if(C){for(var j=arguments.length,T=new Array(j-1);--j;)T[j-1]=arguments[j];return h[S].subscribe.apply(null,T),l}if(typeof S=="string")return h[S]}var h={};u.addEventType=w;for(var y=1,g=arguments.length;y<g;++y)w(arguments[y]);return u;function w(S,C,j){if(typeof S!="object"){var T;C=C||__;var L={subscribers:[],fire:j=j||be,subscribe:function(I){L.subscribers.indexOf(I)===-1&&(L.subscribers.push(I),L.fire=C(L.fire,I))},unsubscribe:function(I){L.subscribers=L.subscribers.filter(function(z){return z!==I}),L.fire=L.subscribers.reduce(C,j)}};return h[S]=u[S]=L}s(T=S).forEach(function(I){var z=T[I];if(a(z))w(I,T[I][0],T[I][1]);else{if(z!=="asap")throw new le.InvalidArgument("Invalid event config");var N=w(I,Me,function(){for(var D=arguments.length,A=new Array(D);D--;)A[D]=arguments[D];N.subscribers.forEach(function(U){K(function(){U.apply(null,A)})})})}})}}function hs(l,u){return x(u).from({prototype:l}),u}function Ji(l,u){return!(l.filter||l.algorithm||l.or)&&(u?l.justLimit:!l.replayFilter)}function Jc(l,u){l.filter=bi(l.filter,u)}function Xc(l,u,h){var y=l.replayFilter;l.replayFilter=y?function(){return bi(y(),u())}:u,l.justLimit=h&&!y}function ua(l,u){if(l.isPrimKey)return u.primaryKey;var h=u.getIndexByKeyPath(l.index);if(!h)throw new le.Schema("KeyPath "+l.index+" on object store "+u.name+" is not indexed");return h}function km(l,u,h){var y=ua(l,u.schema);return u.openCursor({trans:h,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:y,range:l.range}})}function ca(l,u,h,y){var g=l.replayFilter?bi(l.filter,l.replayFilter()):l.filter;if(l.or){var w={},S=function(C,j,T){var L,I;g&&!g(j,T,function(z){return j.stop(z)},function(z){return j.fail(z)})||((I=""+(L=j.primaryKey))=="[object ArrayBuffer]"&&(I=""+new Uint8Array(L)),p(w,I)||(w[I]=!0,u(C,j,T)))};return Promise.all([l.or._iterate(S,h),_m(km(l,y,h),l.algorithm,S,!l.keysOnly&&l.valueMapper)])}return _m(km(l,y,h),bi(l.algorithm,g),u,!l.keysOnly&&l.valueMapper)}function _m(l,u,h,y){var g=it(y?function(w,S,C){return h(y(w),S,C)}:h);return l.then(function(w){if(w)return w.start(function(){var S=function(){return w.continue()};u&&!u(w,function(C){return S=C},function(C){w.stop(C),S=be},function(C){w.fail(C),S=be})||g(w.value,w,function(C){return S=C}),S()})})}var O_=(Ke.prototype._read=function(l,u){var h=this._ctx;return h.error?h.table._trans(null,dt.bind(null,h.error)):h.table._trans("readonly",l).then(u)},Ke.prototype._write=function(l){var u=this._ctx;return u.error?u.table._trans(null,dt.bind(null,u.error)):u.table._trans("readwrite",l,"locked")},Ke.prototype._addAlgorithm=function(l){var u=this._ctx;u.algorithm=bi(u.algorithm,l)},Ke.prototype._iterate=function(l,u){return ca(this._ctx,l,u,this._ctx.table.core)},Ke.prototype.clone=function(l){var u=Object.create(this.constructor.prototype),h=Object.create(this._ctx);return l&&c(h,l),u._ctx=h,u},Ke.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ke.prototype.each=function(l){var u=this._ctx;return this._read(function(h){return ca(u,l,h,u.table.core)})},Ke.prototype.count=function(l){var u=this;return this._read(function(h){var y=u._ctx,g=y.table.core;if(Ji(y,!0))return g.count({trans:h,query:{index:ua(y,g.schema),range:y.range}}).then(function(S){return Math.min(S,y.limit)});var w=0;return ca(y,function(){return++w,!1},h,g).then(function(){return w})}).then(l)},Ke.prototype.sortBy=function(l,u){var h=l.split(".").reverse(),y=h[0],g=h.length-1;function w(j,T){return T?w(j[h[T]],T-1):j[y]}var S=this._ctx.dir==="next"?1:-1;function C(j,T){return Ue(w(j,g),w(T,g))*S}return this.toArray(function(j){return j.sort(C)}).then(u)},Ke.prototype.toArray=function(l){var u=this;return this._read(function(h){var y=u._ctx;if(y.dir==="next"&&Ji(y,!0)&&0<y.limit){var g=y.valueMapper,w=ua(y,y.table.core.schema);return y.table.core.query({trans:h,limit:y.limit,values:!0,query:{index:w,range:y.range}}).then(function(C){return C=C.result,g?C.map(g):C})}var S=[];return ca(y,function(C){return S.push(C)},h,y.table.core).then(function(){return S})},l)},Ke.prototype.offset=function(l){var u=this._ctx;return l<=0||(u.offset+=l,Ji(u)?Xc(u,function(){var h=l;return function(y,g){return h===0||(h===1?--h:g(function(){y.advance(h),h=0}),!1)}}):Xc(u,function(){var h=l;return function(){return--h<0}})),this},Ke.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),Xc(this._ctx,function(){var u=l;return function(h,y,g){return--u<=0&&y(g),0<=u}},!0),this},Ke.prototype.until=function(l,u){return Jc(this._ctx,function(h,y,g){return!l(h.value)||(y(g),u)}),this},Ke.prototype.first=function(l){return this.limit(1).toArray(function(u){return u[0]}).then(l)},Ke.prototype.last=function(l){return this.reverse().first(l)},Ke.prototype.filter=function(l){var u;return Jc(this._ctx,function(h){return l(h.value)}),(u=this._ctx).isMatch=bi(u.isMatch,l),this},Ke.prototype.and=function(l){return this.filter(l)},Ke.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},Ke.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ke.prototype.desc=function(){return this.reverse()},Ke.prototype.eachKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(h,y){l(y.key,y)})},Ke.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},Ke.prototype.eachPrimaryKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(h,y){l(y.primaryKey,y)})},Ke.prototype.keys=function(l){var u=this._ctx;u.keysOnly=!u.isMatch;var h=[];return this.each(function(y,g){h.push(g.key)}).then(function(){return h}).then(l)},Ke.prototype.primaryKeys=function(l){var u=this._ctx;if(u.dir==="next"&&Ji(u,!0)&&0<u.limit)return this._read(function(y){var g=ua(u,u.table.core.schema);return u.table.core.query({trans:y,values:!1,limit:u.limit,query:{index:g,range:u.range}})}).then(function(y){return y.result}).then(l);u.keysOnly=!u.isMatch;var h=[];return this.each(function(y,g){h.push(g.primaryKey)}).then(function(){return h}).then(l)},Ke.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},Ke.prototype.firstKey=function(l){return this.limit(1).keys(function(u){return u[0]}).then(l)},Ke.prototype.lastKey=function(l){return this.reverse().firstKey(l)},Ke.prototype.distinct=function(){var l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];if(!l||!l.multi)return this;var u={};return Jc(this._ctx,function(g){var y=g.primaryKey.toString(),g=p(u,y);return u[y]=!0,!g}),this},Ke.prototype.modify=function(l){var u=this,h=this._ctx;return this._write(function(y){var g=typeof l=="function"?l:function(A){return wm(A,l)},w=h.table.core,T=w.schema.primaryKey,S=T.outbound,C=T.extractKey,j=200,T=u.db._options.modifyChunkSize;T&&(j=typeof T=="object"?T[w.name]||T["*"]||200:T);function L(A,F){var $=F.failures,F=F.numFailures;z+=A-F;for(var V=0,q=s($);V<q.length;V++){var X=q[V];I.push($[X])}}var I=[],z=0,N=[],D=l===xm;return u.clone().primaryKeys().then(function(A){function U(F){var V=Math.min(j,A.length-F),q=A.slice(F,F+V);return(D?Promise.resolve([]):w.getMany({trans:y,keys:q,cache:"immutable"})).then(function(X){var ne=[],Q=[],ee=S?[]:null,re=D?q:[];if(!D)for(var te=0;te<V;++te){var fe=X[te],Ie={value:xe(fe),primKey:A[F+te]};g.call(Ie,Ie.value,Ie)!==!1&&(Ie.value==null?re.push(A[F+te]):S||Ue(C(fe),C(Ie.value))===0?(Q.push(Ie.value),S&&ee.push(A[F+te])):(re.push(A[F+te]),ne.push(Ie.value)))}return Promise.resolve(0<ne.length&&w.mutate({trans:y,type:"add",values:ne}).then(function(Ne){for(var Ae in Ne.failures)re.splice(parseInt(Ae),1);L(ne.length,Ne)})).then(function(){return(0<Q.length||$&&typeof l=="object")&&w.mutate({trans:y,type:"put",keys:ee,values:Q,criteria:$,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<F}).then(function(Ne){return L(Q.length,Ne)})}).then(function(){return(0<re.length||$&&D)&&w.mutate({trans:y,type:"delete",keys:re,criteria:$,isAdditionalChunk:0<F}).then(function(Ne){return aa(h.table,re,Ne)}).then(function(Ne){return L(re.length,Ne)})}).then(function(){return A.length>F+V&&U(F+j)})})}var $=Ji(h)&&h.limit===1/0&&(typeof l!="function"||D)&&{index:h.index,range:h.range};return U(0).then(function(){if(0<I.length)throw new Je("Error modifying one or more objects",I,z,N);return A.length})})})},Ke.prototype.delete=function(){var l=this._ctx,u=l.range;return!Ji(l)||l.table.schema.yProps||!l.isPrimKey&&u.type!==3?this.modify(xm):this._write(function(h){var y=l.table.core.schema.primaryKey,g=u;return l.table.core.count({trans:h,query:{index:y,range:g}}).then(function(w){return l.table.core.mutate({trans:h,type:"deleteRange",range:g}).then(function(j){var C=j.failures,j=j.numFailures;if(j)throw new Je("Could not delete some values",Object.keys(C).map(function(T){return C[T]}),w-j);return w-j})})})},Ke);function Ke(){}var xm=function(l,u){return u.value=null};function j_(l,u){return l<u?-1:l===u?0:1}function T_(l,u){return u<l?-1:l===u?0:1}function ln(l,u,h){return l=l instanceof Em?new l.Collection(l):l,l._ctx.error=new(h||TypeError)(u),l}function Xi(l){return new l.Collection(l,function(){return Sm("")}).limit(0)}function da(l,u,h,y){var g,w,S,C,j,T,L,I=h.length;if(!h.every(function(D){return typeof D=="string"}))return ln(l,hm);function z(D){g=D==="next"?function(U){return U.toUpperCase()}:function(U){return U.toLowerCase()},w=D==="next"?function(U){return U.toLowerCase()}:function(U){return U.toUpperCase()},S=D==="next"?j_:T_;var A=h.map(function(U){return{lower:w(U),upper:g(U)}}).sort(function(U,$){return S(U.lower,$.lower)});C=A.map(function(U){return U.upper}),j=A.map(function(U){return U.lower}),L=(T=D)==="next"?"":y}z("next"),l=new l.Collection(l,function(){return Pr(C[0],j[I-1]+y)}),l._ondirectionchange=function(D){z(D)};var N=0;return l._addAlgorithm(function(D,A,U){var $=D.key;if(typeof $!="string")return!1;var F=w($);if(u(F,j,N))return!0;for(var V=null,q=N;q<I;++q){var X=function(ne,Q,ee,re,te,fe){for(var Ie=Math.min(ne.length,re.length),Ne=-1,Ae=0;Ae<Ie;++Ae){var an=Q[Ae];if(an!==re[Ae])return te(ne[Ae],ee[Ae])<0?ne.substr(0,Ae)+ee[Ae]+ee.substr(Ae+1):te(ne[Ae],re[Ae])<0?ne.substr(0,Ae)+re[Ae]+ee.substr(Ae+1):0<=Ne?ne.substr(0,Ne)+Q[Ne]+ee.substr(Ne+1):null;te(ne[Ae],an)<0&&(Ne=Ae)}return Ie<re.length&&fe==="next"?ne+ee.substr(ne.length):Ie<ne.length&&fe==="prev"?ne.substr(0,ee.length):Ne<0?null:ne.substr(0,Ne)+re[Ne]+ee.substr(Ne+1)}($,F,C[q],j[q],S,T);X===null&&V===null?N=q+1:(V===null||0<S(V,X))&&(V=X)}return A(V!==null?function(){D.continue(V+L)}:U),!1}),l}function Pr(l,u,h,y){return{type:2,lower:l,upper:u,lowerOpen:h,upperOpen:y}}function Sm(l){return{type:1,lower:l,upper:l}}var Em=(Object.defineProperty(Et.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Et.prototype.between=function(l,u,h,y){h=h!==!1,y=y===!0;try{return 0<this._cmp(l,u)||this._cmp(l,u)===0&&(h||y)&&(!h||!y)?Xi(this):new this.Collection(this,function(){return Pr(l,u,!h,!y)})}catch{return ln(this,ir)}},Et.prototype.equals=function(l){return l==null?ln(this,ir):new this.Collection(this,function(){return Sm(l)})},Et.prototype.above=function(l){return l==null?ln(this,ir):new this.Collection(this,function(){return Pr(l,void 0,!0)})},Et.prototype.aboveOrEqual=function(l){return l==null?ln(this,ir):new this.Collection(this,function(){return Pr(l,void 0,!1)})},Et.prototype.below=function(l){return l==null?ln(this,ir):new this.Collection(this,function(){return Pr(void 0,l,!1,!0)})},Et.prototype.belowOrEqual=function(l){return l==null?ln(this,ir):new this.Collection(this,function(){return Pr(void 0,l)})},Et.prototype.startsWith=function(l){return typeof l!="string"?ln(this,hm):this.between(l,l+wi,!0,!0)},Et.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):da(this,function(u,h){return u.indexOf(h[0])===0},[l],wi)},Et.prototype.equalsIgnoreCase=function(l){return da(this,function(u,h){return u===h[0]},[l],"")},Et.prototype.anyOfIgnoreCase=function(){var l=ue.apply(J,arguments);return l.length===0?Xi(this):da(this,function(u,h){return h.indexOf(u)!==-1},l,"")},Et.prototype.startsWithAnyOfIgnoreCase=function(){var l=ue.apply(J,arguments);return l.length===0?Xi(this):da(this,function(u,h){return h.some(function(y){return u.indexOf(y)===0})},l,wi)},Et.prototype.anyOf=function(){var l=this,u=ue.apply(J,arguments),h=this._cmp;try{u.sort(h)}catch{return ln(this,ir)}if(u.length===0)return Xi(this);var y=new this.Collection(this,function(){return Pr(u[0],u[u.length-1])});y._ondirectionchange=function(w){h=w==="next"?l._ascending:l._descending,u.sort(h)};var g=0;return y._addAlgorithm(function(w,S,C){for(var j=w.key;0<h(j,u[g]);)if(++g===u.length)return S(C),!1;return h(j,u[g])===0||(S(function(){w.continue(u[g])}),!1)}),y},Et.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Et.prototype.noneOf=function(){var l=ue.apply(J,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return ln(this,ir)}var u=l.reduce(function(h,y){return h?h.concat([[h[h.length-1][1],y]]):[[-1/0,y]]},null);return u.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},Et.prototype.inAnyRange=function($,u){var h=this,y=this._cmp,g=this._ascending,w=this._descending,S=this._min,C=this._max;if($.length===0)return Xi(this);if(!$.every(function(F){return F[0]!==void 0&&F[1]!==void 0&&g(F[0],F[1])<=0}))return ln(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",le.InvalidArgument);var j=!u||u.includeLowers!==!1,T=u&&u.includeUppers===!0,L,I=g;function z(F,V){return I(F[0],V[0])}try{(L=$.reduce(function(F,V){for(var q=0,X=F.length;q<X;++q){var ne=F[q];if(y(V[0],ne[1])<0&&0<y(V[1],ne[0])){ne[0]=S(ne[0],V[0]),ne[1]=C(ne[1],V[1]);break}}return q===X&&F.push(V),F},[])).sort(z)}catch{return ln(this,ir)}var N=0,D=T?function(F){return 0<g(F,L[N][1])}:function(F){return 0<=g(F,L[N][1])},A=j?function(F){return 0<w(F,L[N][0])}:function(F){return 0<=w(F,L[N][0])},U=D,$=new this.Collection(this,function(){return Pr(L[0][0],L[L.length-1][1],!j,!T)});return $._ondirectionchange=function(F){I=F==="next"?(U=D,g):(U=A,w),L.sort(z)},$._addAlgorithm(function(F,V,q){for(var X,ne=F.key;U(ne);)if(++N===L.length)return V(q),!1;return!D(X=ne)&&!A(X)||(h._cmp(ne,L[N][1])===0||h._cmp(ne,L[N][0])===0||V(function(){I===g?F.continue(L[N][0]):F.continue(L[N][1])}),!1)}),$},Et.prototype.startsWithAnyOf=function(){var l=ue.apply(J,arguments);return l.every(function(u){return typeof u=="string"})?l.length===0?Xi(this):this.inAnyRange(l.map(function(u){return[u,u+wi]})):ln(this,"startsWithAnyOf() only works with strings")},Et);function Et(){}function Kn(l){return it(function(u){return ps(u),l(u.target.error),!1})}function ps(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var ms="storagemutated",Zc="x-storagemutated-1",Dr=fs(null,ms),N_=(Vn.prototype._lock=function(){return M(!ge.global),++this._reculock,this._reculock!==1||ge.global||(ge.lockOwnerFor=this),this},Vn.prototype._unlock=function(){if(M(!ge.global),--this._reculock==0)for(ge.global||(ge.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{vi(l[1],l[0])}catch{}}return this},Vn.prototype._locked=function(){return this._reculock&&ge.lockOwnerFor!==this},Vn.prototype.create=function(l){var u=this;if(!this.mode)return this;var h=this.db.idbdb,y=this.db._state.dbOpenError;if(M(!this.idbtrans),!l&&!h)switch(y&&y.name){case"DatabaseClosedError":throw new le.DatabaseClosed(y);case"MissingAPIError":throw new le.MissingAPI(y.message,y);default:throw new le.OpenFailed(y)}if(!this.active)throw new le.TransactionInactive;return M(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||h).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=it(function(g){ps(g),u._reject(l.error)}),l.onabort=it(function(g){ps(g),u.active&&u._reject(new le.Abort(l.error)),u.active=!1,u.on("abort").fire(g)}),l.oncomplete=it(function(){u.active=!1,u._resolve(),"mutatedParts"in l&&Dr.storagemutated.fire(l.mutatedParts)}),this},Vn.prototype._promise=function(l,u,h){var y=this;if(l==="readwrite"&&this.mode!=="readwrite")return dt(new le.ReadOnly("Transaction is readonly"));if(!this.active)return dt(new le.TransactionInactive);if(this._locked())return new ae(function(w,S){y._blockedFuncs.push([function(){y._promise(l,u,h).then(w,S)},ge])});if(h)return jr(function(){var w=new ae(function(S,C){y._lock();var j=u(S,C,y);j&&j.then&&j.then(S,C)});return w.finally(function(){return y._unlock()}),w._lib=!0,w});var g=new ae(function(w,S){var C=u(w,S,y);C&&C.then&&C.then(w,S)});return g._lib=!0,g},Vn.prototype._root=function(){return this.parent?this.parent._root():this},Vn.prototype.waitFor=function(l){var u,h=this._root(),y=ae.resolve(l);h._waitingFor?h._waitingFor=h._waitingFor.then(function(){return y}):(h._waitingFor=y,h._waitingQueue=[],u=h.idbtrans.objectStore(h.storeNames[0]),function w(){for(++h._spinCount;h._waitingQueue.length;)h._waitingQueue.shift()();h._waitingFor&&(u.get(-1/0).onsuccess=w)}());var g=h._waitingFor;return new ae(function(w,S){y.then(function(C){return h._waitingQueue.push(it(w.bind(null,C)))},function(C){return h._waitingQueue.push(it(S.bind(null,C)))}).finally(function(){h._waitingFor===g&&(h._waitingFor=null)})})},Vn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new le.Abort))},Vn.prototype.table=function(l){var u=this._memoizedTables||(this._memoizedTables={});if(p(u,l))return u[l];var h=this.schema[l];if(!h)throw new le.NotFound("Table "+l+" not part of transaction");return h=new this.db.Table(l,h,this),h.core=this.db.core.table(l),u[l]=h},Vn);function Vn(){}function ed(l,u,h,y,g,w,S,C){return{name:l,keyPath:u,unique:h,multi:y,auto:g,compound:w,src:(h&&!S?"&":"")+(y?"*":"")+(g?"++":"")+Cm(u),type:C}}function Cm(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function td(l,u,h){return{name:l,primKey:u,indexes:h,mappedClass:null,idxByName:(y=function(g){return[g.name,g]},h.reduce(function(g,w,S){return S=y(w,S),S&&(g[S[0]]=S[1]),g},{}))};var y}var ys=function(l){try{return l.only([[]]),ys=function(){return[[]]},[[]]}catch{return ys=function(){return wi},wi}};function nd(l){return l==null?function(){}:typeof l=="string"?(u=l).split(".").length===1?function(h){return h[u]}:function(h){return B(h,u)}:function(h){return B(h,l)};var u}function Im(l){return[].slice.call(l)}var P_=0;function gs(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function D_(l,u,j){function y(U){if(U.type===3)return null;if(U.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var N=U.lower,D=U.upper,A=U.lowerOpen,U=U.upperOpen;return N===void 0?D===void 0?null:u.upperBound(D,!!U):D===void 0?u.lowerBound(N,!!A):u.bound(N,D,!!A,!!U)}function g(z){var N,D=z.name;return{name:D,schema:z,mutate:function(A){var U=A.trans,$=A.type,F=A.keys,V=A.values,q=A.range;return new Promise(function(X,ne){X=it(X);var Q=U.objectStore(D),ee=Q.keyPath==null,re=$==="put"||$==="add";if(!re&&$!=="delete"&&$!=="deleteRange")throw new Error("Invalid operation type: "+$);var te,fe=(F||V||{length:1}).length;if(F&&V&&F.length!==V.length)throw new Error("Given keys array must have same length as given values array.");if(fe===0)return X({numFailures:0,failures:{},results:[],lastResult:void 0});function Ie(qt){++an,ps(qt)}var Ne=[],Ae=[],an=0;if($==="deleteRange"){if(q.type===4)return X({numFailures:an,failures:Ae,results:[],lastResult:void 0});q.type===3?Ne.push(te=Q.clear()):Ne.push(te=Q.delete(y(q)))}else{var ee=re?ee?[V,F]:[V,null]:[F,null],Ce=ee[0],Ut=ee[1];if(re)for(var zt=0;zt<fe;++zt)Ne.push(te=Ut&&Ut[zt]!==void 0?Q[$](Ce[zt],Ut[zt]):Q[$](Ce[zt])),te.onerror=Ie;else for(zt=0;zt<fe;++zt)Ne.push(te=Q[$](Ce[zt])),te.onerror=Ie}function xa(qt){qt=qt.target.result,Ne.forEach(function(xi,bd){return xi.error!=null&&(Ae[bd]=xi.error)}),X({numFailures:an,failures:Ae,results:$==="delete"?F:Ne.map(function(xi){return xi.result}),lastResult:qt})}te.onerror=function(qt){Ie(qt),xa(qt)},te.onsuccess=xa})},getMany:function(A){var U=A.trans,$=A.keys;return new Promise(function(F,V){F=it(F);for(var q,X=U.objectStore(D),ne=$.length,Q=new Array(ne),ee=0,re=0,te=function(Ne){Ne=Ne.target,Q[Ne._pos]=Ne.result,++re===ee&&F(Q)},fe=Kn(V),Ie=0;Ie<ne;++Ie)$[Ie]!=null&&((q=X.get($[Ie]))._pos=Ie,q.onsuccess=te,q.onerror=fe,++ee);ee===0&&F(Q)})},get:function(A){var U=A.trans,$=A.key;return new Promise(function(F,V){F=it(F);var q=U.objectStore(D).get($);q.onsuccess=function(X){return F(X.target.result)},q.onerror=Kn(V)})},query:(N=T,function(A){return new Promise(function(U,$){U=it(U);var F,V,q,ee=A.trans,X=A.values,ne=A.limit,te=A.query,Q=ne===1/0?void 0:ne,re=te.index,te=te.range,ee=ee.objectStore(D),re=re.isPrimaryKey?ee:ee.index(re.name),te=y(te);if(ne===0)return U({result:[]});N?((Q=X?re.getAll(te,Q):re.getAllKeys(te,Q)).onsuccess=function(fe){return U({result:fe.target.result})},Q.onerror=Kn($)):(F=0,V=!X&&"openKeyCursor"in re?re.openKeyCursor(te):re.openCursor(te),q=[],V.onsuccess=function(fe){var Ie=V.result;return Ie?(q.push(X?Ie.value:Ie.primaryKey),++F===ne?U({result:q}):void Ie.continue()):U({result:q})},V.onerror=Kn($))})}),openCursor:function(A){var U=A.trans,$=A.values,F=A.query,V=A.reverse,q=A.unique;return new Promise(function(X,ne){X=it(X);var re=F.index,Q=F.range,ee=U.objectStore(D),ee=re.isPrimaryKey?ee:ee.index(re.name),re=V?q?"prevunique":"prev":q?"nextunique":"next",te=!$&&"openKeyCursor"in ee?ee.openKeyCursor(y(Q),re):ee.openCursor(y(Q),re);te.onerror=Kn(ne),te.onsuccess=it(function(fe){var Ie,Ne,Ae,an,Ce=te.result;Ce?(Ce.___id=++P_,Ce.done=!1,Ie=Ce.continue.bind(Ce),Ne=(Ne=Ce.continuePrimaryKey)&&Ne.bind(Ce),Ae=Ce.advance.bind(Ce),an=function(){throw new Error("Cursor not stopped")},Ce.trans=U,Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=function(){throw new Error("Cursor not started")},Ce.fail=it(ne),Ce.next=function(){var Ut=this,zt=1;return this.start(function(){return zt--?Ut.continue():Ut.stop()}).then(function(){return Ut})},Ce.start=function(Ut){function zt(){if(te.result)try{Ut()}catch(qt){Ce.fail(qt)}else Ce.done=!0,Ce.start=function(){throw new Error("Cursor behind last entry")},Ce.stop()}var xa=new Promise(function(qt,xi){qt=it(qt),te.onerror=Kn(xi),Ce.fail=xi,Ce.stop=function(bd){Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=an,qt(bd)}});return te.onsuccess=it(function(qt){te.onsuccess=zt,zt()}),Ce.continue=Ie,Ce.continuePrimaryKey=Ne,Ce.advance=Ae,zt(),xa},X(Ce)):X(null)},ne)})},count:function(A){var U=A.query,$=A.trans,F=U.index,V=U.range;return new Promise(function(q,X){var ne=$.objectStore(D),Q=F.isPrimaryKey?ne:ne.index(F.name),ne=y(V),Q=ne?Q.count(ne):Q.count();Q.onsuccess=it(function(ee){return q(ee.target.result)}),Q.onerror=Kn(X)})}}}var w,S,C,L=(S=j,C=Im((w=l).objectStoreNames),{schema:{name:w.name,tables:C.map(function(z){return S.objectStore(z)}).map(function(z){var N=z.keyPath,U=z.autoIncrement,D=a(N),A={},U={name:z.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:N==null,compound:D,keyPath:N,autoIncrement:U,unique:!0,extractKey:nd(N)},indexes:Im(z.indexNames).map(function($){return z.index($)}).map(function(q){var F=q.name,V=q.unique,X=q.multiEntry,q=q.keyPath,X={name:F,compound:a(q),keyPath:q,unique:V,multiEntry:X,extractKey:nd(q)};return A[gs(q)]=X}),getIndexByKeyPath:function($){return A[gs($)]}};return A[":id"]=U.primaryKey,N!=null&&(A[gs(N)]=U.primaryKey),U})},hasGetAll:0<C.length&&"getAll"in S.objectStore(C[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),j=L.schema,T=L.hasGetAll,L=j.tables.map(g),I={};return L.forEach(function(z){return I[z.name]=z}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(z){if(!I[z])throw new Error("Table '".concat(z,"' not found"));return I[z]},MIN_KEY:-1/0,MAX_KEY:ys(u),schema:j}}function A_(l,u,h,y){var g=h.IDBKeyRange;return h.indexedDB,{dbcore:(y=D_(u,g,y),l.dbcore.reduce(function(w,S){return S=S.create,r(r({},w),S(w))},y))}}function fa(l,y){var h=y.db,y=A_(l._middlewares,h,l._deps,y);l.core=y.dbcore,l.tables.forEach(function(g){var w=g.name;l.core.schema.tables.some(function(S){return S.name===w})&&(g.core=l.core.table(w),l[w]instanceof l.Table&&(l[w].core=g.core))})}function ha(l,u,h,y){h.forEach(function(g){var w=y[g];u.forEach(function(S){var C=function j(T,L){return P(T,L)||(T=d(T))&&j(T,L)}(S,g);(!C||"value"in C&&C.value===void 0)&&(S===l.Transaction.prototype||S instanceof l.Transaction?b(S,g,{get:function(){return this.table(g)},set:function(j){v(this,g,{value:j,writable:!0,configurable:!0,enumerable:!0})}}):S[g]=new l.Table(g,w))})})}function rd(l,u){u.forEach(function(h){for(var y in h)h[y]instanceof l.Table&&delete h[y]})}function R_(l,u){return l._cfg.version-u._cfg.version}function L_(l,u,h,y){var g=l._dbSchema;h.objectStoreNames.contains("$meta")&&!g.$meta&&(g.$meta=td("$meta",jm("")[0],[]),l._storeNames.push("$meta"));var w=l._createTransaction("readwrite",l._storeNames,g);w.create(h),w._completion.catch(y);var S=w._reject.bind(w),C=ge.transless||ge;jr(function(){return ge.trans=w,ge.transless=C,u!==0?(fa(l,h),T=u,((j=w).storeNames.includes("$meta")?j.table("$meta").get("version").then(function(L){return L??T}):ae.resolve(T)).then(function(L){return z=L,N=w,D=h,A=[],L=(I=l)._versions,U=I._dbSchema=ma(0,I.idbdb,D),(L=L.filter(function($){return $._cfg.version>=z})).length!==0?(L.forEach(function($){A.push(function(){var F=U,V=$._cfg.dbschema;ya(I,F,D),ya(I,V,D),U=I._dbSchema=V;var q=id(F,V);q.add.forEach(function(re){od(D,re[0],re[1].primKey,re[1].indexes)}),q.change.forEach(function(re){if(re.recreate)throw new le.Upgrade("Not yet support for changing primary key");var te=D.objectStore(re.name);re.add.forEach(function(fe){return pa(te,fe)}),re.change.forEach(function(fe){te.deleteIndex(fe.name),pa(te,fe)}),re.del.forEach(function(fe){return te.deleteIndex(fe)})});var X=$._cfg.contentUpgrade;if(X&&$._cfg.version>z){fa(I,D),N._memoizedTables={};var ne=W(V);q.del.forEach(function(re){ne[re]=F[re]}),rd(I,[I.Transaction.prototype]),ha(I,[I.Transaction.prototype],s(ne),ne),N.schema=ne;var Q,ee=oe(X);return ee&&Yi(),q=ae.follow(function(){var re;(Q=X(N))&&ee&&(re=Tr.bind(null,null),Q.then(re,re))}),Q&&typeof Q.then=="function"?ae.resolve(Q):q.then(function(){return Q})}}),A.push(function(F){var V,q,X=$._cfg.dbschema;V=X,q=F,[].slice.call(q.db.objectStoreNames).forEach(function(ne){return V[ne]==null&&q.db.deleteObjectStore(ne)}),rd(I,[I.Transaction.prototype]),ha(I,[I.Transaction.prototype],I._storeNames,I._dbSchema),N.schema=I._dbSchema}),A.push(function(F){I.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(I.idbdb.version/10)===$._cfg.version?(I.idbdb.deleteObjectStore("$meta"),delete I._dbSchema.$meta,I._storeNames=I._storeNames.filter(function(V){return V!=="$meta"})):F.objectStore("$meta").put($._cfg.version,"version"))})}),function $(){return A.length?ae.resolve(A.shift()(N.idbtrans)).then($):ae.resolve()}().then(function(){Om(U,D)})):ae.resolve();var I,z,N,D,A,U}).catch(S)):(s(g).forEach(function(L){od(h,L,g[L].primKey,g[L].indexes)}),fa(l,h),void ae.follow(function(){return l.on.populate.fire(w)}).catch(S));var j,T})}function M_(l,u){Om(l._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var h=ma(0,l.idbdb,u);ya(l,l._dbSchema,u);for(var y=0,g=id(h,l._dbSchema).change;y<g.length;y++){var w=function(S){if(S.change.length||S.recreate)return console.warn("Unable to patch indexes of table ".concat(S.name," because it has changes on the type of index or primary key.")),{value:void 0};var C=u.objectStore(S.name);S.add.forEach(function(j){Bn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(S.name,".").concat(j.src)),pa(C,j)})}(g[y]);if(typeof w=="object")return w.value}}function id(l,u){var h,y={del:[],add:[],change:[]};for(h in l)u[h]||y.del.push(h);for(h in u){var g=l[h],w=u[h];if(g){var S={name:h,def:w,recreate:!1,del:[],add:[],change:[]};if(""+(g.primKey.keyPath||"")!=""+(w.primKey.keyPath||"")||g.primKey.auto!==w.primKey.auto)S.recreate=!0,y.change.push(S);else{var C=g.idxByName,j=w.idxByName,T=void 0;for(T in C)j[T]||S.del.push(T);for(T in j){var L=C[T],I=j[T];L?L.src!==I.src&&S.change.push(I):S.add.push(I)}(0<S.del.length||0<S.add.length||0<S.change.length)&&y.change.push(S)}}else y.add.push([h,w])}return y}function od(l,u,h,y){var g=l.db.createObjectStore(u,h.keyPath?{keyPath:h.keyPath,autoIncrement:h.auto}:{autoIncrement:h.auto});return y.forEach(function(w){return pa(g,w)}),g}function Om(l,u){s(l).forEach(function(h){u.db.objectStoreNames.contains(h)||(Bn&&console.debug("Dexie: Creating missing table",h),od(u,h,l[h].primKey,l[h].indexes))})}function pa(l,u){l.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function ma(l,u,h){var y={};return k(u.objectStoreNames,0).forEach(function(g){for(var w=h.objectStore(g),S=ed(Cm(T=w.keyPath),T||"",!0,!1,!!w.autoIncrement,T&&typeof T!="string",!0),C=[],j=0;j<w.indexNames.length;++j){var L=w.index(w.indexNames[j]),T=L.keyPath,L=ed(L.name,T,!!L.unique,!!L.multiEntry,!1,T&&typeof T!="string",!1);C.push(L)}y[g]=td(g,S,C)}),y}function ya(l,u,h){for(var y=h.db.objectStoreNames,g=0;g<y.length;++g){var w=y[g],S=h.objectStore(w);l._hasGetAll="getAll"in S;for(var C=0;C<S.indexNames.length;++C){var j=S.indexNames[C],T=S.index(j).keyPath,L=typeof T=="string"?T:"["+k(T).join("+")+"]";!u[w]||(T=u[w].idxByName[L])&&(T.name=j,delete u[w].idxByName[L],u[w].idxByName[j]=T)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function jm(l){return l.split(",").map(function(u,h){var w=u.split(":"),y=(g=w[1])===null||g===void 0?void 0:g.trim(),g=(u=w[0].trim()).replace(/([&*]|\+\+)/g,""),w=/^\[/.test(g)?g.match(/^\[(.*)\]$/)[1].split("+"):g;return ed(g,w||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),a(w),h===0,y)})}var U_=(Zi.prototype._createTableSchema=td,Zi.prototype._parseIndexSyntax=jm,Zi.prototype._parseStoresSpec=function(l,u){var h=this;s(l).forEach(function(y){if(l[y]!==null){var g=h._parseIndexSyntax(l[y]),w=g.shift();if(!w)throw new le.Schema("Invalid schema for table "+y+": "+l[y]);if(w.unique=!0,w.multi)throw new le.Schema("Primary key cannot be multiEntry*");g.forEach(function(S){if(S.auto)throw new le.Schema("Only primary key can be marked as autoIncrement (++)");if(!S.keyPath)throw new le.Schema("Index must have a name and cannot be an empty string")}),g=h._createTableSchema(y,w,g),u[y]=g}})},Zi.prototype.stores=function(h){var u=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,h):h;var h=u._versions,y={},g={};return h.forEach(function(w){c(y,w._cfg.storesSource),g=w._cfg.dbschema={},w._parseStoresSpec(y,g)}),u._dbSchema=g,rd(u,[u._allTables,u,u.Transaction.prototype]),ha(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],s(g),g),u._storeNames=s(g),this},Zi.prototype.upgrade=function(l){return this._cfg.contentUpgrade=$c(this._cfg.contentUpgrade||be,l),this},Zi);function Zi(){}function sd(l,u){var h=l._dbNamesDB;return h||(h=l._dbNamesDB=new or(sa,{addons:[],indexedDB:l,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),h.table("dbnames")}function ld(l){return l&&typeof l.databases=="function"}function ad(l){return jr(function(){return ge.letThrough=!0,l()})}function ud(l){return!("from"in l)}var Mt=function(l,u){if(!this){var h=new Mt;return l&&"d"in l&&c(h,l),h}c(this,arguments.length?{d:1,from:l,to:1<arguments.length?u:l}:{d:0})};function vs(l,u,h){var y=Ue(u,h);if(!isNaN(y)){if(0<y)throw RangeError();if(ud(l))return c(l,{from:u,to:h,d:1});var g=l.l,y=l.r;if(Ue(h,l.from)<0)return g?vs(g,u,h):l.l={from:u,to:h,d:1,l:null,r:null},Nm(l);if(0<Ue(u,l.to))return y?vs(y,u,h):l.r={from:u,to:h,d:1,l:null,r:null},Nm(l);Ue(u,l.from)<0&&(l.from=u,l.l=null,l.d=y?y.d+1:1),0<Ue(h,l.to)&&(l.to=h,l.r=null,l.d=l.l?l.l.d+1:1),h=!l.r,g&&!l.l&&ws(l,g),y&&h&&ws(l,y)}}function ws(l,u){ud(u)||function h(y,j){var w=j.from,S=j.to,C=j.l,j=j.r;vs(y,w,S),C&&h(y,C),j&&h(y,j)}(l,u)}function Tm(l,u){var h=ga(u),y=h.next();if(y.done)return!1;for(var g=y.value,w=ga(l),S=w.next(g.from),C=S.value;!y.done&&!S.done;){if(Ue(C.from,g.to)<=0&&0<=Ue(C.to,g.from))return!0;Ue(g.from,C.from)<0?g=(y=h.next(C.from)).value:C=(S=w.next(g.from)).value}return!1}function ga(l){var u=ud(l)?null:{s:0,n:l};return{next:function(h){for(var y=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,y)for(;u.n.l&&Ue(h,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!y||Ue(h,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function Nm(l){var u,h,y=(((u=l.r)===null||u===void 0?void 0:u.d)||0)-(((h=l.l)===null||h===void 0?void 0:h.d)||0),g=1<y?"r":y<-1?"l":"";g&&(u=g=="r"?"l":"r",h=r({},l),y=l[g],l.from=y.from,l.to=y.to,l[g]=y[g],h[g]=y[u],(l[u]=h).d=Pm(h)),l.d=Pm(l)}function Pm(h){var u=h.r,h=h.l;return(u?h?Math.max(u.d,h.d):u.d:h?h.d:0)+1}function va(l,u){return s(u).forEach(function(h){l[h]?ws(l[h],u[h]):l[h]=function y(g){var w,S,C={};for(w in g)p(g,w)&&(S=g[w],C[w]=!S||typeof S!="object"||G.has(S.constructor)?S:y(S));return C}(u[h])}),l}function cd(l,u){return l.all||u.all||Object.keys(l).some(function(h){return u[h]&&Tm(u[h],l[h])})}m(Mt.prototype,((kn={add:function(l){return ws(this,l),this},addKey:function(l){return vs(this,l,l),this},addKeys:function(l){var u=this;return l.forEach(function(h){return vs(u,h,h)}),this},hasKey:function(l){var u=ga(this).next(l).value;return u&&Ue(u.from,l)<=0&&0<=Ue(u.to,l)}})[Z]=function(){return ga(this)},kn));var ki={},dd={},fd=!1;function wa(l){va(dd,l),fd||(fd=!0,setTimeout(function(){fd=!1,hd(dd,!(dd={}))},0))}function hd(l,u){u===void 0&&(u=!1);var h=new Set;if(l.all)for(var y=0,g=Object.values(ki);y<g.length;y++)Dm(S=g[y],l,h,u);else for(var w in l){var S,C=/^idb\:\/\/(.*)\/(.*)\//.exec(w);C&&(w=C[1],C=C[2],(S=ki["idb://".concat(w,"/").concat(C)])&&Dm(S,l,h,u))}h.forEach(function(j){return j()})}function Dm(l,u,h,y){for(var g=[],w=0,S=Object.entries(l.queries.query);w<S.length;w++){for(var C=S[w],j=C[0],T=[],L=0,I=C[1];L<I.length;L++){var z=I[L];cd(u,z.obsSet)?z.subscribers.forEach(function(U){return h.add(U)}):y&&T.push(z)}y&&g.push([j,T])}if(y)for(var N=0,D=g;N<D.length;N++){var A=D[N],j=A[0],T=A[1];l.queries.query[j]=T}}function z_(l){var u=l._state,h=l._deps.indexedDB;if(u.isBeingOpened||l.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?dt(u.dbOpenError):l});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var y=u.openCanceller,g=Math.round(10*l.verno),w=!1;function S(){if(u.openCanceller!==y)throw new le.DatabaseClosed("db.open() was cancelled")}function C(){return new ae(function(z,N){if(S(),!h)throw new le.MissingAPI;var D=l.name,A=u.autoSchema||!g?h.open(D):h.open(D,g);if(!A)throw new le.MissingAPI;A.onerror=Kn(N),A.onblocked=it(l._fireOnBlocked),A.onupgradeneeded=it(function(U){var $;L=A.transaction,u.autoSchema&&!l._options.allowEmptyDB?(A.onerror=ps,L.abort(),A.result.close(),($=h.deleteDatabase(D)).onsuccess=$.onerror=it(function(){N(new le.NoSuchDatabase("Database ".concat(D," doesnt exist")))})):(L.onerror=Kn(N),U=U.oldVersion>Math.pow(2,62)?0:U.oldVersion,I=U<1,l.idbdb=A.result,w&&M_(l,L),L_(l,U/10,L,N))},N),A.onsuccess=it(function(){L=null;var U,$,F,V,q,X=l.idbdb=A.result,ne=k(X.objectStoreNames);if(0<ne.length)try{var Q=X.transaction((V=ne).length===1?V[0]:V,"readonly");if(u.autoSchema)$=X,F=Q,(U=l).verno=$.version/10,F=U._dbSchema=ma(0,$,F),U._storeNames=k($.objectStoreNames,0),ha(U,[U._allTables],s(F),F);else if(ya(l,l._dbSchema,Q),((q=id(ma(0,(q=l).idbdb,Q),q._dbSchema)).add.length||q.change.some(function(ee){return ee.add.length||ee.change.length}))&&!w)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),X.close(),g=X.version+1,w=!0,z(C());fa(l,Q)}catch{}Qi.push(l),X.onversionchange=it(function(ee){u.vcFired=!0,l.on("versionchange").fire(ee)}),X.onclose=it(function(){l.close({disableAutoOpen:!1})}),I&&(q=l._deps,Q=D,X=q.indexedDB,q=q.IDBKeyRange,ld(X)||Q===sa||sd(X,q).put({name:Q}).catch(be)),z()},N)}).catch(function(z){switch(z==null?void 0:z.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),C();break;case"VersionError":if(0<g)return g=0,C()}return ae.reject(z)})}var j,T=u.dbReadyResolve,L=null,I=!1;return ae.race([y,(typeof navigator>"u"?ae.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(z){function N(){return indexedDB.databases().finally(z)}j=setInterval(N,100),N()}).finally(function(){return clearInterval(j)}):Promise.resolve()).then(C)]).then(function(){return S(),u.onReadyBeingFired=[],ae.resolve(ad(function(){return l.on.ready.fire(l.vip)})).then(function z(){if(0<u.onReadyBeingFired.length){var N=u.onReadyBeingFired.reduce($c,be);return u.onReadyBeingFired=[],ae.resolve(ad(function(){return N(l.vip)})).then(z)}})}).finally(function(){u.openCanceller===y&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(z){u.dbOpenError=z;try{L&&L.abort()}catch{}return y===u.openCanceller&&l._close(),dt(z)}).finally(function(){u.openComplete=!0,T()}).then(function(){var z;return I&&(z={},l.tables.forEach(function(N){N.schema.indexes.forEach(function(D){D.name&&(z["idb://".concat(l.name,"/").concat(N.name,"/").concat(D.name)]=new Mt(-1/0,[[[]]]))}),z["idb://".concat(l.name,"/").concat(N.name,"/")]=z["idb://".concat(l.name,"/").concat(N.name,"/:dels")]=new Mt(-1/0,[[[]]])}),Dr(ms).fire(z),hd(z,!0)),l})}function pd(l){function u(w){return l.next(w)}var h=g(u),y=g(function(w){return l.throw(w)});function g(w){return function(j){var C=w(j),j=C.value;return C.done?j:j&&typeof j.then=="function"?j.then(h,y):a(j)?Promise.all(j).then(h,y):h(j)}}return g(u)()}function ba(l,u,h){for(var y=a(l)?l.slice():[l],g=0;g<h;++g)y.push(u);return y}var $_={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return r(r({},l),{table:function(u){var h=l.table(u),y=h.schema,g={},w=[];function S(I,z,N){var D=gs(I),A=g[D]=g[D]||[],U=I==null?0:typeof I=="string"?1:I.length,$=0<z,$=r(r({},N),{name:$?"".concat(D,"(virtual-from:").concat(N.name,")"):N.name,lowLevelIndex:N,isVirtual:$,keyTail:z,keyLength:U,extractKey:nd(I),unique:!$&&N.unique});return A.push($),$.isPrimaryKey||w.push($),1<U&&S(U===2?I[0]:I.slice(0,U-1),z+1,N),A.sort(function(F,V){return F.keyTail-V.keyTail}),$}u=S(y.primaryKey.keyPath,0,y.primaryKey),g[":id"]=[u];for(var C=0,j=y.indexes;C<j.length;C++){var T=j[C];S(T.keyPath,0,T)}function L(I){var z,N=I.query.index;return N.isVirtual?r(r({},I),{query:{index:N.lowLevelIndex,range:(z=I.query.range,N=N.keyTail,{type:z.type===1?2:z.type,lower:ba(z.lower,z.lowerOpen?l.MAX_KEY:l.MIN_KEY,N),lowerOpen:!0,upper:ba(z.upper,z.upperOpen?l.MIN_KEY:l.MAX_KEY,N),upperOpen:!0})}}):I}return r(r({},h),{schema:r(r({},y),{primaryKey:u,indexes:w,getIndexByKeyPath:function(I){return(I=g[gs(I)])&&I[0]}}),count:function(I){return h.count(L(I))},query:function(I){return h.query(L(I))},openCursor:function(I){var z=I.query.index,N=z.keyTail,D=z.isVirtual,A=z.keyLength;return D?h.openCursor(L(I)).then(function($){return $&&U($)}):h.openCursor(I);function U($){return Object.create($,{continue:{value:function(F){F!=null?$.continue(ba(F,I.reverse?l.MAX_KEY:l.MIN_KEY,N)):I.unique?$.continue($.key.slice(0,A).concat(I.reverse?l.MIN_KEY:l.MAX_KEY,N)):$.continue()}},continuePrimaryKey:{value:function(F,V){$.continuePrimaryKey(ba(F,l.MAX_KEY,N),V)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var F=$.key;return A===1?F[0]:F.slice(0,A)}},value:{get:function(){return $.value}}})}}})}})}};function md(l,u,h,y){return h=h||{},y=y||"",s(l).forEach(function(g){var w,S,C;p(u,g)?(w=l[g],S=u[g],typeof w=="object"&&typeof S=="object"&&w&&S?(C=ke(w))!==ke(S)?h[y+g]=u[g]:C==="Object"?md(w,S,h,y+g+"."):w!==S&&(h[y+g]=u[g]):w!==S&&(h[y+g]=u[g])):h[y+g]=void 0}),s(u).forEach(function(g){p(l,g)||(h[y+g]=u[g])}),h}function yd(l,u){return u.type==="delete"?u.keys:u.keys||u.values.map(l.extractKey)}var F_={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return r(r({},l),{table:function(u){var h=l.table(u),y=h.schema.primaryKey;return r(r({},h),{mutate:function(g){var w=ge.trans,S=w.table(u).hook,C=S.deleting,j=S.creating,T=S.updating;switch(g.type){case"add":if(j.fire===be)break;return w._promise("readwrite",function(){return L(g)},!0);case"put":if(j.fire===be&&T.fire===be)break;return w._promise("readwrite",function(){return L(g)},!0);case"delete":if(C.fire===be)break;return w._promise("readwrite",function(){return L(g)},!0);case"deleteRange":if(C.fire===be)break;return w._promise("readwrite",function(){return function I(z,N,D){return h.query({trans:z,values:!1,query:{index:y,range:N},limit:D}).then(function(A){var U=A.result;return L({type:"delete",keys:U,trans:z}).then(function($){return 0<$.numFailures?Promise.reject($.failures[0]):U.length<D?{failures:[],numFailures:0,lastResult:void 0}:I(z,r(r({},N),{lower:U[U.length-1],lowerOpen:!0}),D)})})}(g.trans,g.range,1e4)},!0)}return h.mutate(g);function L(I){var z,N,D,A=ge.trans,U=I.keys||yd(y,I);if(!U)throw new Error("Keys missing");return(I=I.type==="add"||I.type==="put"?r(r({},I),{keys:U}):r({},I)).type!=="delete"&&(I.values=i([],I.values)),I.keys&&(I.keys=i([],I.keys)),z=h,D=U,((N=I).type==="add"?Promise.resolve([]):z.getMany({trans:N.trans,keys:D,cache:"immutable"})).then(function($){var F=U.map(function(V,q){var X,ne,Q,ee=$[q],re={onerror:null,onsuccess:null};return I.type==="delete"?C.fire.call(re,V,ee,A):I.type==="add"||ee===void 0?(X=j.fire.call(re,V,I.values[q],A),V==null&&X!=null&&(I.keys[q]=V=X,y.outbound||H(I.values[q],y.keyPath,V))):(X=md(ee,I.values[q]),(ne=T.fire.call(re,X,V,ee,A))&&(Q=I.values[q],Object.keys(ne).forEach(function(te){p(Q,te)?Q[te]=ne[te]:H(Q,te,ne[te])}))),re});return h.mutate(I).then(function(V){for(var q=V.failures,X=V.results,ne=V.numFailures,V=V.lastResult,Q=0;Q<U.length;++Q){var ee=(X||U)[Q],re=F[Q];ee==null?re.onerror&&re.onerror(q[Q]):re.onsuccess&&re.onsuccess(I.type==="put"&&$[Q]?I.values[Q]:ee)}return{failures:q,results:X,numFailures:ne,lastResult:V}}).catch(function(V){return F.forEach(function(q){return q.onerror&&q.onerror(V)}),Promise.reject(V)})})}}})}})}};function Am(l,u,h){try{if(!u||u.keys.length<l.length)return null;for(var y=[],g=0,w=0;g<u.keys.length&&w<l.length;++g)Ue(u.keys[g],l[w])===0&&(y.push(h?xe(u.values[g]):u.values[g]),++w);return y.length===l.length?y:null}catch{return null}}var B_={stack:"dbcore",level:-1,create:function(l){return{table:function(u){var h=l.table(u);return r(r({},h),{getMany:function(y){if(!y.cache)return h.getMany(y);var g=Am(y.keys,y.trans._cache,y.cache==="clone");return g?ae.resolve(g):h.getMany(y).then(function(w){return y.trans._cache={keys:y.keys,values:y.cache==="clone"?xe(w):w},w})},mutate:function(y){return y.type!=="add"&&(y.trans._cache=null),h.mutate(y)}})}}}};function Rm(l,u){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function Lm(l,u){switch(l){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var K_={stack:"dbcore",level:0,name:"Observability",create:function(l){var u=l.schema.name,h=new Mt(l.MIN_KEY,l.MAX_KEY);return r(r({},l),{transaction:function(y,g,w){if(ge.subscr&&g!=="readonly")throw new le.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ge.querier));return l.transaction(y,g,w)},table:function(y){var g=l.table(y),w=g.schema,S=w.primaryKey,I=w.indexes,C=S.extractKey,j=S.outbound,T=S.autoIncrement&&I.filter(function(N){return N.compound&&N.keyPath.includes(S.keyPath)}),L=r(r({},g),{mutate:function(N){function D(te){return te="idb://".concat(u,"/").concat(y,"/").concat(te),V[te]||(V[te]=new Mt)}var A,U,$,F=N.trans,V=N.mutatedParts||(N.mutatedParts={}),q=D(""),X=D(":dels"),ne=N.type,re=N.type==="deleteRange"?[N.range]:N.type==="delete"?[N.keys]:N.values.length<50?[yd(S,N).filter(function(te){return te}),N.values]:[],Q=re[0],ee=re[1],re=N.trans._cache;return a(Q)?(q.addKeys(Q),(re=ne==="delete"||Q.length===ee.length?Am(Q,re):null)||X.addKeys(Q),(re||ee)&&(A=D,U=re,$=ee,w.indexes.forEach(function(te){var fe=A(te.name||"");function Ie(Ae){return Ae!=null?te.extractKey(Ae):null}function Ne(Ae){return te.multiEntry&&a(Ae)?Ae.forEach(function(an){return fe.addKey(an)}):fe.addKey(Ae)}(U||$).forEach(function(Ae,Ut){var Ce=U&&Ie(U[Ut]),Ut=$&&Ie($[Ut]);Ue(Ce,Ut)!==0&&(Ce!=null&&Ne(Ce),Ut!=null&&Ne(Ut))})}))):Q?(ee={from:(ee=Q.lower)!==null&&ee!==void 0?ee:l.MIN_KEY,to:(ee=Q.upper)!==null&&ee!==void 0?ee:l.MAX_KEY},X.add(ee),q.add(ee)):(q.add(h),X.add(h),w.indexes.forEach(function(te){return D(te.name).add(h)})),g.mutate(N).then(function(te){return!Q||N.type!=="add"&&N.type!=="put"||(q.addKeys(te.results),T&&T.forEach(function(fe){for(var Ie=N.values.map(function(Ce){return fe.extractKey(Ce)}),Ne=fe.keyPath.findIndex(function(Ce){return Ce===S.keyPath}),Ae=0,an=te.results.length;Ae<an;++Ae)Ie[Ae][Ne]=te.results[Ae];D(fe.name).addKeys(Ie)})),F.mutatedParts=va(F.mutatedParts||{},V),te})}}),I=function(D){var A=D.query,D=A.index,A=A.range;return[D,new Mt((D=A.lower)!==null&&D!==void 0?D:l.MIN_KEY,(A=A.upper)!==null&&A!==void 0?A:l.MAX_KEY)]},z={get:function(N){return[S,new Mt(N.key)]},getMany:function(N){return[S,new Mt().addKeys(N.keys)]},count:I,query:I,openCursor:I};return s(z).forEach(function(N){L[N]=function(D){var A=ge.subscr,U=!!A,$=Rm(ge,g)&&Lm(N,D)?D.obsSet={}:A;if(U){var F=function(ee){return ee="idb://".concat(u,"/").concat(y,"/").concat(ee),$[ee]||($[ee]=new Mt)},V=F(""),q=F(":dels"),A=z[N](D),U=A[0],A=A[1];if((N==="query"&&U.isPrimaryKey&&!D.values?q:F(U.name||"")).add(A),!U.isPrimaryKey){if(N!=="count"){var X=N==="query"&&j&&D.values&&g.query(r(r({},D),{values:!1}));return g[N].apply(this,arguments).then(function(ee){if(N==="query"){if(j&&D.values)return X.then(function(Ie){return Ie=Ie.result,V.addKeys(Ie),ee});var re=D.values?ee.result.map(C):ee.result;(D.values?V:q).addKeys(re)}else if(N==="openCursor"){var te=ee,fe=D.values;return te&&Object.create(te,{key:{get:function(){return q.addKey(te.primaryKey),te.key}},primaryKey:{get:function(){var Ie=te.primaryKey;return q.addKey(Ie),Ie}},value:{get:function(){return fe&&V.addKey(te.primaryKey),te.value}}})}return ee})}q.add(h)}}return g[N].apply(this,arguments)}}),L}})}};function Mm(l,u,h){if(h.numFailures===0)return u;if(u.type==="deleteRange")return null;var y=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1;return h.numFailures===y?null:(u=r({},u),a(u.keys)&&(u.keys=u.keys.filter(function(g,w){return!(w in h.failures)})),"values"in u&&a(u.values)&&(u.values=u.values.filter(function(g,w){return!(w in h.failures)})),u)}function gd(l,u){return h=l,((y=u).lower===void 0||(y.lowerOpen?0<Ue(h,y.lower):0<=Ue(h,y.lower)))&&(l=l,(u=u).upper===void 0||(u.upperOpen?Ue(l,u.upper)<0:Ue(l,u.upper)<=0));var h,y}function Um(l,u,z,y,g,w){if(!z||z.length===0)return l;var S=u.query.index,C=S.multiEntry,j=u.query.range,T=y.schema.primaryKey.extractKey,L=S.extractKey,I=(S.lowLevelIndex||S).extractKey,z=z.reduce(function(N,D){var A=N,U=[];if(D.type==="add"||D.type==="put")for(var $=new Mt,F=D.values.length-1;0<=F;--F){var V,q=D.values[F],X=T(q);$.hasKey(X)||(V=L(q),(C&&a(V)?V.some(function(te){return gd(te,j)}):gd(V,j))&&($.addKey(X),U.push(q)))}switch(D.type){case"add":var ne=new Mt().addKeys(u.values?N.map(function(fe){return T(fe)}):N),A=N.concat(u.values?U.filter(function(fe){return fe=T(fe),!ne.hasKey(fe)&&(ne.addKey(fe),!0)}):U.map(function(fe){return T(fe)}).filter(function(fe){return!ne.hasKey(fe)&&(ne.addKey(fe),!0)}));break;case"put":var Q=new Mt().addKeys(D.values.map(function(fe){return T(fe)}));A=N.filter(function(fe){return!Q.hasKey(u.values?T(fe):fe)}).concat(u.values?U:U.map(function(fe){return T(fe)}));break;case"delete":var ee=new Mt().addKeys(D.keys);A=N.filter(function(fe){return!ee.hasKey(u.values?T(fe):fe)});break;case"deleteRange":var re=D.range;A=N.filter(function(fe){return!gd(T(fe),re)})}return A},l);return z===l?l:(z.sort(function(N,D){return Ue(I(N),I(D))||Ue(T(N),T(D))}),u.limit&&u.limit<1/0&&(z.length>u.limit?z.length=u.limit:l.length===u.limit&&z.length<u.limit&&(g.dirty=!0)),w?Object.freeze(z):z)}function zm(l,u){return Ue(l.lower,u.lower)===0&&Ue(l.upper,u.upper)===0&&!!l.lowerOpen==!!u.lowerOpen&&!!l.upperOpen==!!u.upperOpen}function V_(l,u){return function(h,y,g,w){if(h===void 0)return y!==void 0?-1:0;if(y===void 0)return 1;if((y=Ue(h,y))===0){if(g&&w)return 0;if(g)return 1;if(w)return-1}return y}(l.lower,u.lower,l.lowerOpen,u.lowerOpen)<=0&&0<=function(h,y,g,w){if(h===void 0)return y!==void 0?1:0;if(y===void 0)return-1;if((y=Ue(h,y))===0){if(g&&w)return 0;if(g)return-1;if(w)return 1}return y}(l.upper,u.upper,l.upperOpen,u.upperOpen)}function W_(l,u,h,y){l.subscribers.add(h),y.addEventListener("abort",function(){var g,w;l.subscribers.delete(h),l.subscribers.size===0&&(g=l,w=u,setTimeout(function(){g.subscribers.size===0&&R(w,g)},3e3))})}var H_={stack:"dbcore",level:0,name:"Cache",create:function(l){var u=l.schema.name;return r(r({},l),{transaction:function(h,y,g){var w,S,C=l.transaction(h,y,g);return y==="readwrite"&&(S=(w=new AbortController).signal,g=function(j){return function(){if(w.abort(),y==="readwrite"){for(var T=new Set,L=0,I=h;L<I.length;L++){var z=I[L],N=ki["idb://".concat(u,"/").concat(z)];if(N){var D=l.table(z),A=N.optimisticOps.filter(function(fe){return fe.trans===C});if(C._explicit&&j&&C.mutatedParts)for(var U=0,$=Object.values(N.queries.query);U<$.length;U++)for(var F=0,V=(ne=$[U]).slice();F<V.length;F++)cd((Q=V[F]).obsSet,C.mutatedParts)&&(R(ne,Q),Q.subscribers.forEach(function(fe){return T.add(fe)}));else if(0<A.length){N.optimisticOps=N.optimisticOps.filter(function(fe){return fe.trans!==C});for(var q=0,X=Object.values(N.queries.query);q<X.length;q++)for(var ne,Q,ee,re=0,te=(ne=X[q]).slice();re<te.length;re++)(Q=te[re]).res!=null&&C.mutatedParts&&(j&&!Q.dirty?(ee=Object.isFrozen(Q.res),ee=Um(Q.res,Q.req,A,D,Q,ee),Q.dirty?(R(ne,Q),Q.subscribers.forEach(function(fe){return T.add(fe)})):ee!==Q.res&&(Q.res=ee,Q.promise=ae.resolve({result:ee}))):(Q.dirty&&R(ne,Q),Q.subscribers.forEach(function(fe){return T.add(fe)})))}}}T.forEach(function(fe){return fe()})}}},C.addEventListener("abort",g(!1),{signal:S}),C.addEventListener("error",g(!1),{signal:S}),C.addEventListener("complete",g(!0),{signal:S})),C},table:function(h){var y=l.table(h),g=y.schema.primaryKey;return r(r({},y),{mutate:function(w){var S=ge.trans;if(g.outbound||S.db._options.cache==="disabled"||S.explicit||S.idbtrans.mode!=="readwrite")return y.mutate(w);var C=ki["idb://".concat(u,"/").concat(h)];return C?(S=y.mutate(w),w.type!=="add"&&w.type!=="put"||!(50<=w.values.length||yd(g,w).some(function(j){return j==null}))?(C.optimisticOps.push(w),w.mutatedParts&&wa(w.mutatedParts),S.then(function(j){0<j.numFailures&&(R(C.optimisticOps,w),(j=Mm(0,w,j))&&C.optimisticOps.push(j),w.mutatedParts&&wa(w.mutatedParts))}),S.catch(function(){R(C.optimisticOps,w),w.mutatedParts&&wa(w.mutatedParts)})):S.then(function(j){var T=Mm(0,r(r({},w),{values:w.values.map(function(L,I){var z;return j.failures[I]?L:(L=(z=g.keyPath)!==null&&z!==void 0&&z.includes(".")?xe(L):r({},L),H(L,g.keyPath,j.results[I]),L)})}),j);C.optimisticOps.push(T),queueMicrotask(function(){return w.mutatedParts&&wa(w.mutatedParts)})}),S):y.mutate(w)},query:function(w){if(!Rm(ge,y)||!Lm("query",w))return y.query(w);var S=((T=ge.trans)===null||T===void 0?void 0:T.db._options.cache)==="immutable",I=ge,C=I.requery,j=I.signal,T=function(D,A,U,$){var F=ki["idb://".concat(D,"/").concat(A)];if(!F)return[];if(!(A=F.queries[U]))return[null,!1,F,null];var V=A[($.query?$.query.index.name:null)||""];if(!V)return[null,!1,F,null];switch(U){case"query":var q=V.find(function(X){return X.req.limit===$.limit&&X.req.values===$.values&&zm(X.req.query.range,$.query.range)});return q?[q,!0,F,V]:[V.find(function(X){return("limit"in X.req?X.req.limit:1/0)>=$.limit&&(!$.values||X.req.values)&&V_(X.req.query.range,$.query.range)}),!1,F,V];case"count":return q=V.find(function(X){return zm(X.req.query.range,$.query.range)}),[q,!!q,F,V]}}(u,h,"query",w),L=T[0],I=T[1],z=T[2],N=T[3];return L&&I?L.obsSet=w.obsSet:(I=y.query(w).then(function(D){var A=D.result;if(L&&(L.res=A),S){for(var U=0,$=A.length;U<$;++U)Object.freeze(A[U]);Object.freeze(A)}else D.result=xe(A);return D}).catch(function(D){return N&&L&&R(N,L),Promise.reject(D)}),L={obsSet:w.obsSet,promise:I,subscribers:new Set,type:"query",req:w,dirty:!1},N?N.push(L):(N=[L],(z=z||(ki["idb://".concat(u,"/").concat(h)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[w.query.index.name||""]=N)),W_(L,N,C,j),L.promise.then(function(D){return{result:Um(D.result,w,z==null?void 0:z.optimisticOps,y,L,S)}})}})}})}};function ka(l,u){return new Proxy(l,{get:function(h,y,g){return y==="db"?u:Reflect.get(h,y,g)}})}var or=(ft.prototype.version=function(l){if(isNaN(l)||l<.1)throw new le.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new le.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var u=this._versions,h=u.filter(function(y){return y._cfg.version===l})[0];return h||(h=new this.Version(l),u.push(h),u.sort(R_),h.stores({}),this._state.autoSchema=!1,h)},ft.prototype._whenReady=function(l){var u=this;return this.idbdb&&(this._state.openComplete||ge.letThrough||this._vip)?l():new ae(function(h,y){if(u._state.openComplete)return y(new le.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void y(new le.DatabaseClosed);u.open().catch(be)}u._state.dbReadyPromise.then(h,y)}).then(l)},ft.prototype.use=function(l){var u=l.stack,h=l.create,y=l.level,g=l.name;return g&&this.unuse({stack:u,name:g}),l=this._middlewares[u]||(this._middlewares[u]=[]),l.push({stack:u,create:h,level:y??10,name:g}),l.sort(function(w,S){return w.level-S.level}),this},ft.prototype.unuse=function(l){var u=l.stack,h=l.name,y=l.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(g){return y?g.create!==y:!!h&&g.name!==h})),this},ft.prototype.open=function(){var l=this;return vi(Or,function(){return z_(l)})},ft.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,u=Qi.indexOf(this);if(0<=u&&Qi.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new ae(function(h){l.dbReadyResolve=h}),l.openCanceller=new ae(function(h,y){l.cancelOpen=y}))},ft.prototype.close=function(h){var u=(h===void 0?{disableAutoOpen:!0}:h).disableAutoOpen,h=this._state;u?(h.isBeingOpened&&h.cancelOpen(new le.DatabaseClosed),this._close(),h.autoOpen=!1,h.dbOpenError=new le.DatabaseClosed):(this._close(),h.autoOpen=this._options.autoOpen||h.isBeingOpened,h.openComplete=!1,h.dbOpenError=null)},ft.prototype.delete=function(l){var u=this;l===void 0&&(l={disableAutoOpen:!0});var h=0<arguments.length&&typeof arguments[0]!="object",y=this._state;return new ae(function(g,w){function S(){u.close(l);var C=u._deps.indexedDB.deleteDatabase(u.name);C.onsuccess=it(function(){var j,T,L;j=u._deps,T=u.name,L=j.indexedDB,j=j.IDBKeyRange,ld(L)||T===sa||sd(L,j).delete(T).catch(be),g()}),C.onerror=Kn(w),C.onblocked=u._fireOnBlocked}if(h)throw new le.InvalidArgument("Invalid closeOptions argument to db.delete()");y.isBeingOpened?y.dbReadyPromise.then(S):S()})},ft.prototype.backendDB=function(){return this.idbdb},ft.prototype.isOpen=function(){return this.idbdb!==null},ft.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},ft.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ft.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ft.prototype,"tables",{get:function(){var l=this;return s(this._allTables).map(function(u){return l._allTables[u]})},enumerable:!1,configurable:!0}),ft.prototype.transaction=function(){var l=(function(u,h,y){var g=arguments.length;if(g<2)throw new le.InvalidArgument("Too few arguments");for(var w=new Array(g-1);--g;)w[g-1]=arguments[g];return y=w.pop(),[u,de(w),y]}).apply(this,arguments);return this._transaction.apply(this,l)},ft.prototype._transaction=function(l,u,h){var y=this,g=ge.trans;g&&g.db===this&&l.indexOf("!")===-1||(g=null);var w,S,C=l.indexOf("?")!==-1;l=l.replace("!","").replace("?","");try{if(S=u.map(function(T){if(T=T instanceof y.Table?T.name:T,typeof T!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return T}),l=="r"||l===Yc)w=Yc;else{if(l!="rw"&&l!=Qc)throw new le.InvalidArgument("Invalid transaction mode: "+l);w=Qc}if(g){if(g.mode===Yc&&w===Qc){if(!C)throw new le.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");g=null}g&&S.forEach(function(T){if(g&&g.storeNames.indexOf(T)===-1){if(!C)throw new le.SubTransaction("Table "+T+" not included in parent transaction.");g=null}}),C&&g&&!g.active&&(g=null)}}catch(T){return g?g._promise(null,function(L,I){I(T)}):dt(T)}var j=(function T(L,I,z,N,D){return ae.resolve().then(function(){var A=ge.transless||ge,U=L._createTransaction(I,z,L._dbSchema,N);if(U.explicit=!0,A={trans:U,transless:A},N)U.idbtrans=N.idbtrans;else try{U.create(),U.idbtrans._explicit=!0,L._state.PR1398_maxLoop=3}catch(V){return V.name===Te.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return T(L,I,z,null,D)})):dt(V)}var $,F=oe(D);return F&&Yi(),A=ae.follow(function(){var V;($=D.call(U,U))&&(F?(V=Tr.bind(null,null),$.then(V,V)):typeof $.next=="function"&&typeof $.throw=="function"&&($=pd($)))},A),($&&typeof $.then=="function"?ae.resolve($).then(function(V){return U.active?V:dt(new le.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):A.then(function(){return $})).then(function(V){return N&&U._resolve(),U._completion.then(function(){return V})}).catch(function(V){return U._reject(V),dt(V)})})}).bind(null,this,w,S,g,h);return g?g._promise(w,j,"lock"):ge.trans?vi(ge.transless,function(){return y._whenReady(j)}):this._whenReady(j)},ft.prototype.table=function(l){if(!p(this._allTables,l))throw new le.InvalidTable("Table ".concat(l," does not exist"));return this._allTables[l]},ft);function ft(l,u){var h=this;this._middlewares={},this.verno=0;var y=ft.dependencies;this._options=u=r({addons:ft.addons,autoOpen:!0,indexedDB:y.indexedDB,IDBKeyRange:y.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},y=u.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var g,w,S,C,j,T={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:be,dbReadyPromise:null,cancelOpen:be,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen};T.dbReadyPromise=new ae(function(I){T.dbReadyResolve=I}),T.openCanceller=new ae(function(I,z){T.cancelOpen=z}),this._state=T,this.name=l,this.on=fs(this,"populate","blocked","versionchange","close",{ready:[$c,be]}),this.once=function(I,z){var N=function(){for(var D=[],A=0;A<arguments.length;A++)D[A]=arguments[A];h.on(I).unsubscribe(N),z.apply(h,D)};return h.on(I,N)},this.on.ready.subscribe=_(this.on.ready.subscribe,function(I){return function(z,N){ft.vip(function(){var D,A=h._state;A.openComplete?(A.dbOpenError||ae.resolve().then(z),N&&I(z)):A.onReadyBeingFired?(A.onReadyBeingFired.push(z),N&&I(z)):(I(z),D=h,N||I(function U(){D.on.ready.unsubscribe(z),D.on.ready.unsubscribe(U)}))})}}),this.Collection=(g=this,hs(O_.prototype,function($,U){this.db=g;var N=pm,D=null;if(U)try{N=U()}catch(F){D=F}var A=$._ctx,U=A.table,$=U.hook.reading.fire;this._ctx={table:U,index:A.index,isPrimKey:!A.index||U.schema.primKey.keyPath&&A.index===U.schema.primKey.name,range:N,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:D,or:A.or,valueMapper:$!==Me?$:null}})),this.Table=(w=this,hs(bm.prototype,function(I,z,N){this.db=w,this._tx=N,this.name=I,this.schema=z,this.hook=w._allTables[I]?w._allTables[I].hook:fs(null,{creating:[sn,be],reading:[Be,Me],updating:[Fn,be],deleting:[hi,be]})})),this.Transaction=(S=this,hs(N_.prototype,function(I,z,N,D,A){var U=this;I!=="readonly"&&z.forEach(function($){$=($=N[$])===null||$===void 0?void 0:$.yProps,$&&(z=z.concat($.map(function(F){return F.updatesTable})))}),this.db=S,this.mode=I,this.storeNames=z,this.schema=N,this.chromeTransactionDurability=D,this.idbtrans=null,this.on=fs(this,"complete","error","abort"),this.parent=A||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ae(function($,F){U._resolve=$,U._reject=F}),this._completion.then(function(){U.active=!1,U.on.complete.fire()},function($){var F=U.active;return U.active=!1,U.on.error.fire($),U.parent?U.parent._reject($):F&&U.idbtrans&&U.idbtrans.abort(),dt($)})})),this.Version=(C=this,hs(U_.prototype,function(I){this.db=C,this._cfg={version:I,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(j=this,hs(Em.prototype,function(I,z,N){if(this.db=j,this._ctx={table:I,index:z===":id"?null:z,or:N},this._cmp=this._ascending=Ue,this._descending=function(D,A){return Ue(A,D)},this._max=function(D,A){return 0<Ue(D,A)?D:A},this._min=function(D,A){return Ue(D,A)<0?D:A},this._IDBKeyRange=j._deps.IDBKeyRange,!this._IDBKeyRange)throw new le.MissingAPI})),this.on("versionchange",function(I){0<I.newVersion?console.warn("Another connection wants to upgrade database '".concat(h.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(h.name,"'. Closing db now to resume the delete request.")),h.close({disableAutoOpen:!1})}),this.on("blocked",function(I){!I.newVersion||I.newVersion<I.oldVersion?console.warn("Dexie.delete('".concat(h.name,"') was blocked")):console.warn("Upgrade '".concat(h.name,"' blocked by other connection holding version ").concat(I.oldVersion/10))}),this._maxKey=ys(u.IDBKeyRange),this._createTransaction=function(I,z,N,D){return new h.Transaction(I,z,N,h._options.chromeTransactionDurability,D)},this._fireOnBlocked=function(I){h.on("blocked").fire(I),Qi.filter(function(z){return z.name===h.name&&z!==h&&!z._state.vcFired}).map(function(z){return z.on("versionchange").fire(I)})},this.use(B_),this.use(H_),this.use(K_),this.use($_),this.use(F_);var L=new Proxy(this,{get:function(I,z,N){if(z==="_vip")return!0;if(z==="table")return function(A){return ka(h.table(A),L)};var D=Reflect.get(I,z,N);return D instanceof bm?ka(D,L):z==="tables"?D.map(function(A){return ka(A,L)}):z==="_createTransaction"?function(){return ka(D.apply(this,arguments),L)}:D}});this.vip=L,y.forEach(function(I){return I(h)})}var _a,kn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",q_=(vd.prototype.subscribe=function(l,u,h){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:u,complete:h})},vd.prototype[kn]=function(){return this},vd);function vd(l){this._subscribe=l}try{_a={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{_a={indexedDB:null,IDBKeyRange:null}}function $m(l){var u,h=!1,y=new q_(function(g){var w=oe(l),S,C=!1,j={},T={},L={get closed(){return C},unsubscribe:function(){C||(C=!0,S&&S.abort(),I&&Dr.storagemutated.unsubscribe(N))}};g.start&&g.start(L);var I=!1,z=function(){return Gc(D)},N=function(A){va(j,A),cd(T,j)&&z()},D=function(){var A,U,$;!C&&_a.indexedDB&&(j={},A={},S&&S.abort(),S=new AbortController,$=function(F){var V=qi();try{w&&Yi();var q=jr(l,F);return q=w?q.finally(Tr):q}finally{V&&Gi()}}(U={subscr:A,signal:S.signal,requery:z,querier:l,trans:null}),Promise.resolve($).then(function(F){h=!0,u=F,C||U.signal.aborted||(j={},function(V){for(var q in V)if(p(V,q))return;return 1}(T=A)||I||(Dr(ms,N),I=!0),Gc(function(){return!C&&g.next&&g.next(F)}))},function(F){h=!1,["DatabaseClosedError","AbortError"].includes(F==null?void 0:F.name)||C||Gc(function(){C||g.error&&g.error(F)})}))};return setTimeout(z,0),L});return y.hasValue=function(){return h},y.getValue=function(){return u},y}var _i=or;function wd(l){var u=Ar;try{Ar=!0,Dr.storagemutated.fire(l),hd(l,!0)}finally{Ar=u}}m(_i,r(r({},rt),{delete:function(l){return new _i(l,{addons:[]}).delete()},exists:function(l){return new _i(l,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return u=_i.dependencies,h=u.indexedDB,u=u.IDBKeyRange,(ld(h)?Promise.resolve(h.databases()).then(function(y){return y.map(function(g){return g.name}).filter(function(g){return g!==sa})}):sd(h,u).toCollection().primaryKeys()).then(l)}catch{return dt(new le.MissingAPI)}var u,h},defineClass:function(){return function(l){c(this,l)}},ignoreTransaction:function(l){return ge.trans?vi(ge.transless,l):l()},vip:ad,async:function(l){return function(){try{var u=pd(l.apply(this,arguments));return u&&typeof u.then=="function"?u:ae.resolve(u)}catch(h){return dt(h)}}},spawn:function(l,u,h){try{var y=pd(l.apply(h,u||[]));return y&&typeof y.then=="function"?y:ae.resolve(y)}catch(g){return dt(g)}},currentTransaction:{get:function(){return ge.trans||null}},waitFor:function(l,u){return u=ae.resolve(typeof l=="function"?_i.ignoreTransaction(l):l).timeout(u||6e4),ge.trans?ge.trans.waitFor(u):u},Promise:ae,debug:{get:function(){return Bn},set:function(l){lm(l)}},derive:x,extend:c,props:m,override:_,Events:fs,on:Dr,liveQuery:$m,extendObservabilitySet:va,getByKeyPath:B,setByKeyPath:H,delByKeyPath:function(l,u){typeof u=="string"?H(l,u,void 0):"length"in u&&[].map.call(u,function(h){H(l,h,void 0)})},shallowClone:W,deepClone:xe,getObjectDiff:md,cmp:Ue,asap:K,minKey:-1/0,addons:[],connections:Qi,errnames:Te,dependencies:_a,cache:ki,semVer:"4.2.1",version:"4.2.1".split(".").map(function(l){return parseInt(l)}).reduce(function(l,u,h){return l+u/Math.pow(10,2*h)})})),_i.maxKey=ys(_i.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Dr(ms,function(l){Ar||(l=new CustomEvent(Zc,{detail:l}),Ar=!0,dispatchEvent(l),Ar=!1)}),addEventListener(Zc,function(l){l=l.detail,Ar||wd(l)}));var eo,Ar=!1,Fm=function(){};return typeof BroadcastChannel<"u"&&((Fm=function(){(eo=new BroadcastChannel(Zc)).onmessage=function(l){return l.data&&wd(l.data)}})(),typeof eo.unref=="function"&&eo.unref(),Dr(ms,function(l){Ar||eo.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!or.disableBfCache&&l.persisted){Bn&&console.debug("Dexie: handling persisted pagehide"),eo!=null&&eo.close();for(var u=0,h=Qi;u<h.length;u++)h[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!or.disableBfCache&&l.persisted&&(Bn&&console.debug("Dexie: handling persisted pageshow"),Fm(),wd({all:new Mt(-1/0,[[]])}))})),ae.rejectionMapper=function(l,u){return!l||l instanceof we||l instanceof TypeError||l instanceof SyntaxError||!l.name||!Ve[l.name]?l:(u=new Ve[l.name](u||l.message,l),"stack"in l&&b(u,"stack",{get:function(){return this.inner.stack}}),u)},lm(Bn),r(or,Object.freeze({__proto__:null,Dexie:or,liveQuery:$m,Entity:mm,cmp:Ue,PropModification:ds,replacePrefix:function(l,u){return new ds({replacePrefix:[l,u]})},add:function(l){return new ds({add:l})},remove:function(l){return new ds({remove:l})},default:or,RangeSet:Mt,mergeRanges:ws,rangesOverlap:Tm}),{default:or}),or})})(Fw);var _S=Fw.exports;const ah=Iv(_S),Xy=Symbol.for("Dexie"),Re=globalThis[Xy]||(globalThis[Xy]=ah);if(ah.semVer!==Re.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ah.semVer} and ${Re.semVer}`);const{liveQuery:ei,mergeRanges:fT,rangesOverlap:hT,RangeSet:xS,cmp:xc,Entity:SS,PropModification:Zy,replacePrefix:pT,add:mT,remove:yT,DexieYProvider:gT}=Re;function Fl(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var o=io.useRef({hasResult:!1,result:i,error:null}),s=io.useReducer(function(d){return d+1},0);s[0];var a=s[1],c=io.useMemo(function(){var d=typeof e=="function"?e():e;if(!d||typeof d.subscribe!="function")throw e===d?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!o.current.hasResult&&typeof window<"u"&&(typeof d.hasValue!="function"||d.hasValue()))if(typeof d.getValue=="function")o.current.result=d.getValue(),o.current.hasResult=!0;else{var f=d.subscribe(function(p){o.current.result=p,o.current.hasResult=!0});typeof f=="function"?f():f.unsubscribe()}return d},r);if(io.useDebugValue(o.current.result),io.useEffect(function(){var d=c.subscribe(function(f){var p=o.current;(p.error!==null||p.result!==f)&&(p.error=null,p.result=f,p.hasResult=!0,a())},function(f){var p=o.current;p.error!==f&&(p.error=f,a())});return typeof d=="function"?d:d.unsubscribe.bind(d)},r),o.current.error)throw o.current.error;return o.current.result}function Bl(e,t,n){return Fl(function(){return Re.liveQuery(e)},t||[],n)}function Kl(e,t,n){if(!e)throw new TypeError("Invalid arguments to usePermissions(): undefined or null");var r;if(arguments.length>=3){if(!("transaction"in e))throw new TypeError("Invalid arguments to usePermission(db, table, obj): 1st arg must be a Dexie instance");if(typeof t!="string")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 2nd arg must be string");if(!n||typeof n!="object")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 3rd arg must be an object");r=e}else{if(e instanceof Re)throw new TypeError("Invalid arguments to usePermission(db, table, obj): Missing table and obj arguments.");if(typeof e.table=="function"&&typeof e.db=="object")r=e.db,n=e,t=e.table();else throw new TypeError("Invalid arguments to usePermissions(). Expected usePermissions(entity: DexieCloudEntity) or usePermissions(db: Dexie, table: string, obj: DexieCloudObject)")}if(!("cloud"in r))throw new Error("usePermissions() is only for Dexie Cloud but there's no dexie-cloud-addon active in given db.");if(!("permissions"in r.cloud))throw new Error("usePermissions() requires a newer version of dexie-cloud-addon. Please upgrade it.");return Fl(function(){return r.cloud.permissions(n,t)},[n.realmId,n.owner,t])}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(e){var t=Re.DexieYProvider;t&&t.release(e)});const _r=Math.floor,cu=Math.abs,Bw=(e,t)=>e<t?e:t,Qo=(e,t)=>e>t?e:t,Kw=e=>e!==0?e<0:1/e<0,eg=1,tg=2,qd=4,Gd=8,bl=32,yr=64,pn=128,Sc=31,uh=63,Di=127,ES=2147483647,Vw=Number.MAX_SAFE_INTEGER,CS=Number.isInteger||(e=>typeof e=="number"&&isFinite(e)&&_r(e)===e),zi=()=>new Set,Yd=e=>e[e.length-1],IS=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},li=Array.from,OS=Array.isArray,jS=e=>e.toLowerCase(),TS=/^\s*/g,NS=e=>e.replace(TS,""),PS=/([A-Z])/g,ng=(e,t)=>NS(e.replace(PS,n=>`${t}${jS(n)}`)),DS=e=>{const t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.codePointAt(i);return r},kl=typeof TextEncoder<"u"?new TextEncoder:null,AS=e=>kl.encode(e),RS=kl?AS:DS;let Gs=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Gs&&Gs.decode(new Uint8Array).length===1&&(Gs=null);class Jo{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Xo=()=>new Jo,LS=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},fn=e=>{const t=new Uint8Array(LS(e));let n=0;for(let r=0;r<e.bufs.length;r++){const i=e.bufs[r];t.set(i,n),n+=i.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},MS=(e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(Qo(n,t)*2),e.cpos=0)},Ct=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(n*2),e.cpos=0),e.cbuf[e.cpos++]=t},ch=Ct,Oe=(e,t)=>{for(;t>Di;)Ct(e,pn|Di&t),t=_r(t/128);Ct(e,Di&t)},Rp=(e,t)=>{const n=Kw(t);for(n&&(t=-t),Ct(e,(t>uh?pn:0)|(n?yr:0)|uh&t),t=_r(t/64);t>0;)Ct(e,(t>Di?pn:0)|Di&t),t=_r(t/128)},dh=new Uint8Array(3e4),US=dh.length/3,zS=(e,t)=>{if(t.length<US){const n=kl.encodeInto(t,dh).written||0;Oe(e,n);for(let r=0;r<n;r++)Ct(e,dh[r])}else Nt(e,RS(t))},$S=(e,t)=>{const n=unescape(encodeURIComponent(t)),r=n.length;Oe(e,r);for(let i=0;i<r;i++)Ct(e,n.codePointAt(i))},En=kl&&kl.encodeInto?zS:$S,FS=(e,t)=>Vl(e,fn(t)),Vl=(e,t)=>{const n=e.cbuf.length,r=e.cpos,i=Bw(n-r,t.length),o=t.length-i;e.cbuf.set(t.subarray(0,i),r),e.cpos+=i,o>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(Qo(n*2,o)),e.cbuf.set(t.subarray(i)),e.cpos=o)},Nt=(e,t)=>{Oe(e,t.byteLength),Vl(e,t)},Ec=(e,t)=>{MS(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},BS=(e,t)=>Ec(e,4).setFloat32(0,t,!1),KS=(e,t)=>Ec(e,8).setFloat64(0,t,!1),VS=(e,t)=>Ec(e,8).setBigInt64(0,t,!1),rg=(e,t)=>Ec(e,8).setBigUint64(0,t,!1),ig=new DataView(new ArrayBuffer(4)),WS=e=>(ig.setFloat32(0,e),ig.getFloat32(0)===e),ti=(e,t)=>{switch(typeof t){case"string":Ct(e,119),En(e,t);break;case"number":CS(t)&&cu(t)<=ES?(Ct(e,125),Rp(e,t)):WS(t)?(Ct(e,124),BS(e,t)):(Ct(e,123),KS(e,t));break;case"bigint":Ct(e,122),VS(e,t);break;case"object":if(t===null)Ct(e,126);else if(OS(t)){Ct(e,117),Oe(e,t.length);for(let n=0;n<t.length;n++)ti(e,t[n])}else if(t instanceof Uint8Array)Ct(e,116),Nt(e,t);else{Ct(e,118);const n=Object.keys(t);Oe(e,n.length);for(let r=0;r<n.length;r++){const i=n[r];En(e,i),ti(e,t[i])}}break;case"boolean":Ct(e,t?120:121);break;default:Ct(e,127)}};class og extends Jo{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&Oe(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const sg=e=>{e.count>0&&(Rp(e.encoder,e.count===1?e.s:-e.s),e.count>1&&Oe(e.encoder,e.count-2))};class du{constructor(){this.encoder=new Jo,this.s=0,this.count=0}write(t){this.s===t?this.count++:(sg(this),this.count=1,this.s=t)}toUint8Array(){return sg(this),fn(this.encoder)}}const lg=e=>{if(e.count>0){const t=e.diff*2+(e.count===1?0:1);Rp(e.encoder,t),e.count>1&&Oe(e.encoder,e.count-2)}};class Qd{constructor(){this.encoder=new Jo,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(lg(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return lg(this),fn(this.encoder)}}class HS{constructor(){this.sarr=[],this.s="",this.lensE=new du}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new Jo;return this.sarr.push(this.s),this.s="",En(t,this.sarr.join("")),Vl(t,this.lensE.toUint8Array()),fn(t)}}const ai=e=>new Error(e),Zn=()=>{throw ai("Method unimplemented")},er=()=>{throw ai("Unexpected case")},Ww=ai("Unexpected end of array"),Hw=ai("Integer out of Range");class Zo{constructor(t){this.arr=t,this.pos=0}}const Wl=e=>new Zo(e),qw=e=>e.pos!==e.arr.length,qS=(e,t)=>{const n=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},Pt=e=>qS(e,Qe(e)),Uo=e=>e.arr[e.pos++],Qe=e=>{let t=0,n=1;const r=e.arr.length;for(;e.pos<r;){const i=e.arr[e.pos++];if(t=t+(i&Di)*n,n*=128,i<pn)return t;if(t>Vw)throw Hw}throw Ww},Lp=e=>{let t=e.arr[e.pos++],n=t&uh,r=64;const i=(t&yr)>0?-1:1;if(!(t&pn))return i*n;const o=e.arr.length;for(;e.pos<o;){if(t=e.arr[e.pos++],n=n+(t&Di)*r,r*=128,t<pn)return i*n;if(n>Vw)throw Hw}throw Ww},GS=e=>{let t=Qe(e);if(t===0)return"";{let n=String.fromCodePoint(Uo(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(Uo(e));else for(;t>0;){const r=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(n))}},YS=e=>Gs.decode(Pt(e)),Cn=Gs?YS:GS,Cc=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},QS=e=>Cc(e,4).getFloat32(0,!1),JS=e=>Cc(e,8).getFloat64(0,!1),XS=e=>Cc(e,8).getBigInt64(0,!1),ag=e=>Cc(e,8).getBigUint64(0,!1),ZS=[e=>{},e=>null,Lp,QS,JS,XS,e=>!1,e=>!0,Cn,e=>{const t=Qe(e),n={};for(let r=0;r<t;r++){const i=Cn(e);n[i]=ni(e)}return n},e=>{const t=Qe(e),n=[];for(let r=0;r<t;r++)n.push(ni(e));return n},Pt],ni=e=>ZS[127-Uo(e)](e);class ug extends Zo{constructor(t,n){super(t),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),qw(this)?this.count=Qe(this)+1:this.count=-1),this.count--,this.s}}class fu extends Zo{constructor(t){super(t),this.s=0,this.count=0}read(){if(this.count===0){this.s=Lp(this);const t=Kw(this.s);this.count=1,t&&(this.s=-this.s,this.count=Qe(this)+2)}return this.count--,this.s}}class Jd extends Zo{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const t=Lp(this),n=t&1;this.diff=_r(t/2),this.count=1,n&&(this.count=Qe(this)+2)}return this.s+=this.diff,this.count--,this.s}}class eE{constructor(t){this.decoder=new fu(t),this.str=Cn(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),n=this.str.slice(this.spos,t);return this.spos=t,n}}var fh=function(e,t){return fh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},fh(e,t)};function Sr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");fh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function tE(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{d(r.next(f))}catch(p){s(p)}}function c(f){try{d(r.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((r=r.apply(e,[])).next())})}function Gw(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(d){return function(f){return c([d,f])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(f){d=[6,f],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function zo(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $i(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function $o(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Io(e){return this instanceof Io?(this.v=e,this):new Io(e)}function nE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){r[m]&&(i[m]=function(v){return new Promise(function(b,x){o.push([m,v,b,x])>1||a(m,v)})})}function a(m,v){try{c(r[m](v))}catch(b){p(o[0][3],b)}}function c(m){m.value instanceof Io?Promise.resolve(m.value.v).then(d,f):p(o[0][2],m)}function d(m){a("next",m)}function f(m){a("throw",m)}function p(m,v){m(v),o.shift(),o.length&&a(o[0][0],o[0][1])}}function rE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof zo=="function"?zo(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},s)}}function qe(e){return typeof e=="function"}function Mp(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Xd=Mp(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Ku(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var es=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=zo(s),c=a.next();!c.done;c=a.next()){var d=c.value;d.remove(this)}}catch(x){t={error:x}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var f=this.initialTeardown;if(qe(f))try{f()}catch(x){o=x instanceof Xd?x.errors:[x]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var m=zo(p),v=m.next();!v.done;v=m.next()){var b=v.value;try{cg(b)}catch(x){o=o??[],x instanceof Xd?o=$o($o([],$i(o)),$i(x.errors)):o.push(x)}}}catch(x){r={error:x}}finally{try{v&&!v.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}}if(o)throw new Xd(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)cg(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Ku(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Ku(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Yw=es.EMPTY;function Qw(e){return e instanceof es||e&&"closed"in e&&qe(e.remove)&&qe(e.add)&&qe(e.unsubscribe)}function cg(e){qe(e)?e():e.unsubscribe()}var iE={Promise:void 0},oE={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,$o([e,t],$i(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Jw(e){oE.setTimeout(function(){throw e})}function dg(){}function hu(e){e()}var Up=function(e){Sr(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Qw(n)&&n.add(r)):r.destination=aE,r}return t.create=function(n,r,i){return new Fo(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(es),sE=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Fa(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Fa(r)}else Fa(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Fa(n)}},e}(),Fo=function(e){Sr(t,e);function t(n,r,i){var o=e.call(this)||this,s;return qe(n)||!n?s={next:n??void 0,error:r??void 0,complete:i??void 0}:s=n,o.destination=new sE(s),o}return t}(Up);function Fa(e){Jw(e)}function lE(e){throw e}var aE={closed:!0,next:dg,error:lE,complete:dg},zp=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ts(e){return e}function uE(e){return e.length===0?ts:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var kt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=dE(t)?t:new Fo(t,n,r);return hu(function(){var s=i,a=s.operator,c=s.source;o.add(a?a.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=fg(n),new n(function(i,o){var s=new Fo({next:function(a){try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[zp]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return uE(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=fg(t),new t(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function fg(e){var t;return(t=e??iE.Promise)!==null&&t!==void 0?t:Promise}function cE(e){return e&&qe(e.next)&&qe(e.error)&&qe(e.complete)}function dE(e){return e&&e instanceof Up||cE(e)&&Qw(e)}function fE(e){return qe(e==null?void 0:e.lift)}function bn(e){return function(t){if(fE(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function gn(e,t,n,r,i){return new hE(e,t,n,r,i)}var hE=function(e){Sr(t,e);function t(n,r,i,o,s,a){var c=e.call(this,n)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=r?function(d){try{r(d)}catch(f){n.error(f)}}:e.prototype._next,c._error=o?function(d){try{o(d)}catch(f){n.error(f)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=i?function(){try{i()}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Up),pE=Mp(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Fi=function(e){Sr(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new hg(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new pE},t.prototype.next=function(n){var r=this;hu(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=zo(r.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(n)}}catch(d){i={error:d}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;hu(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;hu(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?Yw:(this.currentObservers=null,a.push(n),new es(function(){r.currentObservers=null,Ku(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,s=r.isStopped;i?n.error(o):s&&n.complete()},t.prototype.asObservable=function(){var n=new kt;return n.source=this,n},t.create=function(n,r){return new hg(n,r)},t}(kt),hg=function(e){Sr(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:Yw},t}(Fi),Mn=function(e){Sr(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Fi),mE={now:function(){return Date.now()}},yE=function(e){Sr(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(es),pg={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,$o([e,t],$i(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},gE=function(e){Sr(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),pg.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;pg.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ku(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(yE),mg=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=mE.now,e}(),vE=function(e){Sr(t,e);function t(n,r){r===void 0&&(r=mg.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(mg),$p=new vE(gE),wE=$p,Xw=new kt(function(e){return e.complete()});function Zw(e){return e&&qe(e.schedule)}function Fp(e){return e[e.length-1]}function bE(e){return qe(Fp(e))?e.pop():void 0}function Hl(e){return Zw(Fp(e))?e.pop():void 0}function kE(e,t){return typeof Fp(e)=="number"?e.pop():t}var Bp=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function eb(e){return qe(e==null?void 0:e.then)}function tb(e){return qe(e[zp])}function nb(e){return Symbol.asyncIterator&&qe(e==null?void 0:e[Symbol.asyncIterator])}function rb(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function _E(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ib=_E();function ob(e){return qe(e==null?void 0:e[ib])}function sb(e){return nE(this,arguments,function(){var n,r,i,o;return Gw(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Io(n.read())];case 3:return r=s.sent(),i=r.value,o=r.done,o?[4,Io(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Io(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function lb(e){return qe(e==null?void 0:e.getReader)}function rr(e){if(e instanceof kt)return e;if(e!=null){if(tb(e))return xE(e);if(Bp(e))return SE(e);if(eb(e))return EE(e);if(nb(e))return ab(e);if(ob(e))return CE(e);if(lb(e))return IE(e)}throw rb(e)}function xE(e){return new kt(function(t){var n=e[zp]();if(qe(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SE(e){return new kt(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function EE(e){return new kt(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Jw)})}function CE(e){return new kt(function(t){var n,r;try{for(var i=zo(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function ab(e){return new kt(function(t){OE(e,t).catch(function(n){return t.error(n)})})}function IE(e){return ab(sb(e))}function OE(e,t){var n,r,i,o;return tE(this,void 0,void 0,function(){var s,a;return Gw(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=rE(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function ri(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ub(e,t){return t===void 0&&(t=0),bn(function(n,r){n.subscribe(gn(r,function(i){return ri(r,e,function(){return r.next(i)},t)},function(){return ri(r,e,function(){return r.complete()},t)},function(i){return ri(r,e,function(){return r.error(i)},t)}))})}function cb(e,t){return t===void 0&&(t=0),bn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function jE(e,t){return rr(e).pipe(cb(t),ub(t))}function TE(e,t){return rr(e).pipe(cb(t),ub(t))}function NE(e,t){return new kt(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function PE(e,t){return new kt(function(n){var r;return ri(n,t,function(){r=e[ib](),ri(n,t,function(){var i,o,s;try{i=r.next(),o=i.value,s=i.done}catch(a){n.error(a);return}s?n.complete():n.next(o)},0,!0)}),function(){return qe(r==null?void 0:r.return)&&r.return()}})}function db(e,t){if(!e)throw new Error("Iterable cannot be null");return new kt(function(n){ri(n,t,function(){var r=e[Symbol.asyncIterator]();ri(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function DE(e,t){return db(sb(e),t)}function AE(e,t){if(e!=null){if(tb(e))return jE(e,t);if(Bp(e))return NE(e,t);if(eb(e))return TE(e,t);if(nb(e))return db(e,t);if(ob(e))return PE(e,t);if(lb(e))return DE(e,t)}throw rb(e)}function mn(e,t){return t?AE(e,t):rr(e)}function gr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Hl(e);return mn(e,n)}function yg(e,t){var n=qe(e)?e:function(){return e},r=function(i){return i.error(n())};return new kt(r)}var RE=Mp(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Ti(e,t){return new Promise(function(n,r){var i=new Fo({next:function(o){n(o),i.unsubscribe()},error:r,complete:function(){r(new RE)}});e.subscribe(i)})}function LE(e){return e instanceof Date&&!isNaN(e)}function cn(e,t){return bn(function(n,r){var i=0;n.subscribe(gn(r,function(o){r.next(e.call(t,o,i++))}))})}var ME=Array.isArray;function UE(e,t){return ME(t)?e.apply(void 0,$o([],$i(t))):e(t)}function fb(e){return cn(function(t){return UE(e,t)})}var zE=Array.isArray,$E=Object.getPrototypeOf,FE=Object.prototype,BE=Object.keys;function KE(e){if(e.length===1){var t=e[0];if(zE(t))return{args:t,keys:null};if(VE(t)){var n=BE(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function VE(e){return e&&typeof e=="object"&&$E(e)===FE}function WE(e,t){return e.reduce(function(n,r,i){return n[r]=t[i],n},{})}function _l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Hl(e),r=bE(e),i=KE(e),o=i.args,s=i.keys;if(o.length===0)return mn([],n);var a=new kt(HE(o,n,s?function(c){return WE(s,c)}:ts));return r?a.pipe(fb(r)):a}function HE(e,t,n){return n===void 0&&(n=ts),function(r){gg(t,function(){for(var i=e.length,o=new Array(i),s=i,a=i,c=function(f){gg(t,function(){var p=mn(e[f],t),m=!1;p.subscribe(gn(r,function(v){o[f]=v,m||(m=!0,a--),a||r.next(n(o.slice()))},function(){--s||r.complete()}))},r)},d=0;d<i;d++)c(d)},r)}}function gg(e,t,n){e?ri(n,e,t):t()}function qE(e,t,n,r,i,o,s,a){var c=[],d=0,f=0,p=!1,m=function(){p&&!c.length&&!d&&t.complete()},v=function(x){return d<r?b(x):c.push(x)},b=function(x){d++;var P=!1;rr(n(x,f++)).subscribe(gn(t,function(E){t.next(E)},function(){P=!0},void 0,function(){if(P)try{d--;for(var E=function(){var k=c.shift();s||b(k)};c.length&&d<r;)E();m()}catch(k){t.error(k)}}))};return e.subscribe(gn(t,v,function(){p=!0,m()})),function(){}}function ql(e,t,n){return n===void 0&&(n=1/0),qe(t)?ql(function(r,i){return cn(function(o,s){return t(r,o,i,s)})(rr(e(r,i)))},n):(typeof t=="number"&&(n=t),bn(function(r,i){return qE(r,i,e,n)}))}function hb(e){return e===void 0&&(e=1/0),ql(ts,e)}function GE(){return hb(1)}function vg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return GE()(mn(e,Hl(e)))}var YE=["addListener","removeListener"],QE=["addEventListener","removeEventListener"],JE=["on","off"];function Qn(e,t,n,r){if(qe(n)&&(r=n,n=void 0),r)return Qn(e,t,n).pipe(fb(r));var i=$i(eC(e)?QE.map(function(a){return function(c){return e[a](t,c,n)}}):XE(e)?YE.map(wg(e,t)):ZE(e)?JE.map(wg(e,t)):[],2),o=i[0],s=i[1];if(!o&&Bp(e))return ql(function(a){return Qn(a,t,n)})(rr(e));if(!o)throw new TypeError("Invalid event target");return new kt(function(a){var c=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return a.next(1<d.length?d:d[0])};return o(c),function(){return s(c)}})}function wg(e,t){return function(n){return function(r){return e[n](t,r)}}}function XE(e){return qe(e.addListener)&&qe(e.removeListener)}function ZE(e){return qe(e.on)&&qe(e.off)}function eC(e){return qe(e.addEventListener)&&qe(e.removeEventListener)}function pb(e,t,n){e===void 0&&(e=0),n===void 0&&(n=wE);var r=-1;return t!=null&&(Zw(t)?n=t:r=t),new kt(function(i){var o=LE(e)?+e-n.now():e;o<0&&(o=0);var s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Ic(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Hl(e),r=kE(e,1/0),i=e;return i.length?i.length===1?rr(i[0]):hb(r)(mn(i,n)):Xw}function _n(e,t){return bn(function(n,r){var i=0;n.subscribe(gn(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}function hh(e){return bn(function(t,n){var r=null,i=!1,o;r=t.subscribe(gn(n,void 0,void 0,function(s){o=rr(e(s,hh(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function bg(e,t){return t===void 0&&(t=$p),bn(function(n,r){var i=null,o=null,s=null,a=function(){if(i){i.unsubscribe(),i=null;var d=o;o=null,r.next(d)}};function c(){var d=s+e,f=t.now();if(f<d){i=this.schedule(void 0,d-f),r.add(i);return}a()}n.subscribe(gn(r,function(d){o=d,s=t.now(),i||(i=t.schedule(c,e),r.add(i))},function(){a(),r.complete()},void 0,function(){o=i=null}))})}function oo(e){return e<=0?function(){return Xw}:bn(function(t,n){var r=0;t.subscribe(gn(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function tC(e){return cn(function(){return e})}function nC(e,t){return ql(function(n,r){return e(n,r).pipe(oo(1),tC(n))})}function mb(e,t){t===void 0&&(t=$p);var n=pb(e,t);return nC(function(){return n})}function yb(e,t){return t===void 0&&(t=ts),e=e??rC,bn(function(n,r){var i,o=!0;n.subscribe(gn(r,function(s){var a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}function rC(e,t){return e===t}function iC(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Fi}:t,r=e.resetOnError,i=r===void 0?!0:r,o=e.resetOnComplete,s=o===void 0?!0:o,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(d){var f,p,m,v=0,b=!1,x=!1,P=function(){p==null||p.unsubscribe(),p=void 0},E=function(){P(),f=m=void 0,b=x=!1},k=function(){var _=f;E(),_==null||_.unsubscribe()};return bn(function(_,M){v++,!x&&!b&&P();var K=m=m??n();M.add(function(){v--,v===0&&!x&&!b&&(p=Zd(k,c))}),K.subscribe(M),!f&&v>0&&(f=new Fo({next:function(B){return K.next(B)},error:function(B){x=!0,P(),p=Zd(E,i,B),K.error(B)},complete:function(){b=!0,P(),p=Zd(E,s),K.complete()}}),rr(_).subscribe(f))})(d)}}function Zd(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new Fo({next:function(){i.unsubscribe(),e()}});return t.apply(void 0,$o([],$i(n))).subscribe(i)}}function kg(e){return _n(function(t,n){return e<=n})}function gb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Hl(e);return bn(function(r,i){(n?vg(e,r,n):vg(e,r)).subscribe(i)})}function Bt(e,t){return bn(function(n,r){var i=null,o=0,s=!1,a=function(){return s&&!i&&r.complete()};n.subscribe(gn(r,function(c){i==null||i.unsubscribe();var d=0,f=o++;rr(e(c,f)).subscribe(i=gn(r,function(p){return r.next(t?t(c,p,f,d++):p)},function(){i=null,a()}))},function(){s=!0,a()}))})}function ph(e,t,n){var r=qe(e)||t||n?{next:e,error:t,complete:n}:e;return r?bn(function(i,o){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;i.subscribe(gn(o,function(c){var d;(d=r.next)===null||d===void 0||d.call(r,c),o.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},function(c){var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,c),o.error(c)},function(){var c,d;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):ts}const on=()=>new Map,mh=e=>{const t=on();return e.forEach((n,r)=>{t.set(r,n)}),t},Er=(e,t,n)=>{let r=e.get(t);return r===void 0&&e.set(t,r=n()),r},oC=(e,t)=>{const n=[];for(const[r,i]of e)n.push(t(i,r));return n},sC=(e,t)=>{for(const[n,r]of e)if(t(r,n))return!0;return!1};class lC{constructor(){this._observers=on()}on(t,n){return Er(this._observers,t,zi).add(n),n}once(t,n){const r=(...i)=>{this.off(t,r),n(...i)};this.on(t,r)}off(t,n){const r=this._observers.get(t);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(t))}emit(t,n){return li((this._observers.get(t)||on()).values()).forEach(r=>r(...n))}destroy(){this._observers=on()}}class aC{constructor(){this._observers=on()}on(t,n){Er(this._observers,t,zi).add(n)}once(t,n){const r=(...i)=>{this.off(t,r),n(...i)};this.on(t,r)}off(t,n){const r=this._observers.get(t);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(t))}emit(t,n){return li((this._observers.get(t)||on()).values()).forEach(r=>r(...n))}destroy(){this._observers=on()}}const uC=crypto.getRandomValues.bind(crypto),vb=()=>uC(new Uint32Array(1))[0],cC="10000000-1000-4000-8000"+-1e11,dC=()=>cC.replace(/[018]/g,e=>(e^vb()&15>>e/4).toString(16)),Vu=Date.now,_g=e=>new Promise(e);Promise.all.bind(Promise);const xg=e=>e===void 0?null:e;class fC{constructor(){this.map=new Map}setItem(t,n){this.map.set(t,n)}getItem(t){return this.map.get(t)}}let wb=new fC,hC=!0;try{typeof localStorage<"u"&&localStorage&&(wb=localStorage,hC=!1)}catch{}const pC=wb,mC=Object.assign,bb=Object.keys,yC=(e,t)=>{for(const n in e)t(e[n],n)},Sg=e=>bb(e).length,Eg=e=>bb(e).length,gC=e=>{for(const t in e)return!1;return!0},vC=(e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0},kb=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),wC=(e,t)=>e===t||Eg(e)===Eg(t)&&vC(e,(n,r)=>(n!==void 0||kb(t,r))&&t[r]===n),bC=Object.freeze,_b=e=>{for(const t in e){const n=e[t];(typeof n=="object"||typeof n=="function")&&_b(e[t])}return bC(e)},Kp=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&Kp(e,t,n+1)}},kC=(e,t)=>e===t,Ys=(e,t)=>{if(e==null||t==null)return kC(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:{if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;break}case Set:{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;break}case Map:{if(e.size!==t.size)return!1;for(const n of e.keys())if(!t.has(n)||!Ys(e.get(n),t.get(n)))return!1;break}case Object:if(Sg(e)!==Sg(t))return!1;for(const n in e)if(!kb(e,n)||!Ys(e[n],t[n]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Ys(e[n],t[n]))return!1;break;default:return!1}return!0},_C=(e,t)=>t.includes(e);var xb={};const xl=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let Hn;const xC=()=>{if(Hn===void 0)if(xl){Hn=on();const e=process.argv;let t=null;for(let n=0;n<e.length;n++){const r=e[n];r[0]==="-"?(t!==null&&Hn.set(t,""),t=r):t!==null&&(Hn.set(t,r),t=null)}t!==null&&Hn.set(t,"")}else typeof location=="object"?(Hn=on(),(location.search||"?").slice(1).split("&").forEach(e=>{if(e.length!==0){const[t,n]=e.split("=");Hn.set(`--${ng(t,"-")}`,n),Hn.set(`-${ng(t,"-")}`,n)}})):Hn=on();return Hn},yh=e=>xC().has(e),Wu=e=>xg(xl?xb[e.toUpperCase().replaceAll("-","_")]:pC.getItem(e)),Sb=e=>yh("--"+e)||Wu(e)!==null;Sb("production");const SC=xl&&_C(xb.FORCE_COLOR,["true","1","2"]),EC=SC||!yh("--no-colors")&&!Sb("no-color")&&(!xl||process.stdout.isTTY)&&(!xl||yh("--color")||Wu("COLORTERM")!==null||(Wu("TERM")||"").includes("color"));class CC{constructor(t,n){this.left=t,this.right=n}}const sr=(e,t)=>new CC(e,t);typeof DOMParser<"u"&&new DOMParser;const IC=e=>oC(e,(t,n)=>`${n}:${t};`).join(""),Cr=Symbol,Eb=Cr(),Cb=Cr(),OC=Cr(),jC=Cr(),TC=Cr(),Ib=Cr(),NC=Cr(),Vp=Cr(),PC=Cr(),DC=e=>{var i;e.length===1&&((i=e[0])==null?void 0:i.constructor)===Function&&(e=e[0]());const t=[],n=[];let r=0;for(;r<e.length;r++){const o=e[r];if(o===void 0)break;if(o.constructor===String||o.constructor===Number)t.push(o);else if(o.constructor===Object)break}for(r>0&&n.push(t.join(""));r<e.length;r++){const o=e[r];o instanceof Symbol||n.push(o)}return n},AC={[Eb]:sr("font-weight","bold"),[Cb]:sr("font-weight","normal"),[OC]:sr("color","blue"),[TC]:sr("color","green"),[jC]:sr("color","grey"),[Ib]:sr("color","red"),[NC]:sr("color","purple"),[Vp]:sr("color","orange"),[PC]:sr("color","black")},RC=e=>{var s;e.length===1&&((s=e[0])==null?void 0:s.constructor)===Function&&(e=e[0]());const t=[],n=[],r=on();let i=[],o=0;for(;o<e.length;o++){const a=e[o],c=AC[a];if(c!==void 0)r.set(c.left,c.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const d=IC(r);o>0||d.length>0?(t.push("%c"+a),n.push(d)):t.push(a)}else break}}for(o>0&&(i=n,i.unshift(t.join("")));o<e.length;o++){const a=e[o];a instanceof Symbol||i.push(a)}return i},Ob=EC?RC:DC,LC=(...e)=>{console.log(...Ob(e)),jb.forEach(t=>t.print(e))},MC=(...e)=>{console.warn(...Ob(e)),e.unshift(Vp),jb.forEach(t=>t.print(e))},jb=zi(),Tb=e=>({[Symbol.iterator](){return this},next:e}),UC=(e,t)=>Tb(()=>{let n;do n=e.next();while(!n.done&&!t(n.value));return n}),ef=(e,t)=>Tb(()=>{const{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}});class Nb{constructor(t,n){this.clock=t,this.len=n}}class Oc{constructor(){this.clients=new Map}}const Pb=(e,t,n)=>t.clients.forEach((r,i)=>{const o=e.doc.store.clients.get(i);if(o!=null){const s=o[o.length-1],a=s.id.clock+s.length;for(let c=0,d=r[c];c<r.length&&d.clock<a;d=r[++c])Fb(e,o,d.clock,d.len,n)}}),zC=(e,t)=>{let n=0,r=e.length-1;for(;n<=r;){const i=_r((n+r)/2),o=e[i],s=o.clock;if(s<=t){if(t<s+o.len)return i;n=i+1}else r=i-1}return null},Db=(e,t)=>{const n=e.clients.get(t.client);return n!==void 0&&zC(n,t.clock)!==null},Wp=e=>{e.clients.forEach(t=>{t.sort((i,o)=>i.clock-o.clock);let n,r;for(n=1,r=1;n<t.length;n++){const i=t[r-1],o=t[n];i.clock+i.len>=o.clock?i.len=Qo(i.len,o.clock+o.len-i.clock):(r<n&&(t[r]=o),r++)}t.length=r})},$C=e=>{const t=new Oc;for(let n=0;n<e.length;n++)e[n].clients.forEach((r,i)=>{if(!t.clients.has(i)){const o=r.slice();for(let s=n+1;s<e.length;s++)IS(o,e[s].clients.get(i)||[]);t.clients.set(i,o)}});return Wp(t),t},Hu=(e,t,n,r)=>{Er(e.clients,t,()=>[]).push(new Nb(n,r))},Hp=(e,t)=>{Oe(e.restEncoder,t.clients.size),li(t.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{e.resetDsCurVal(),Oe(e.restEncoder,n);const i=r.length;Oe(e.restEncoder,i);for(let o=0;o<i;o++){const s=r[o];e.writeDsClock(s.clock),e.writeDsLen(s.len)}})},FC=e=>{const t=new Oc,n=Qe(e.restDecoder);for(let r=0;r<n;r++){e.resetDsCurVal();const i=Qe(e.restDecoder),o=Qe(e.restDecoder);if(o>0){const s=Er(t.clients,i,()=>[]);for(let a=0;a<o;a++)s.push(new Nb(e.readDsClock(),e.readDsLen()))}}return t},Cg=(e,t,n)=>{const r=new Oc,i=Qe(e.restDecoder);for(let o=0;o<i;o++){e.resetDsCurVal();const s=Qe(e.restDecoder),a=Qe(e.restDecoder),c=n.clients.get(s)||[],d=Ot(n,s);for(let f=0;f<a;f++){const p=e.readDsClock(),m=p+e.readDsLen();if(p<d){d<m&&Hu(r,s,d,m-d);let v=tr(c,p),b=c[v];for(!b.deleted&&b.id.clock<p&&(c.splice(v+1,0,Zu(t,b,p-b.id.clock)),v++);v<c.length&&(b=c[v++],b.id.clock<m);)b.deleted||(m<b.id.clock+b.length&&c.splice(v,0,Zu(t,b,m-b.id.clock)),b.delete(t))}else Hu(r,s,p,m-p)}}if(r.clients.size>0){const o=new jc;return Oe(o.restEncoder,0),Hp(o,r),o.toUint8Array()}return null},Ab=vb;class ns extends lC{constructor({guid:t=dC(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:o=null,autoLoad:s=!1,shouldLoad:a=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=Ab(),this.guid=t,this.collectionid=n,this.share=new Map,this.store=new zb,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=s,this.meta=o,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=_g(d=>{this.on("load",()=>{this.isLoaded=!0,d(this)})});const c=()=>_g(d=>{const f=p=>{(p===void 0||p===!0)&&(this.off("sync",f),d())};this.on("sync",f)});this.on("sync",d=>{d===!1&&this.isSynced&&(this.whenSynced=c()),this.isSynced=d===void 0||d===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=c()}load(){const t=this._item;t!==null&&!this.shouldLoad&&Xe(t.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(li(this.subdocs).map(t=>t.guid))}transact(t,n=null){return Xe(this,t,n)}get(t,n=Rt){const r=Er(this.share,t,()=>{const o=new n;return o._integrate(this,null),o}),i=r.constructor;if(n!==Rt&&i!==n)if(i===Rt){const o=new n;o._map=r._map,r._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=o}),o._start=r._start;for(let s=o._start;s!==null;s=s.right)s.parent=o;return o._length=r._length,this.share.set(t,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return r}getArray(t=""){return this.get(t,jo)}getText(t=""){return this.get(t,Ko)}getMap(t=""){return this.get(t,Bo)}getXmlElement(t=""){return this.get(t,Vo)}getXmlFragment(t=""){return this.get(t,Bi)}toJSON(){const t={};return this.share.forEach((n,r)=>{t[r]=n.toJSON()}),t}destroy(){this.isDestroyed=!0,li(this.subdocs).forEach(n=>n.destroy());const t=this._item;if(t!==null){this._item=null;const n=t.content;n.doc=new ns({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=t,Xe(t.parent.doc,r=>{const i=n.doc;t.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class BC{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Qe(this.restDecoder),this.dsCurrVal}readDsLen(){const t=Qe(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class Sl extends BC{constructor(t){super(t),this.keys=[],Qe(t),this.keyClockDecoder=new Jd(Pt(t)),this.clientDecoder=new fu(Pt(t)),this.leftClockDecoder=new Jd(Pt(t)),this.rightClockDecoder=new Jd(Pt(t)),this.infoDecoder=new ug(Pt(t),Uo),this.stringDecoder=new eE(Pt(t)),this.parentInfoDecoder=new ug(Pt(t),Uo),this.typeRefDecoder=new fu(Pt(t)),this.lenDecoder=new fu(Pt(t))}readLeftID(){return new Oo(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Oo(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return ni(this.restDecoder)}readBuf(){return Pt(this.restDecoder)}readJSON(){return ni(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class KC{constructor(){this.restEncoder=Xo()}toUint8Array(){return fn(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){Oe(this.restEncoder,t)}writeDsLen(t){Oe(this.restEncoder,t)}}class VC extends KC{writeLeftID(t){Oe(this.restEncoder,t.client),Oe(this.restEncoder,t.clock)}writeRightID(t){Oe(this.restEncoder,t.client),Oe(this.restEncoder,t.clock)}writeClient(t){Oe(this.restEncoder,t)}writeInfo(t){ch(this.restEncoder,t)}writeString(t){En(this.restEncoder,t)}writeParentInfo(t){Oe(this.restEncoder,t?1:0)}writeTypeRef(t){Oe(this.restEncoder,t)}writeLen(t){Oe(this.restEncoder,t)}writeAny(t){ti(this.restEncoder,t)}writeBuf(t){Nt(this.restEncoder,t)}writeJSON(t){En(this.restEncoder,JSON.stringify(t))}writeKey(t){En(this.restEncoder,t)}}class Rb{constructor(){this.restEncoder=Xo(),this.dsCurrVal=0}toUint8Array(){return fn(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const n=t-this.dsCurrVal;this.dsCurrVal=t,Oe(this.restEncoder,n)}writeDsLen(t){t===0&&er(),Oe(this.restEncoder,t-1),this.dsCurrVal+=t}}class jc extends Rb{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Qd,this.clientEncoder=new du,this.leftClockEncoder=new Qd,this.rightClockEncoder=new Qd,this.infoEncoder=new og(ch),this.stringEncoder=new HS,this.parentInfoEncoder=new og(ch),this.typeRefEncoder=new du,this.lenEncoder=new du}toUint8Array(){const t=Xo();return Oe(t,0),Nt(t,this.keyClockEncoder.toUint8Array()),Nt(t,this.clientEncoder.toUint8Array()),Nt(t,this.leftClockEncoder.toUint8Array()),Nt(t,this.rightClockEncoder.toUint8Array()),Nt(t,fn(this.infoEncoder)),Nt(t,this.stringEncoder.toUint8Array()),Nt(t,fn(this.parentInfoEncoder)),Nt(t,this.typeRefEncoder.toUint8Array()),Nt(t,this.lenEncoder.toUint8Array()),Vl(t,fn(this.restEncoder)),fn(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){ti(this.restEncoder,t)}writeBuf(t){Nt(this.restEncoder,t)}writeJSON(t){ti(this.restEncoder,t)}writeKey(t){const n=this.keyMap.get(t);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(n)}}const WC=(e,t,n,r)=>{r=Qo(r,t[0].id.clock);const i=tr(t,r);Oe(e.restEncoder,t.length-i),e.writeClient(n),Oe(e.restEncoder,r);const o=t[i];o.write(e,r-o.id.clock);for(let s=i+1;s<t.length;s++)t[s].write(e,0)},Lb=(e,t,n)=>{const r=new Map;n.forEach((i,o)=>{Ot(t,o)>i&&r.set(o,i)}),qp(t).forEach((i,o)=>{n.has(o)||r.set(o,0)}),Oe(e.restEncoder,r.size),li(r.entries()).sort((i,o)=>o[0]-i[0]).forEach(([i,o])=>{WC(e,t.clients.get(i),i,o)})},HC=(e,t)=>{const n=on(),r=Qe(e.restDecoder);for(let i=0;i<r;i++){const o=Qe(e.restDecoder),s=new Array(o),a=e.readClient();let c=Qe(e.restDecoder);n.set(a,{i:0,refs:s});for(let d=0;d<o;d++){const f=e.readInfo();switch(Sc&f){case 0:{const p=e.readLen();s[d]=new In(Fe(a,c),p),c+=p;break}case 10:{const p=Qe(e.restDecoder);s[d]=new On(Fe(a,c),p),c+=p;break}default:{const p=(f&(yr|pn))===0,m=new bt(Fe(a,c),null,(f&pn)===pn?e.readLeftID():null,null,(f&yr)===yr?e.readRightID():null,p?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,p&&(f&bl)===bl?e.readString():null,ak(e,f));s[d]=m,c+=m.length}}}}return n},qC=(e,t,n)=>{const r=[];let i=li(n.keys()).sort((v,b)=>v-b);if(i.length===0)return null;const o=()=>{if(i.length===0)return null;let v=n.get(i[i.length-1]);for(;v.refs.length===v.i;)if(i.pop(),i.length>0)v=n.get(i[i.length-1]);else return null;return v};let s=o();if(s===null)return null;const a=new zb,c=new Map,d=(v,b)=>{const x=c.get(v);(x==null||x>b)&&c.set(v,b)};let f=s.refs[s.i++];const p=new Map,m=()=>{for(const v of r){const b=v.id.client,x=n.get(b);x?(x.i--,a.clients.set(b,x.refs.slice(x.i)),n.delete(b),x.i=0,x.refs=[]):a.clients.set(b,[v]),i=i.filter(P=>P!==b)}r.length=0};for(;;){if(f.constructor!==On){const b=Er(p,f.id.client,()=>Ot(t,f.id.client))-f.id.clock;if(b<0)r.push(f),d(f.id.client,f.id.clock-1),m();else{const x=f.getMissing(e,t);if(x!==null){r.push(f);const P=n.get(x)||{refs:[],i:0};if(P.refs.length===P.i)d(x,Ot(t,x)),m();else{f=P.refs[P.i++];continue}}else(b===0||b<f.length)&&(f.integrate(e,b),p.set(f.id.client,f.id.clock+f.length))}}if(r.length>0)f=r.pop();else if(s!==null&&s.i<s.refs.length)f=s.refs[s.i++];else{if(s=o(),s===null)break;f=s.refs[s.i++]}}if(a.clients.size>0){const v=new jc;return Lb(v,a,new Map),Oe(v.restEncoder,0),{missing:c,update:v.toUint8Array()}}return null},GC=(e,t)=>Lb(e,t.doc.store,t.beforeState),YC=(e,t,n,r=new Sl(e))=>Xe(t,i=>{i.local=!1;let o=!1;const s=i.doc,a=s.store,c=HC(r,s),d=qC(i,a,c),f=a.pendingStructs;if(f){for(const[m,v]of f.missing)if(v<Ot(a,m)){o=!0;break}if(d){for(const[m,v]of d.missing){const b=f.missing.get(m);(b==null||b>v)&&f.missing.set(m,v)}f.update=qu([f.update,d.update])}}else a.pendingStructs=d;const p=Cg(r,i,a);if(a.pendingDs){const m=new Sl(Wl(a.pendingDs));Qe(m.restDecoder);const v=Cg(m,i,a);p&&v?a.pendingDs=qu([p,v]):a.pendingDs=p||v}else a.pendingDs=p;if(o){const m=a.pendingStructs.update;a.pendingStructs=null,Mb(i.doc,m)}},n,!1),Mb=(e,t,n,r=Sl)=>{const i=Wl(t);YC(i,e,n,new r(i))};class QC{constructor(){this.l=[]}}const Ig=()=>new QC,Og=(e,t)=>e.l.push(t),jg=(e,t)=>{const n=e.l,r=n.length;e.l=n.filter(i=>t!==i),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Ub=(e,t,n)=>Kp(e.l,[t,n]);class Oo{constructor(t,n){this.client=t,this.clock=n}}const Ba=(e,t)=>e===t||e!==null&&t!==null&&e.client===t.client&&e.clock===t.clock,Fe=(e,t)=>new Oo(e,t),JC=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw er()},so=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!Db(t.ds,e.id),gh=(e,t)=>{const n=Er(e.meta,gh,zi),r=e.doc.store;n.has(t)||(t.sv.forEach((i,o)=>{i<Ot(r,o)&&ui(e,Fe(o,i))}),Pb(e,t.ds,i=>{}),n.add(t))};class zb{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const qp=e=>{const t=new Map;return e.clients.forEach((n,r)=>{const i=n[n.length-1];t.set(r,i.id.clock+i.length)}),t},Ot=(e,t)=>{const n=e.clients.get(t);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},$b=(e,t)=>{let n=e.clients.get(t.id.client);if(n===void 0)n=[],e.clients.set(t.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==t.id.clock)throw er()}n.push(t)},tr=(e,t)=>{let n=0,r=e.length-1,i=e[r],o=i.id.clock;if(o===t)return r;let s=_r(t/(o+i.length-1)*r);for(;n<=r;){if(i=e[s],o=i.id.clock,o<=t){if(t<o+i.length)return s;n=s+1}else r=s-1;s=_r((n+r)/2)}throw er()},XC=(e,t)=>{const n=e.clients.get(t.client);return n[tr(n,t.clock)]},tf=XC,vh=(e,t,n)=>{const r=tr(t,n),i=t[r];return i.id.clock<n&&i instanceof bt?(t.splice(r+1,0,Zu(e,i,n-i.id.clock)),r+1):r},ui=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[vh(e,n,t.clock)]},Tg=(e,t,n)=>{const r=t.clients.get(n.client),i=tr(r,n.clock),o=r[i];return n.clock!==o.id.clock+o.length-1&&o.constructor!==In&&r.splice(i+1,0,Zu(e,o,n.clock-o.id.clock+1)),o},ZC=(e,t,n)=>{const r=e.clients.get(t.id.client);r[tr(r,t.id.clock)]=n},Fb=(e,t,n,r,i)=>{if(r===0)return;const o=n+r;let s=vh(e,t,n),a;do a=t[s++],o<a.id.clock+a.length&&vh(e,t,o),i(a);while(s<t.length&&t[s].id.clock<o)};class eI{constructor(t,n,r){this.doc=t,this.deleteSet=new Oc,this.beforeState=qp(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const Ng=(e,t)=>t.deleteSet.clients.size===0&&!sC(t.afterState,(n,r)=>t.beforeState.get(r)!==n)?!1:(Wp(t.deleteSet),GC(e,t),Hp(e,t.deleteSet),!0),Pg=(e,t,n)=>{const r=t._item;(r===null||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&Er(e.changed,t,zi).add(n)},pu=(e,t)=>{let n=e[t],r=e[t-1],i=t;for(;i>0;n=r,r=e[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof bt&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const o=t-i;return o&&e.splice(t+1-o,o),o},tI=(e,t,n)=>{for(const[r,i]of e.clients.entries()){const o=t.clients.get(r);for(let s=i.length-1;s>=0;s--){const a=i[s],c=a.clock+a.len;for(let d=tr(o,a.clock),f=o[d];d<o.length&&f.id.clock<c;f=o[++d]){const p=o[d];if(a.clock+a.len<=p.id.clock)break;p instanceof bt&&p.deleted&&!p.keep&&n(p)&&p.gc(t,!1)}}}},nI=(e,t)=>{e.clients.forEach((n,r)=>{const i=t.clients.get(r);for(let o=n.length-1;o>=0;o--){const s=n[o],a=Bw(i.length-1,1+tr(i,s.clock+s.len-1));for(let c=a,d=i[c];c>0&&d.id.clock>=s.clock;d=i[c])c-=1+pu(i,c)}})},Bb=(e,t)=>{if(t<e.length){const n=e[t],r=n.doc,i=r.store,o=n.deleteSet,s=n._mergeStructs;try{Wp(o),n.afterState=qp(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const a=[];n.changed.forEach((c,d)=>a.push(()=>{(d._item===null||!d._item.deleted)&&d._callObserver(n,c)})),a.push(()=>{n.changedParentTypes.forEach((c,d)=>{d._dEH.l.length>0&&(d._item===null||!d._item.deleted)&&(c=c.filter(f=>f.target._item===null||!f.target._item.deleted),c.forEach(f=>{f.currentTarget=d,f._path=null}),c.sort((f,p)=>f.path.length-p.path.length),Ub(d._dEH,c,n))})}),a.push(()=>r.emit("afterTransaction",[n,r])),Kp(a,[]),n._needFormattingCleanup&&bI(n)}finally{r.gc&&tI(o,i,r.gcFilter),nI(o,i),n.afterState.forEach((f,p)=>{const m=n.beforeState.get(p)||0;if(m!==f){const v=i.clients.get(p),b=Qo(tr(v,m),1);for(let x=v.length-1;x>=b;)x-=1+pu(v,x)}});for(let f=s.length-1;f>=0;f--){const{client:p,clock:m}=s[f].id,v=i.clients.get(p),b=tr(v,m);b+1<v.length&&pu(v,b+1)>1||b>0&&pu(v,b)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(LC(Vp,Eb,"[yjs] ",Cb,Ib,"Changed the client-id because another client seems to be using it."),r.clientID=Ab()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const f=new VC;Ng(f,n)&&r.emit("update",[f.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const f=new jc;Ng(f,n)&&r.emit("updateV2",[f.toUint8Array(),n.origin,r,n])}const{subdocsAdded:a,subdocsLoaded:c,subdocsRemoved:d}=n;(a.size>0||d.size>0||c.size>0)&&(a.forEach(f=>{f.clientID=r.clientID,f.collectionid==null&&(f.collectionid=r.collectionid),r.subdocs.add(f)}),d.forEach(f=>r.subdocs.delete(f)),r.emit("subdocs",[{loaded:c,added:a,removed:d},r,n]),d.forEach(f=>f.destroy())),e.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,e])):Bb(e,t+1)}}},Xe=(e,t,n=null,r=!0)=>{const i=e._transactionCleanups;let o=!1,s=null;e._transaction===null&&(o=!0,e._transaction=new eI(e,n,r),i.push(e._transaction),i.length===1&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{s=t(e._transaction)}finally{if(o){const a=e._transaction===i[0];e._transaction=null,a&&Bb(i,0)}}return s};function*rI(e){const t=Qe(e.restDecoder);for(let n=0;n<t;n++){const r=Qe(e.restDecoder),i=e.readClient();let o=Qe(e.restDecoder);for(let s=0;s<r;s++){const a=e.readInfo();if(a===10){const c=Qe(e.restDecoder);yield new On(Fe(i,o),c),o+=c}else if(Sc&a){const c=(a&(yr|pn))===0,d=new bt(Fe(i,o),null,(a&pn)===pn?e.readLeftID():null,null,(a&yr)===yr?e.readRightID():null,c?e.readParentInfo()?e.readString():e.readLeftID():null,c&&(a&bl)===bl?e.readString():null,ak(e,a));yield d,o+=d.length}else{const c=e.readLen();yield new In(Fe(i,o),c),o+=c}}}}class Kb{constructor(t,n){this.gen=rI(t),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===On);return this.curr}}class iI{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const Vb=(e,t=Rb,n=Sl)=>{const r=new t,i=new Kb(new n(Wl(e)),!1);let o=i.curr;if(o!==null){let s=0,a=o.id.client,c=o.id.clock!==0,d=c?0:o.id.clock+o.length;for(;o!==null;o=i.next())a!==o.id.client&&(d!==0&&(s++,Oe(r.restEncoder,a),Oe(r.restEncoder,d)),a=o.id.client,d=0,c=o.id.clock!==0),o.constructor===On&&(c=!0),c||(d=o.id.clock+o.length);d!==0&&(s++,Oe(r.restEncoder,a),Oe(r.restEncoder,d));const f=Xo();return Oe(f,s),FS(f,r.restEncoder),r.restEncoder=f,r.toUint8Array()}else return Oe(r.restEncoder,0),r.toUint8Array()},oI=(e,t)=>{if(e.constructor===In){const{client:n,clock:r}=e.id;return new In(Fe(n,r+t),e.length-t)}else if(e.constructor===On){const{client:n,clock:r}=e.id;return new On(Fe(n,r+t),e.length-t)}else{const n=e,{client:r,clock:i}=n.id;return new bt(Fe(r,i+t),null,Fe(r,i+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},qu=(e,t=Sl,n=jc)=>{if(e.length===1)return e[0];const r=e.map(f=>new t(Wl(f)));let i=r.map(f=>new Kb(f,!0)),o=null;const s=new n,a=new iI(s);for(;i=i.filter(m=>m.curr!==null),i.sort((m,v)=>{if(m.curr.id.client===v.curr.id.client){const b=m.curr.id.clock-v.curr.id.clock;return b===0?m.curr.constructor===v.curr.constructor?0:m.curr.constructor===On?1:-1:b}else return v.curr.id.client-m.curr.id.client}),i.length!==0;){const f=i[0],p=f.curr.id.client;if(o!==null){let m=f.curr,v=!1;for(;m!==null&&m.id.clock+m.length<=o.struct.id.clock+o.struct.length&&m.id.client>=o.struct.id.client;)m=f.next(),v=!0;if(m===null||m.id.client!==p||v&&m.id.clock>o.struct.id.clock+o.struct.length)continue;if(p!==o.struct.id.client)Os(a,o.struct,o.offset),o={struct:m,offset:0},f.next();else if(o.struct.id.clock+o.struct.length<m.id.clock)if(o.struct.constructor===On)o.struct.length=m.id.clock+m.length-o.struct.id.clock;else{Os(a,o.struct,o.offset);const b=m.id.clock-o.struct.id.clock-o.struct.length;o={struct:new On(Fe(p,o.struct.id.clock+o.struct.length),b),offset:0}}else{const b=o.struct.id.clock+o.struct.length-m.id.clock;b>0&&(o.struct.constructor===On?o.struct.length-=b:m=oI(m,b)),o.struct.mergeWith(m)||(Os(a,o.struct,o.offset),o={struct:m,offset:0},f.next())}}else o={struct:f.curr,offset:0},f.next();for(let m=f.curr;m!==null&&m.id.client===p&&m.id.clock===o.struct.id.clock+o.struct.length&&m.constructor!==On;m=f.next())Os(a,o.struct,o.offset),o={struct:m,offset:0}}o!==null&&(Os(a,o.struct,o.offset),o=null),sI(a);const c=r.map(f=>FC(f)),d=$C(c);return Hp(s,d),s.toUint8Array()},Wb=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:fn(e.encoder.restEncoder)}),e.encoder.restEncoder=Xo(),e.written=0)},Os=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&Wb(e),e.written===0&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),Oe(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},sI=e=>{Wb(e);const t=e.encoder.restEncoder;Oe(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const r=e.clientStructs[n];Oe(t,r.written),Vl(t,r.restEncoder)}},Dg="You must not compute changes after the event-handler fired.";class Tc{constructor(t,n){this.target=t,this.currentTarget=t,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=lI(this.currentTarget,this.target))}deletes(t){return Db(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw ai(Dg);const t=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const o=n._map.get(i);let s,a;if(this.adds(o)){let c=o.left;for(;c!==null&&this.adds(c);)c=c.left;if(this.deletes(o))if(c!==null&&this.deletes(c))s="delete",a=Yd(c.content.getContent());else return;else c!==null&&this.deletes(c)?(s="update",a=Yd(c.content.getContent())):(s="add",a=void 0)}else if(this.deletes(o))s="delete",a=Yd(o.content.getContent());else return;t.set(i,{action:s,oldValue:a})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){if(this.transaction.doc._transactionCleanups.length===0)throw ai(Dg);const n=this.target,r=zi(),i=zi(),o=[];if(t={added:r,deleted:i,delta:o,keys:this.keys},this.transaction.changed.get(n).has(null)){let a=null;const c=()=>{a&&o.push(a)};for(let d=n._start;d!==null;d=d.right)d.deleted?this.deletes(d)&&!this.adds(d)&&((a===null||a.delete===void 0)&&(c(),a={delete:0}),a.delete+=d.length,i.add(d)):this.adds(d)?((a===null||a.insert===void 0)&&(c(),a={insert:[]}),a.insert=a.insert.concat(d.content.getContent()),r.add(d)):((a===null||a.retain===void 0)&&(c(),a={retain:0}),a.retain+=d.length);a!==null&&a.retain===void 0&&c()}this._changes=t}return t}}const lI=(e,t)=>{const n=[];for(;t._item!==null&&t!==e;){if(t._item.parentSub!==null)n.unshift(t._item.parentSub);else{let r=0,i=t._item.parent._start;for(;i!==t._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}t=t._item.parent}return n},Wt=()=>{MC("Invalid access: Add Yjs type to a document before reading data.")},Hb=80;let Gp=0;class aI{constructor(t,n){t.marker=!0,this.p=t,this.index=n,this.timestamp=Gp++}}const uI=e=>{e.timestamp=Gp++},qb=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=Gp++},cI=(e,t,n)=>{if(e.length>=Hb){const r=e.reduce((i,o)=>i.timestamp<o.timestamp?i:o);return qb(r,t,n),r}else{const r=new aI(t,n);return e.push(r),r}},Nc=(e,t)=>{if(e._start===null||t===0||e._searchMarker===null)return null;const n=e._searchMarker.length===0?null:e._searchMarker.reduce((o,s)=>cu(t-o.index)<cu(t-s.index)?o:s);let r=e._start,i=0;for(n!==null&&(r=n.p,i=n.index,uI(n));r.right!==null&&i<t;){if(!r.deleted&&r.countable){if(t<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>t;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&cu(n.index-i)<r.parent.length/Hb?(qb(n,r,i),n):cI(e._searchMarker,r,i)},El=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){const i=e[r];if(n>0){let o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(i.index-=o.length);if(o===null||o.marker===!0){e.splice(r,1);continue}i.p=o,o.marker=!0}(t<i.index||n>0&&t===i.index)&&(i.index=Qo(t,i.index+n))}},Pc=(e,t,n)=>{const r=e,i=t.changedParentTypes;for(;Er(i,e,()=>[]).push(n),e._item!==null;)e=e._item.parent;Ub(r._eH,n,t)};class Rt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Ig(),this._dEH=Ig(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,n){this.doc=t,this._item=n}_copy(){throw Zn()}clone(){throw Zn()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,n){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){Og(this._eH,t)}observeDeep(t){Og(this._dEH,t)}unobserve(t){jg(this._eH,t)}unobserveDeep(t){jg(this._dEH,t)}toJSON(){}}const Gb=(e,t,n)=>{e.doc??Wt(),t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t;const i=[];let o=e._start;for(;o!==null&&r>0;){if(o.countable&&!o.deleted){const s=o.content.getContent();if(s.length<=t)t-=s.length;else{for(let a=t;a<s.length&&r>0;a++)i.push(s[a]),r--;t=0}}o=o.right}return i},Yb=e=>{e.doc??Wt();const t=[];let n=e._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)t.push(r[i])}n=n.right}return t},Cl=(e,t)=>{let n=0,r=e._start;for(e.doc??Wt();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let o=0;o<i.length;o++)t(i[o],n++,e)}r=r.right}},Qb=(e,t)=>{const n=[];return Cl(e,(r,i)=>{n.push(t(r,i,e))}),n},dI=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},Jb=(e,t)=>{e.doc??Wt();const n=Nc(e,t);let r=e._start;for(n!==null&&(r=n.p,t-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},Gu=(e,t,n,r)=>{let i=n;const o=e.doc,s=o.clientID,a=o.store,c=n===null?t._start:n.right;let d=[];const f=()=>{d.length>0&&(i=new bt(Fe(s,Ot(a,s)),i,i&&i.lastId,c,c&&c.id,t,null,new Ki(d)),i.integrate(e,0),d=[])};r.forEach(p=>{if(p===null)d.push(p);else switch(p.constructor){case Number:case Object:case Boolean:case Array:case String:d.push(p);break;default:switch(f(),p.constructor){case Uint8Array:case ArrayBuffer:i=new bt(Fe(s,Ot(a,s)),i,i&&i.lastId,c,c&&c.id,t,null,new Gl(new Uint8Array(p))),i.integrate(e,0);break;case ns:i=new bt(Fe(s,Ot(a,s)),i,i&&i.lastId,c,c&&c.id,t,null,new Yl(p)),i.integrate(e,0);break;default:if(p instanceof Rt)i=new bt(Fe(s,Ot(a,s)),i,i&&i.lastId,c,c&&c.id,t,null,new Ir(p)),i.integrate(e,0);else throw new Error("Unexpected content type in insert operation")}}}),f()},Xb=()=>ai("Length exceeded!"),Zb=(e,t,n,r)=>{if(n>t._length)throw Xb();if(n===0)return t._searchMarker&&El(t._searchMarker,n,r.length),Gu(e,t,null,r);const i=n,o=Nc(t,n);let s=t._start;for(o!==null&&(s=o.p,n-=o.index,n===0&&(s=s.prev,n+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&ui(e,Fe(s.id.client,s.id.clock+n));break}n-=s.length}return t._searchMarker&&El(t._searchMarker,i,r.length),Gu(e,t,s,r)},fI=(e,t,n)=>{let i=(t._searchMarker||[]).reduce((o,s)=>s.index>o.index?s:o,{index:0,p:t._start}).p;if(i)for(;i.right;)i=i.right;return Gu(e,t,i,n)},ek=(e,t,n,r)=>{if(r===0)return;const i=n,o=r,s=Nc(t,n);let a=t._start;for(s!==null&&(a=s.p,n-=s.index);a!==null&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&ui(e,Fe(a.id.client,a.id.clock+n)),n-=a.length);for(;r>0&&a!==null;)a.deleted||(r<a.length&&ui(e,Fe(a.id.client,a.id.clock+r)),a.delete(e),r-=a.length),a=a.right;if(r>0)throw Xb();t._searchMarker&&El(t._searchMarker,i,-o+r)},Yu=(e,t,n)=>{const r=t._map.get(n);r!==void 0&&r.delete(e)},Yp=(e,t,n,r)=>{const i=t._map.get(n)||null,o=e.doc,s=o.clientID;let a;if(r==null)a=new Ki([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:a=new Ki([r]);break;case Uint8Array:a=new Gl(r);break;case ns:a=new Yl(r);break;default:if(r instanceof Rt)a=new Ir(r);else throw new Error("Unexpected content type")}new bt(Fe(s,Ot(o.store,s)),i,i&&i.lastId,null,null,t,n,a).integrate(e,0)},Qp=(e,t)=>{e.doc??Wt();const n=e._map.get(t);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},tk=e=>{const t={};return e.doc??Wt(),e._map.forEach((n,r)=>{n.deleted||(t[r]=n.content.getContent()[n.length-1])}),t},nk=(e,t)=>{e.doc??Wt();const n=e._map.get(t);return n!==void 0&&!n.deleted},hI=(e,t)=>{const n={};return e._map.forEach((r,i)=>{let o=r;for(;o!==null&&(!t.sv.has(o.id.client)||o.id.clock>=(t.sv.get(o.id.client)||0));)o=o.left;o!==null&&so(o,t)&&(n[i]=o.content.getContent()[o.length-1])}),n},Ka=e=>(e.doc??Wt(),UC(e._map.entries(),t=>!t[1].deleted));class pI extends Tc{}class jo extends Rt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const n=new jo;return n.push(t),n}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new jo}clone(){const t=new jo;return t.insert(0,this.toArray().map(n=>n instanceof Rt?n.clone():n)),t}get length(){return this.doc??Wt(),this._length}_callObserver(t,n){super._callObserver(t,n),Pc(this,t,new pI(this,t))}insert(t,n){this.doc!==null?Xe(this.doc,r=>{Zb(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}push(t){this.doc!==null?Xe(this.doc,n=>{fI(n,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,n=1){this.doc!==null?Xe(this.doc,r=>{ek(r,this,t,n)}):this._prelimContent.splice(t,n)}get(t){return Jb(this,t)}toArray(){return Yb(this)}slice(t=0,n=this.length){return Gb(this,t,n)}toJSON(){return this.map(t=>t instanceof Rt?t.toJSON():t)}map(t){return Qb(this,t)}forEach(t){Cl(this,t)}[Symbol.iterator](){return dI(this)}_write(t){t.writeTypeRef(zI)}}const mI=e=>new jo;class yI extends Tc{constructor(t,n,r){super(t,n),this.keysChanged=r}}class Bo extends Rt{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,n){super._integrate(t,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new Bo}clone(){const t=new Bo;return this.forEach((n,r)=>{t.set(r,n instanceof Rt?n.clone():n)}),t}_callObserver(t,n){Pc(this,t,new yI(this,t,n))}toJSON(){this.doc??Wt();const t={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];t[r]=i instanceof Rt?i.toJSON():i}}),t}get size(){return[...Ka(this)].length}keys(){return ef(Ka(this),t=>t[0])}values(){return ef(Ka(this),t=>t[1].content.getContent()[t[1].length-1])}entries(){return ef(Ka(this),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this.doc??Wt(),this._map.forEach((n,r)=>{n.deleted||t(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?Xe(this.doc,n=>{Yu(n,this,t)}):this._prelimContent.delete(t)}set(t,n){return this.doc!==null?Xe(this.doc,r=>{Yp(r,this,t,n)}):this._prelimContent.set(t,n),n}get(t){return Qp(this,t)}has(t){return nk(this,t)}clear(){this.doc!==null?Xe(this.doc,t=>{this.forEach(function(n,r,i){Yu(t,i,r)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef($I)}}const gI=e=>new Bo,Vr=(e,t)=>e===t||typeof e=="object"&&typeof t=="object"&&e&&t&&wC(e,t);class wh{constructor(t,n,r,i){this.left=t,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&er(),this.right.content.constructor){case _t:this.right.deleted||rs(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Ag=(e,t,n)=>{for(;t.right!==null&&n>0;){switch(t.right.content.constructor){case _t:t.right.deleted||rs(t.currentAttributes,t.right.content);break;default:t.right.deleted||(n<t.right.length&&ui(e,Fe(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},Va=(e,t,n,r)=>{const i=new Map,o=r?Nc(t,n):null;if(o){const s=new wh(o.p.left,o.p,o.index,i);return Ag(e,s,n-o.index)}else{const s=new wh(null,t._start,0,i);return Ag(e,s,n)}},rk=(e,t,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===_t&&Vr(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=e.doc,o=i.clientID;r.forEach((s,a)=>{const c=n.left,d=n.right,f=new bt(Fe(o,Ot(i.store,o)),c,c&&c.lastId,d,d&&d.id,t,null,new _t(a,s));f.integrate(e,0),n.right=f,n.forward()})},rs=(e,t)=>{const{key:n,value:r}=t;r===null?e.delete(n):e.set(n,r)},ik=(e,t)=>{for(;e.right!==null;){if(!(e.right.deleted||e.right.content.constructor===_t&&Vr(t[e.right.content.key]??null,e.right.content.value)))break;e.forward()}},ok=(e,t,n,r)=>{const i=e.doc,o=i.clientID,s=new Map;for(const a in r){const c=r[a],d=n.currentAttributes.get(a)??null;if(!Vr(d,c)){s.set(a,d);const{left:f,right:p}=n;n.right=new bt(Fe(o,Ot(i.store,o)),f,f&&f.lastId,p,p&&p.id,t,null,new _t(a,c)),n.right.integrate(e,0),n.forward()}}return s},nf=(e,t,n,r,i)=>{n.currentAttributes.forEach((m,v)=>{i[v]===void 0&&(i[v]=null)});const o=e.doc,s=o.clientID;ik(n,i);const a=ok(e,t,n,i),c=r.constructor===String?new nr(r):r instanceof Rt?new Ir(r):new Hi(r);let{left:d,right:f,index:p}=n;t._searchMarker&&El(t._searchMarker,n.index,c.getLength()),f=new bt(Fe(s,Ot(o.store,s)),d,d&&d.lastId,f,f&&f.id,t,null,c),f.integrate(e,0),n.right=f,n.index=p,n.forward(),rk(e,t,n,a)},Rg=(e,t,n,r,i)=>{const o=e.doc,s=o.clientID;ik(n,i);const a=ok(e,t,n,i);e:for(;n.right!==null&&(r>0||a.size>0&&(n.right.deleted||n.right.content.constructor===_t));){if(!n.right.deleted)switch(n.right.content.constructor){case _t:{const{key:c,value:d}=n.right.content,f=i[c];if(f!==void 0){if(Vr(f,d))a.delete(c);else{if(r===0)break e;a.set(c,d)}n.right.delete(e)}else n.currentAttributes.set(c,d);break}default:r<n.right.length&&ui(e,Fe(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let c="";for(;r>0;r--)c+=`
`;n.right=new bt(Fe(s,Ot(o.store,s)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new nr(c)),n.right.integrate(e,0),n.forward()}rk(e,t,n,a)},sk=(e,t,n,r,i)=>{let o=t;const s=on();for(;o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===_t){const d=o.content;s.set(d.key,d)}o=o.right}let a=0,c=!1;for(;t!==o;){if(n===t&&(c=!0),!t.deleted){const d=t.content;switch(d.constructor){case _t:{const{key:f,value:p}=d,m=r.get(f)??null;(s.get(f)!==d||m===p)&&(t.delete(e),a++,!c&&(i.get(f)??null)===p&&m!==p&&(m===null?i.delete(f):i.set(f,m))),!c&&!t.deleted&&rs(i,d);break}}}t=t.right}return a},vI=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===_t){const r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}},wI=e=>{let t=0;return Xe(e.doc,n=>{let r=e._start,i=e._start,o=on();const s=mh(o);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case _t:rs(s,i.content);break;default:t+=sk(n,r,i,o,s),o=mh(s),r=i;break}i=i.right}}),t},bI=e=>{const t=new Set,n=e.doc;for(const[r,i]of e.afterState.entries()){const o=e.beforeState.get(r)||0;i!==o&&Fb(e,n.store.clients.get(r),o,i,s=>{!s.deleted&&s.content.constructor===_t&&s.constructor!==In&&t.add(s.parent)})}Xe(n,r=>{Pb(e,e.deleteSet,i=>{if(i instanceof In||!i.parent._hasFormatting||t.has(i.parent))return;const o=i.parent;i.content.constructor===_t?t.add(o):vI(r,i)});for(const i of t)wI(i)})},Lg=(e,t,n)=>{const r=n,i=mh(t.currentAttributes),o=t.right;for(;n>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case Ir:case Hi:case nr:n<t.right.length&&ui(e,Fe(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e);break}t.forward()}o&&sk(e,o,t.right,i,t.currentAttributes);const s=(t.left||t.right).parent;return s._searchMarker&&El(s._searchMarker,t.index,-r+n),t};class kI extends Tc{constructor(t,n,r){super(t,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){const t=this.target.doc,n=[];Xe(t,r=>{const i=new Map,o=new Map;let s=this.target._start,a=null;const c={};let d="",f=0,p=0;const m=()=>{if(a!==null){let v=null;switch(a){case"delete":p>0&&(v={delete:p}),p=0;break;case"insert":(typeof d=="object"||d.length>0)&&(v={insert:d},i.size>0&&(v.attributes={},i.forEach((b,x)=>{b!==null&&(v.attributes[x]=b)}))),d="";break;case"retain":f>0&&(v={retain:f},gC(c)||(v.attributes=mC({},c))),f=0;break}v&&n.push(v),a=null}};for(;s!==null;){switch(s.content.constructor){case Ir:case Hi:this.adds(s)?this.deletes(s)||(m(),a="insert",d=s.content.getContent()[0],m()):this.deletes(s)?(a!=="delete"&&(m(),a="delete"),p+=1):s.deleted||(a!=="retain"&&(m(),a="retain"),f+=1);break;case nr:this.adds(s)?this.deletes(s)||(a!=="insert"&&(m(),a="insert"),d+=s.content.str):this.deletes(s)?(a!=="delete"&&(m(),a="delete"),p+=s.length):s.deleted||(a!=="retain"&&(m(),a="retain"),f+=s.length);break;case _t:{const{key:v,value:b}=s.content;if(this.adds(s)){if(!this.deletes(s)){const x=i.get(v)??null;Vr(x,b)?b!==null&&s.delete(r):(a==="retain"&&m(),Vr(b,o.get(v)??null)?delete c[v]:c[v]=b)}}else if(this.deletes(s)){o.set(v,b);const x=i.get(v)??null;Vr(x,b)||(a==="retain"&&m(),c[v]=x)}else if(!s.deleted){o.set(v,b);const x=c[v];x!==void 0&&(Vr(x,b)?x!==null&&s.delete(r):(a==="retain"&&m(),b===null?delete c[v]:c[v]=b))}s.deleted||(a==="insert"&&m(),rs(i,s.content));break}}s=s.right}for(m();n.length>0;){const v=n[n.length-1];if(v.retain!==void 0&&v.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Ko extends Rt{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Wt(),this._length}_integrate(t,n){super._integrate(t,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new Ko}clone(){const t=new Ko;return t.applyDelta(this.toDelta()),t}_callObserver(t,n){super._callObserver(t,n);const r=new kI(this,t,n);Pc(this,t,r),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){this.doc??Wt();let t="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===nr&&(t+=n.content.str),n=n.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:n=!0}={}){this.doc!==null?Xe(this.doc,r=>{const i=new wh(null,this._start,0,new Map);for(let o=0;o<t.length;o++){const s=t[o];if(s.insert!==void 0){const a=!n&&typeof s.insert=="string"&&o===t.length-1&&i.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof a!="string"||a.length>0)&&nf(r,this,i,a,s.attributes||{})}else s.retain!==void 0?Rg(r,this,i,s.retain,s.attributes||{}):s.delete!==void 0&&Lg(r,i,s.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,n,r){this.doc??Wt();const i=[],o=new Map,s=this.doc;let a="",c=this._start;function d(){if(a.length>0){const p={};let m=!1;o.forEach((b,x)=>{m=!0,p[x]=b});const v={insert:a};m&&(v.attributes=p),i.push(v),a=""}}const f=()=>{for(;c!==null;){if(so(c,t)||n!==void 0&&so(c,n))switch(c.content.constructor){case nr:{const p=o.get("ychange");t!==void 0&&!so(c,t)?(p===void 0||p.user!==c.id.client||p.type!=="removed")&&(d(),o.set("ychange",r?r("removed",c.id):{type:"removed"})):n!==void 0&&!so(c,n)?(p===void 0||p.user!==c.id.client||p.type!=="added")&&(d(),o.set("ychange",r?r("added",c.id):{type:"added"})):p!==void 0&&(d(),o.delete("ychange")),a+=c.content.str;break}case Ir:case Hi:{d();const p={insert:c.content.getContent()[0]};if(o.size>0){const m={};p.attributes=m,o.forEach((v,b)=>{m[b]=v})}i.push(p);break}case _t:so(c,t)&&(d(),rs(o,c.content));break}c=c.right}d()};return t||n?Xe(s,p=>{t&&gh(p,t),n&&gh(p,n),f()},"cleanup"):f(),i}insert(t,n,r){if(n.length<=0)return;const i=this.doc;i!==null?Xe(i,o=>{const s=Va(o,this,t,!r);r||(r={},s.currentAttributes.forEach((a,c)=>{r[c]=a})),nf(o,this,s,n,r)}):this._pending.push(()=>this.insert(t,n,r))}insertEmbed(t,n,r){const i=this.doc;i!==null?Xe(i,o=>{const s=Va(o,this,t,!r);nf(o,this,s,n,r||{})}):this._pending.push(()=>this.insertEmbed(t,n,r||{}))}delete(t,n){if(n===0)return;const r=this.doc;r!==null?Xe(r,i=>{Lg(i,Va(i,this,t,!0),n)}):this._pending.push(()=>this.delete(t,n))}format(t,n,r){if(n===0)return;const i=this.doc;i!==null?Xe(i,o=>{const s=Va(o,this,t,!1);s.right!==null&&Rg(o,this,s,n,r)}):this._pending.push(()=>this.format(t,n,r))}removeAttribute(t){this.doc!==null?Xe(this.doc,n=>{Yu(n,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,n){this.doc!==null?Xe(this.doc,r=>{Yp(r,this,t,n)}):this._pending.push(()=>this.setAttribute(t,n))}getAttribute(t){return Qp(this,t)}getAttributes(){return tk(this)}_write(t){t.writeTypeRef(FI)}}const _I=e=>new Ko;class rf{constructor(t,n=()=>!0){this._filter=n,this._root=t,this._currentNode=t._start,this._firstCall=!0,t.doc??Wt()}[Symbol.iterator](){return this}next(){let t=this._currentNode,n=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(n)))do if(n=t.content.type,!t.deleted&&(n.constructor===Vo||n.constructor===Bi)&&n._start!==null)t=n._start;else for(;t!==null;){const r=t.next;if(r!==null){t=r;break}else t.parent===this._root?t=null:t=t.parent._item}while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class Bi extends Rt{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Bi}clone(){const t=new Bi;return t.insert(0,this.toArray().map(n=>n instanceof Rt?n.clone():n)),t}get length(){return this.doc??Wt(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new rf(this,t)}querySelector(t){t=t.toUpperCase();const r=new rf(this,i=>i.nodeName&&i.nodeName.toUpperCase()===t).next();return r.done?null:r.value}querySelectorAll(t){return t=t.toUpperCase(),li(new rf(this,n=>n.nodeName&&n.nodeName.toUpperCase()===t))}_callObserver(t,n){Pc(this,t,new EI(this,n,t))}toString(){return Qb(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,n={},r){const i=t.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),Cl(this,o=>{i.insertBefore(o.toDOM(t,n,r),null)}),i}insert(t,n){this.doc!==null?Xe(this.doc,r=>{Zb(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}insertAfter(t,n){if(this.doc!==null)Xe(this.doc,r=>{const i=t&&t instanceof Rt?t._item:t;Gu(r,this,i,n)});else{const r=this._prelimContent,i=t===null?0:r.findIndex(o=>o===t)+1;if(i===0&&t!==null)throw ai("Reference item not found");r.splice(i,0,...n)}}delete(t,n=1){this.doc!==null?Xe(this.doc,r=>{ek(r,this,t,n)}):this._prelimContent.splice(t,n)}toArray(){return Yb(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return Jb(this,t)}slice(t=0,n=this.length){return Gb(this,t,n)}forEach(t){Cl(this,t)}_write(t){t.writeTypeRef(KI)}}const xI=e=>new Bi;class Vo extends Bi{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,n){super._integrate(t,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new Vo(this.nodeName)}clone(){const t=new Vo(this.nodeName),n=this.getAttributes();return yC(n,(r,i)=>{typeof r=="string"&&t.setAttribute(i,r)}),t.insert(0,this.toArray().map(r=>r instanceof Rt?r.clone():r)),t}toString(){const t=this.getAttributes(),n=[],r=[];for(const a in t)r.push(a);r.sort();const i=r.length;for(let a=0;a<i;a++){const c=r[a];n.push(c+'="'+t[c]+'"')}const o=this.nodeName.toLocaleLowerCase(),s=n.length>0?" "+n.join(" "):"";return`<${o}${s}>${super.toString()}</${o}>`}removeAttribute(t){this.doc!==null?Xe(this.doc,n=>{Yu(n,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,n){this.doc!==null?Xe(this.doc,r=>{Yp(r,this,t,n)}):this._prelimAttrs.set(t,n)}getAttribute(t){return Qp(this,t)}hasAttribute(t){return nk(this,t)}getAttributes(t){return t?hI(this,t):tk(this)}toDOM(t=document,n={},r){const i=t.createElement(this.nodeName),o=this.getAttributes();for(const s in o){const a=o[s];typeof a=="string"&&i.setAttribute(s,a)}return Cl(this,s=>{i.appendChild(s.toDOM(t,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(t){t.writeTypeRef(BI),t.writeKey(this.nodeName)}}const SI=e=>new Vo(e.readKey());class EI extends Tc{constructor(t,n,r){super(t,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class Qu extends Bo{constructor(t){super(),this.hookName=t}_copy(){return new Qu(this.hookName)}clone(){const t=new Qu(this.hookName);return this.forEach((n,r)=>{t.set(r,n)}),t}toDOM(t=document,n={},r){const i=n[this.hookName];let o;return i!==void 0?o=i.createDom(this):o=document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(o,this),o}_write(t){t.writeTypeRef(VI),t.writeKey(this.hookName)}}const CI=e=>new Qu(e.readKey());class Ju extends Ko{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new Ju}clone(){const t=new Ju;return t.applyDelta(this.toDelta()),t}toDOM(t=document,n,r){const i=t.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(t=>{const n=[];for(const i in t.attributes){const o=[];for(const s in t.attributes[i])o.push({key:s,value:t.attributes[i][s]});o.sort((s,a)=>s.key<a.key?-1:1),n.push({nodeName:i,attrs:o})}n.sort((i,o)=>i.nodeName<o.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const o=n[i];r+=`<${o.nodeName}`;for(let s=0;s<o.attrs.length;s++){const a=o.attrs[s];r+=` ${a.key}="${a.value}"`}r+=">"}r+=t.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(WI)}}const II=e=>new Ju;class Jp{constructor(t,n){this.id=t,this.length=n}get deleted(){throw Zn()}mergeWith(t){return!1}write(t,n,r){throw Zn()}integrate(t,n){throw Zn()}}const OI=0;class In extends Jp{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){n>0&&(this.id.clock+=n,this.length-=n),$b(t.doc.store,this)}write(t,n){t.writeInfo(OI),t.writeLen(this.length-n)}getMissing(t,n){return null}}class Gl{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Gl(this.content)}splice(t){throw Zn()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeBuf(this.content)}getRef(){return 3}}const jI=e=>new Gl(e.readBuf());class Il{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Il(this.len)}splice(t){const n=new Il(this.len-t);return this.len=t,n}mergeWith(t){return this.len+=t.len,!0}integrate(t,n){Hu(t.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(t){}gc(t){}write(t,n){t.writeLen(this.len-n)}getRef(){return 1}}const TI=e=>new Il(e.readLen()),lk=(e,t)=>new ns({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class Yl{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),t.meta!==null&&(n.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Yl(lk(this.doc.guid,this.opts))}splice(t){throw Zn()}mergeWith(t){return!1}integrate(t,n){this.doc._item=n,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,n){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}const NI=e=>new Yl(lk(e.readString(),e.readAny()));class Hi{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Hi(this.embed)}splice(t){throw Zn()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeJSON(this.embed)}getRef(){return 5}}const PI=e=>new Hi(e.readJSON());class _t{constructor(t,n){this.key=t,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new _t(this.key,this.value)}splice(t){throw Zn()}mergeWith(t){return!1}integrate(t,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(t){}gc(t){}write(t,n){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}const DI=e=>new _t(e.readKey(),e.readJSON());class Xu{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Xu(this.arr)}splice(t){const n=new Xu(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let i=n;i<r;i++){const o=this.arr[i];t.writeString(o===void 0?"undefined":JSON.stringify(o))}}getRef(){return 2}}const AI=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++){const i=e.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new Xu(n)},RI=Wu("node_env")==="development";class Ki{constructor(t){this.arr=t,RI&&_b(t)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ki(this.arr)}splice(t){const n=new Ki(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let i=n;i<r;i++){const o=this.arr[i];t.writeAny(o)}}getRef(){return 8}}const LI=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++)n.push(e.readAny());return new Ki(n)};class nr{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new nr(this.str)}splice(t){const n=new nr(this.str.slice(t));this.str=this.str.slice(0,t);const r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(t){return this.str+=t.str,!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const MI=e=>new nr(e.readString()),UI=[mI,gI,_I,SI,xI,CI,II],zI=0,$I=1,FI=2,BI=3,KI=4,VI=5,WI=6;class Ir{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Ir(this.type._copy())}splice(t){throw Zn()}mergeWith(t){return!1}integrate(t,n){this.type._integrate(t.doc,n)}delete(t){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(t.beforeState.get(n.id.client)||0)&&t._mergeStructs.push(n):n.delete(t),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(t.beforeState.get(r.id.client)||0)&&t._mergeStructs.push(r):r.delete(t)}),t.changed.delete(this.type)}gc(t){let n=this.type._start;for(;n!==null;)n.gc(t,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(t,!0),r=r.left}),this.type._map=new Map}write(t,n){this.type._write(t)}getRef(){return 7}}const HI=e=>new Ir(UI[e.readTypeRef()](e)),Zu=(e,t,n)=>{const{client:r,clock:i}=t.id,o=new bt(Fe(r,i+n),t,Fe(r,i+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&o.markDeleted(),t.keep&&(o.keep=!0),t.redone!==null&&(o.redone=Fe(t.redone.client,t.redone.clock+n)),t.right=o,o.right!==null&&(o.right.left=o),e._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),t.length=n,o};class bt extends Jp{constructor(t,n,r,i,o,s,a,c){super(t,c.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=o,this.parent=s,this.parentSub=a,this.redone=null,this.content=c,this.info=this.content.isCountable()?tg:0}set marker(t){(this.info&Gd)>0!==t&&(this.info^=Gd)}get marker(){return(this.info&Gd)>0}get keep(){return(this.info&eg)>0}set keep(t){this.keep!==t&&(this.info^=eg)}get countable(){return(this.info&tg)>0}get deleted(){return(this.info&qd)>0}set deleted(t){this.deleted!==t&&(this.info^=qd)}markDeleted(){this.info|=qd}getMissing(t,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Ot(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Ot(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Oo&&this.id.client!==this.parent.client&&this.parent.clock>=Ot(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Tg(t,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=ui(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===In||this.right&&this.right.constructor===In)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===bt?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===bt&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Oo){const r=tf(n,this.parent);r.constructor===In?this.parent=null:this.parent=r.content.type}return null}integrate(t,n){if(n>0&&(this.id.clock+=n,this.left=Tg(t,t.doc.store,Fe(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const o=new Set,s=new Set;for(;i!==null&&i!==this.right;){if(s.add(i),o.add(i),Ba(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,o.clear();else if(Ba(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&s.has(tf(t.doc.store,i.origin)))o.has(tf(t.doc.store,i.origin))||(r=i,o.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),$b(t.doc.store,this),this.content.integrate(t,this),Pg(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new In(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:Fe(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&Ba(t.origin,this.lastId)&&this.right===t&&Ba(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===t&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Hu(t.deleteSet,this.id.client,this.id.clock,this.length),Pg(t,n,this.parentSub),this.content.delete(t)}}gc(t,n){if(!this.deleted)throw er();this.content.gc(t),n?ZC(t,this,new In(this.id,this.length)):this.content=new Il(this.length)}write(t,n){const r=n>0?Fe(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,o=this.parentSub,s=this.content.getRef()&Sc|(r===null?0:pn)|(i===null?0:yr)|(o===null?0:bl);if(t.writeInfo(s),r!==null&&t.writeLeftID(r),i!==null&&t.writeRightID(i),r===null&&i===null){const a=this.parent;if(a._item!==void 0){const c=a._item;if(c===null){const d=JC(a);t.writeParentInfo(!0),t.writeString(d)}else t.writeParentInfo(!1),t.writeLeftID(c.id)}else a.constructor===String?(t.writeParentInfo(!0),t.writeString(a)):a.constructor===Oo?(t.writeParentInfo(!1),t.writeLeftID(a)):er();o!==null&&t.writeString(o)}this.content.write(t,n)}}const ak=(e,t)=>qI[t&Sc](e),qI=[()=>{er()},TI,AI,jI,MI,PI,DI,HI,LI,NI,()=>{er()}],GI=10;class On extends Jp{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){er()}write(t,n){t.writeInfo(GI),Oe(t.restEncoder,this.length-n)}getMissing(t,n){return null}}const uk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},ck="__ $YJS$ __";uk[ck]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");uk[ck]=!0;const of=new FinalizationRegistry(({cache:e,key:t})=>{delete e[t]});function dk(e){var t,n;return(t=(n=e._novip)._docCache)!==null&&t!==void 0?t:n._docCache={cache:{},get size(){return Object.keys(this.cache).length},find(r,i,o){const s=sf(r,i,o),a=this.cache[s];return a?a.deref():void 0},add(r){var i;const{parentTable:o,parentId:s,parentProp:a}=r.meta;if(!o||!a||s==null)throw new Error("Missing Dexie-related metadata in Y.Doc");const c=sf(o,s,a),d=(i=this.cache[c])===null||i===void 0?void 0:i.deref();d&&of.unregister(d),this.cache[c]=new WeakRef(r),of.register(r,{cache:this.cache,key:c},r)},delete(r){of.unregister(r);const i=sf(r.meta.parentTable,r.meta.parentId,r.meta.parentProp),o=this.cache[i];(o==null?void 0:o.deref())===r&&delete this.cache[i]}}}const Qs=new WeakSet;function bh(e){if(Qs.has(e))throw new Error(`Y.Doc ${e.meta.parentId} has been destroyed`)}function sf(e,t,n){return`${e}[${t}].${n}`}function YI(e,t,n,r,i,o){let s=t.find(n,o,r);return s||(s=new ns({meta:{db:e,updatesTable:i,parentProp:r,parentTable:n,parentId:o}}),t.add(s),s.on("destroy",()=>{Qs.add(s),t.delete(s)}),s)}const{getByKeyPath:vT}=Re;let fk=null;function Mg(e){fk=e}function QI(e,t,n,r,i,o){let s=0,a=!0;const c=ei(()=>{bh(t);const p=n.table(i);return Promise.all([(s>0?p.where("i").between(s,1/0,!1).toArray().then(m=>m.filter(v=>xc(v.k,o)===0)):p.where({k:o}).toArray()).then(m=>m),n.table(r).where(":id").equals(o).toArray()])}).subscribe(([p,m])=>{if(p.length>0&&(s=p[p.length-1].i),m.length===0){t.destroy();return}bh(t),p.length>0&&Xe(t,()=>{p.forEach(v=>{try{Mg(v),Mb(t,v.u)}finally{Mg(null)}})},e,!1),a&&(a=!1,t.emit("load",[t]))},p=>{e.on("error").fire(p)}),d=(p,m)=>{m!==e&&n.table(i).add({k:o,u:p,f:1}).then(v=>{v===s-1&&++s}).catch(v=>{e.on("error").fire(v)})},f=()=>{c.unsubscribe(),t.off("updateV2",d),t.off("destroy",f)};return t.on("updateV2",d),t.on("destroy",f),f}function hk(){}function JI(e,t){return e===hk?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}function XI(e,t){return e===hk?t:function(){e.apply(this,arguments),t.apply(this,arguments)}}const js=new WeakMap;function Ug(){return Re.Events(null,"load","sync","error")}class Vt{static getOrCreateDocument(t,n,r,i){var o,s;const a=dk(t),c=(s=(o=t.table(n).schema.yProps)===null||o===void 0?void 0:o.find(d=>d.prop===r))===null||s===void 0?void 0:s.updatesTable;if(!c)throw new Error(`Updates table for ${n}.${r} not found`);return YI(t,a,n,r,c,i)}static load(t,n){var r;let i=js.get(t);return i?(++i.refCount,(n==null?void 0:n.gracePeriod)!=null&&i.graceTimeout<n.gracePeriod&&(i.graceTimeout=n.gracePeriod),i.graceTimer&&(clearTimeout(i.graceTimer),i.graceTimer=null)):(i=new Vt(t),i.graceTimeout=(r=n==null?void 0:n.gracePeriod)!==null&&r!==void 0?r:-1,js.set(t,i)),i}static release(t){if(!t||Qs.has(t))return;const n=js.get(t);n?--n.refCount<=0&&(n.graceTimeout<0?n._release():n.graceTimer||(n.graceTimer=setTimeout(()=>{n.graceTimer=null,n.refCount===0&&n._release()},n.graceTimeout))):t.destroy()}_release(){this.doc&&Promise.resolve(Vt.on("beforeunload").fire(this)).finally(()=>{var t;this.refCount===0&&((t=this.doc)===null||t===void 0||t.destroy())})}static for(t){return js.get(t)}static get currentUpdateRow(){return fk}get whenLoaded(){return this._whenLoaded||(this._whenLoaded=new Promise((t,n)=>{if(!this.doc){n(new Error("No Y.Doc associated with this provider"));return}this.doc.isLoaded?t():this._error?n(this._error):Qs.has(this.doc)?n(new Re.AbortError("Document was destroyed before loaded")):(this.on("load",t),this.on("error",n),this.doc.on("destroy",()=>n(new Re.AbortError("Document was destroyed before loaded"))))})),this._whenLoaded}get whenSynced(){return this._whenSynced||(this._whenSynced=new Promise((t,n)=>{if(!this.doc){n(new Error("No Y.Doc associated with this provider"));return}this.doc.isSynced?t():this._error?n(this._error):Qs.has(this.doc)?n(new Re.AbortError("Document was destroyed before synced")):(this.on("sync",t),this.on("error",n),this.doc.on("destroy",()=>n(new Re.AbortError("Document was destroyed before synced"))))})),this._whenSynced}constructor(t){this.refCount=1,this.cleanupHandlers=[],this.graceTimeout=-1,this.doc=null,this.destroyed=!1,this.on=Ug(),this.doc=t,this.off=(s,a)=>{var c;return(c=this.on[s])===null||c===void 0?void 0:c.unsubscribe(a)},"dispose"in Symbol&&(this[Symbol.dispose]=()=>Vt.release(t)),t.on("load",()=>this.on("load").fire()),t.on("sync",s=>s!==!1&&this.on("sync").fire()),t.on("destroy",this.destroy.bind(this)),this.on("error",s=>{this._error=s});const{db:n,parentTable:r,parentId:i,updatesTable:o}=t.meta||{};if(!n||!r||!o)throw new Error("Missing Dexie-related metadata in Y.Doc. Documents need to be obtained through Y.Doc properties from dexie queries.");if(!n.table(r)||!n.table(o))throw new Error(`Table ${r} or ${o} not found in db`);bh(t),this.stopObserving=QI(this,t,n,r,o,i),Vt.on("new").fire(this)}destroy(){var t,n,r;console.debug(`Y.Doc ${(n=(t=this.doc)===null||t===void 0?void 0:t.meta)===null||n===void 0?void 0:n.parentId} was destroyed`),js.delete(this.doc),this.doc=null,this.destroyed=!0,this.refCount=0,(r=this.stopObserving)===null||r===void 0||r.call(this),this.on=Ug(),this.cleanupHandlers.forEach(i=>i())}addCleanupHandler(t){this.cleanupHandlers.push(typeof t=="function"?t:()=>t.unsubscribe())}}Vt.on=Re.Events(null,{new:[XI],beforeunload:[JI]});Vt.getDocCache=dk;Re.DexieYProvider?Vt=Re.DexieYProvider||Vt:Re.DexieYProvider=Vt;const lf=3e4;class ZI extends aC{constructor(t){super(),this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const n=Vu();this.getLocalState()!==null&&lf/2<=n-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const r=[];this.meta.forEach((i,o)=>{o!==this.clientID&&lf<=n-i.lastUpdated&&this.states.has(o)&&r.push(o)}),r.length>0&&pk(this,r,"timeout")},_r(lf/10)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){const n=this.clientID,r=this.meta.get(n),i=r===void 0?0:r.clock+1,o=this.states.get(n);t===null?this.states.delete(n):this.states.set(n,t),this.meta.set(n,{clock:i,lastUpdated:Vu()});const s=[],a=[],c=[],d=[];t===null?d.push(n):o==null?t!=null&&s.push(n):(a.push(n),Ys(o,t)||c.push(n)),(s.length>0||c.length>0||d.length>0)&&this.emit("change",[{added:s,updated:c,removed:d},"local"]),this.emit("update",[{added:s,updated:a,removed:d},"local"])}setLocalStateField(t,n){const r=this.getLocalState();r!==null&&this.setLocalState({...r,[t]:n})}getStates(){return this.states}}const pk=(e,t,n)=>{const r=[];for(let i=0;i<t.length;i++){const o=t[i];if(e.states.has(o)){if(e.states.delete(o),o===e.clientID){const s=e.meta.get(o);e.meta.set(o,{clock:s.clock+1,lastUpdated:Vu()})}r.push(o)}}r.length>0&&(e.emit("change",[{added:[],updated:[],removed:r},n]),e.emit("update",[{added:[],updated:[],removed:r},n]))},e2=(e,t,n=e.states)=>{const r=t.length,i=Xo();Oe(i,r);for(let o=0;o<r;o++){const s=t[o],a=n.get(s)||null,c=e.meta.get(s).clock;Oe(i,s),Oe(i,c),En(i,JSON.stringify(a))}return fn(i)},t2=(e,t,n)=>{const r=Wl(t),i=Vu(),o=[],s=[],a=[],c=[],d=Qe(r);for(let f=0;f<d;f++){const p=Qe(r);let m=Qe(r);const v=JSON.parse(Cn(r)),b=e.meta.get(p),x=e.states.get(p),P=b===void 0?0:b.clock;(P<m||P===m&&v===null&&e.states.has(p))&&(v===null?p===e.clientID&&e.getLocalState()!=null?m++:e.states.delete(p):e.states.set(p,v),e.meta.set(p,{clock:m,lastUpdated:i}),b===void 0&&v!==null?o.push(p):b!==void 0&&v===null?c.push(p):v!==null&&(Ys(v,x)||a.push(p),s.push(p)))}(o.length>0||a.length>0||c.length>0)&&e.emit("change",[{added:o,updated:a,removed:c},n]),(o.length>0||s.length>0||c.length>0)&&e.emit("update",[{added:o,updated:s,removed:c},n])};function he(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(d){try{c(r.next(d))}catch(f){o(f)}}function a(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){var f;d.done?i(d.value):(f=d.value,f instanceof n?f:new n(function(p){p(f)})).then(s,a)}c((r=r.apply(e,t||[])).next())})}function n2(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dt(e){return this instanceof Dt?(this.v=e,this):new Dt(e)}function kh(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(p){i[p]&&(r[p]=function(m){return new Promise(function(v,b){o.push([p,m,v,b])>1||a(p,m)})})}function a(p,m){try{(function(v){v.value instanceof Dt?Promise.resolve(v.value.v).then(c,d):f(o[0][2],v)})(i[p](m))}catch(v){f(o[0][3],v)}}function c(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _h(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=n2(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(o){return new Promise(function(s,a){(function(c,d,f,p){Promise.resolve(p).then(function(m){c({value:m,done:f})},d)})(s,a,(o=e[i](o)).done,o.value)})}}}const r2={}.hasOwnProperty;function ec(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){(function(d){if(!d)throw new Error("Assertion Failed")})(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)ec(e,t[r],n[r])}else{var o=t.indexOf(".");if(o!==-1){var s=t.substr(0,o),a=t.substr(o+1);if(a==="")n===void 0?Array.isArray(e)?isNaN(parseInt(s))||e.splice(parseInt(s),1):delete e[s]:e[s]=n;else{var c=e[s];c&&function(d,f){return r2.call(d,f)}(e,s)||(c=e[s]={}),ec(c,a,n)}}else n===void 0?Array.isArray(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}const mk=typeof self<"u"&&typeof crypto<"u"?(e,t=crypto.getRandomValues.bind(crypto))=>{const n=new Uint8Array(e);return t(n),self.btoa(String.fromCharCode.apply(null,n))}:typeof Buffer<"u"?(e,t=i2)=>{const n=Buffer.alloc(e);return t(n),n.toString("base64")}:()=>{throw new Error("No implementation of randomString was found")};function i2(e){for(let t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}function Xp(e){return typeof e=="string"||!!(Array.isArray(e)&&e.some(t=>Xp(t))&&e.every(yk))}function yk(e){return typeof e=="string"||typeof e=="number"||Array.isArray(e)&&e.every(yk)}function o2(e,t,n){const r=e[t]||(e[t]={}),i=n.keys.map(o=>typeof o=="string"?o:JSON.stringify(o));switch(n.type){case"insert":case"upsert":i.forEach((o,s)=>{r[o]={type:"ups",val:n.values[s]}});break;case"update":case"modify":i.forEach((o,s)=>{const a=n.type==="update"?n.changeSpecs[s]:n.changeSpec,c=r[o];if(c)switch(c.type){case"ups":for(const[d,f]of Object.entries(a))ec(c.val,d,f);break;case"del":break;case"upd":Object.assign(c.mod,a)}else r[o]={type:"upd",mod:a}});break;case"delete":i.forEach(o=>{r[o]={type:"del"}})}return e}function zg(e,t){for(const{table:n,muts:r}of t)for(const i of r)o2(e,n,i)}function s2(e){return kh(this,arguments,function*(){var t,n,r,i;let o=0,s=new Uint8Array(4),a=0,c=[],d=0;try{for(var f,p=!0,m=_h(e);!(t=(f=yield Dt(m.next())).done);p=!0){i=f.value,p=!1;const v=i,b=new DataView(v.buffer,v.byteOffset,v.byteLength);let x=0;for(;x<v.byteLength;)switch(o){case 0:if(x+4>v.byteLength){for(const P of v.slice(x)){if(a===4)break;s[a++]=P,++x}if(a<4)break}else if(a>0&&a<4)for(const P of v.slice(x,x+4-a))s[a++]=P,++x;case 1:d=a===4?new DataView(s.buffer,0,4).getUint32(0,!1):b.getUint32(x,!1),a?a=0:x+=4;case 2:if(x>=v.byteLength){o=2;break}if(x+d>v.byteLength)c.push(v.slice(x)),d-=v.byteLength-x,o=2,x=v.byteLength;else{if(c.length>0){const P=new Uint8Array(c.reduce((k,_)=>k+_.byteLength,d));let E=0;for(const k of c)P.set(k,E),E+=k.byteLength;P.set(v.slice(x,x+d),E),c=[],yield yield Dt(P)}else yield yield Dt(v.slice(x,x+d));x+=d,o=0}}}}catch(v){n={error:v}}finally{try{p||t||!(r=m.return)||(yield Dt(r.call(m)))}finally{if(n)throw n.error}}})}function gk(e,t){return he(this,void 0,void 0,function*(){try{const n=yield navigator.serviceWorker.ready;if(t==="push"&&n.sync&&(yield n.sync.register(`dexie-cloud:${e.name}`)),!n.active)throw new Error("Failed to trigger sync - there's no active service worker");return void n.active.postMessage({type:"dexie-cloud-sync",dbName:e.name,purpose:t})}catch{}})}function pr(e,t){e.cloud.usingServiceWorker?gk(e,t):e.localSyncEvent.next({purpose:t})}const l2="fromBase64"in Uint8Array,a2="toBase64"in Uint8Array.prototype,Zp=typeof Buffer<"u"?e=>Buffer.from(e,"base64"):l2?e=>Uint8Array.fromBase64(e):e=>{const t=atob(e),n=t.length,r=new Uint8Array(n);for(var i=0;i<n;i++)r[i]=t.charCodeAt(i);return r},is=typeof Buffer<"u"?e=>ArrayBuffer.isView(e)?Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"):Buffer.from(e).toString("base64"):a2?e=>(ArrayBuffer.isView(e)?e:new Uint8Array(e)).toBase64():e=>{const t=ArrayBuffer.isView(e)?e:new Uint8Array(e),n=[];for(let r=0,i=t.length;r<i;r+=4096){const o=t.subarray(r,r+4096);n.push(String.fromCharCode.apply(null,o))}return btoa(n.join(""))};class xh extends Error{constructor({title:t,message:n,messageCode:r,messageParams:i}){super(n),this.name="TokenErrorResponseError",this.title=t,this.messageCode=r,this.messageParams=i}}function Ql(e,t){return new Promise((n,r)=>{const i=Object.assign(Object.assign({submitLabel:"Submit",cancelLabel:"Cancel"},t),{onSubmit:o=>{e.next(void 0),n(o)},onCancel:()=>{e.next(void 0),r(new Re.AbortError("User cancelled"))}});e.next(i)})}function Sh(e,t,...n){return Ql(e,{type:"message-alert",title:t,alerts:n,fields:{},submitLabel:"OK",cancelLabel:null})}function $g(e,t,n){return he(this,void 0,void 0,function*(){let r=n||"";for(;!r||!/^[\w-+.]+@([\w-]+\.)+[\w-]{2,10}(\sas\s[\w-+.]+@([\w-]+\.)+[\w-]{2,10})?$/.test(r);)r=(yield Ql(e,{type:"email",title:t,alerts:r?[{type:"error",messageCode:"INVALID_EMAIL",message:"Please enter a valid email address",messageParams:{}}]:[],fields:{email:{type:"email",placeholder:"you@somedomain.com"}}})).email;return r})}function Fg(e,t,n){return he(this,void 0,void 0,function*(){const r=[{type:"info",messageCode:"OTP_SENT",message:"A One-Time password has been sent to {email}",messageParams:{email:t}}];n&&r.push(n);const{otp:i}=yield Ql(e,{type:"otp",title:"Enter OTP",alerts:r,fields:{otp:{type:"otp",label:"OTP",placeholder:"Paste OTP here"}}});return i})}function Dc(e){return he(this,void 0,void 0,function*(){var t,n,r;const i=yield e.getCurrentUser(),{accessToken:o,accessTokenExpiration:s,refreshToken:a,refreshTokenExpiration:c,claims:d}=i;if(!o)return null;if(((t=s==null?void 0:s.getTime())!==null&&t!==void 0?t:1/0)>Date.now()&&(((n=i.license)===null||n===void 0?void 0:n.status)||"ok")==="ok")return i;if(!a)throw new Error("Refresh token missing");if(((r=c==null?void 0:c.getTime())!==null&&r!==void 0?r:1/0)<=Date.now())throw new Error("Refresh token has expired");const f=yield Ac(e.cloud.options.databaseUrl,i);return yield e.table("$logins").update(d.sub,{accessToken:f.accessToken,accessTokenExpiration:f.accessTokenExpiration,claims:f.claims,license:f.license,data:f.data}),f})}function u2(e,t,n,r,i){return he(this,void 0,void 0,function*(){return t.accessToken&&t.accessTokenExpiration.getTime()>Date.now()?t:t.refreshToken&&(!t.refreshTokenExpiration||t.refreshTokenExpiration.getTime()>Date.now())?yield Ac(e,t):yield function(o,s,a,c){return he(this,void 0,void 0,function*(){if(!crypto.subtle)throw typeof location<"u"&&location.protocol==="http:"?new Error("Dexie Cloud Addon needs to use WebCrypto, but your browser has disabled it due to being served from an insecure location. Please serve it from https or http://localhost:<port> (See https://stackoverflow.com/questions/46670556/how-to-enable-crypto-subtle-for-unsecure-origins-in-chrome/46671627#46671627)"):new Error("This browser does not support WebCrypto.");const{privateKey:d,publicKey:f}=yield crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!1,["sign","verify"]);if(!d||!f)throw new Error("Could not generate RSA keypair");o.nonExportablePrivateKey=d;const p=function(m){const v=is(m);return function(b){let x=`-----BEGIN PUBLIC KEY-----
`;for(;b.length>0;)x+=b.substring(0,64)+`
`,b=b.substring(64);return x+="-----END PUBLIC KEY-----",x}(v)}(yield crypto.subtle.exportKey("spki",f));o.publicKey=f;try{const m=yield s({public_key:p,hints:c});if(m.type==="error")throw new xh(m);if(m.type!=="tokens")throw new Error(`Unexpected response type from token endpoint: ${m.type}`);return o.accessToken=m.accessToken,o.accessTokenExpiration=new Date(m.accessTokenExpiration),o.refreshToken=m.refreshToken,m.refreshTokenExpiration&&(o.refreshTokenExpiration=new Date(m.refreshTokenExpiration)),o.userId=m.claims.sub,o.email=m.claims.email,o.name=m.claims.name,o.claims=m.claims,o.license={type:m.userType,status:m.claims.license||"ok"},o.data=m.data,m.evalDaysLeft!=null&&(o.license.evalDaysLeft=m.evalDaysLeft),m.userValidUntil!=null&&(o.license.validUntil=new Date(m.userValidUntil)),m.alerts&&m.alerts.length>0&&(yield Ql(a,{type:"message-alert",title:"Authentication Alert",fields:{},alerts:m.alerts})),o}catch(m){if(m instanceof xh)throw yield Sh(a,m.title,{type:"error",messageCode:m.messageCode,message:m.message,messageParams:{}}),m;let v="We're having a problem authenticating right now.";throw m instanceof TypeError&&(v=typeof navigator!==void 0&&!navigator.onLine?"You seem to be offline. Please connect to the internet and try again.":Re.debug||typeof location<"u"&&(location.hostname==="localhost"||location.hostname==="127.0.0.1")?`Could not connect to server. Please verify that your origin '${location.origin}' is whitelisted using \`npx dexie-cloud whitelist\``:"Could not connect to server. Please verify the connection.",yield Sh(a,"Authentication Failed",{type:"error",messageCode:"GENERIC_ERROR",message:v,messageParams:{}}).catch(()=>{})),m}})}(t,n,r,i)})}function Ac(e,t){return he(this,void 0,void 0,function*(){if(!t.refreshToken)throw new Error("Cannot refresh token - refresh token is missing.");if(!t.nonExportablePrivateKey)throw new Error("login.nonExportablePrivateKey is missing - cannot sign refresh token without a private key.");const n=Date.now(),r="RSASSA-PKCS1-v1_5",i=new TextEncoder().encode(t.refreshToken+n),o=yield crypto.subtle.sign(r,t.nonExportablePrivateKey,i),s=is(o),a={grant_type:"refresh_token",refresh_token:t.refreshToken,scopes:["ACCESS_DB"],signature:s,signing_algorithm:r,time_stamp:n},c=yield fetch(`${e}/token`,{body:JSON.stringify(a),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});if(c.status!==200)throw new Error(`RefreshToken: Status ${c.status} from ${e}/token`);const d=yield c.json();if(d.type==="error")throw new xh(d);return t.accessToken=d.accessToken,t.accessTokenExpiration=d.accessTokenExpiration?new Date(d.accessTokenExpiration):void 0,t.claims=d.claims,t.license={type:d.userType,status:d.claims.license||"ok"},d.evalDaysLeft!=null&&(t.license.evalDaysLeft=d.evalDaysLeft),d.userValidUntil!=null&&(t.license.validUntil=new Date(d.userValidUntil)),d.data&&(t.data=d.data),t})}const Bg=new WeakMap;class em{constructor(t,n){Bg.set(this,t),Object.assign(this,n)}static load(t,n){return t.table("$logins").get(n).then(r=>new em(t,r||{userId:n,claims:{sub:n},lastLogin:new Date(0)}))}save(){return he(this,void 0,void 0,function*(){Bg.get(this).table("$logins").put(this)})}}const en={userId:"unauthorized",name:"Unauthorized",claims:{sub:"unauthorized"},lastLogin:new Date(0)};try{Object.freeze(en),Object.freeze(en.claims)}catch{}function vk(e,t){return Ti(mn(e).pipe(_n(t)))}function wk(e){return he(this,void 0,void 0,function*(){const t=yield Eh(e);if(t){if(!(yield function(n,r,i){return he(this,void 0,void 0,function*(){const o=[{type:"warning",messageCode:"LOGOUT_CONFIRMATION",message:`{numUnsyncedChanges} unsynced changes will get lost!
                Logout anyway?`,messageParams:{currentUserId:r,numUnsyncedChanges:i.toString()}}];return yield Ql(n,{type:"logout-confirmation",title:"Confirm Logout",alerts:o,fields:{},submitLabel:"Confirm logout",cancelLabel:"Cancel"}).then(()=>!0).catch(()=>!1)})}(e.cloud.userInteraction,e.cloud.currentUserId,t)))throw new Error("User cancelled logout due to unsynced changes");yield Eh(e,{deleteUnsyncedData:!0})}})}function Eh(e){return he(this,arguments,void 0,function*(t,{deleteUnsyncedData:n=!1}={}){const[r,i]=yield t.dx.transaction("rw",t.dx.tables,o=>he(this,void 0,void 0,function*(){const s=o.idbtrans;s.disableChangeTracking=!0,s.disableAccessControl=!0;const a=o.storeNames.filter(d=>d.endsWith("_mutations")),c=(yield Promise.all(a.map(d=>o.table(d).count()))).reduce((d,f)=>d+f,0);if(c>0&&!n)return[c,!1];t.$syncState.delete("syncState");for(const d of t.dx.tables)d.name!=="$jobs"&&d.name!=="$syncState"&&d.clear();return[c,!0]}));return i&&(yield vk(t.cloud.currentUser,o=>o.userId===en.userId),yield t.cloud.sync({purpose:"pull",wait:!0})),r})}class Ch extends Error{constructor(t,n){super(n||`${t.status} ${t.statusText}`),this.httpStatus=t.status}get name(){return"HttpError"}}function Wa(e,...t){globalThis.console[e](...t)}function af(e,t){return he(this,void 0,void 0,function*(){var n;const r=yield e.getCurrentUser(),i=r.userId;if(r.isLoggedIn&&(!t||!t.email&&!t.userId)){if((((n=r.license)===null||n===void 0?void 0:n.status)||"ok")==="ok"&&r.accessToken&&(!r.accessTokenExpiration||r.accessTokenExpiration.getTime()>Date.now()))return!1;if(r.refreshToken&&(!r.refreshTokenExpiration||r.refreshTokenExpiration.getTime()>Date.now()))return yield Dc(e),!1}const o=new em(e,{claims:{},lastLogin:new Date(0)});return yield u2(e.cloud.options.databaseUrl,o,e.cloud.options.fetchTokens||function(s){const{userInteraction:a}=s.cloud;return function(c){return he(this,arguments,void 0,function*({public_key:d,hints:f}){var p;let m;const v=(p=s.cloud.options)===null||p===void 0?void 0:p.databaseUrl;if(!v)throw new Error("No database URL given.");if((f==null?void 0:f.grant_type)==="demo")m={demo_user:yield $g(a,"Enter a demo user email",(f==null?void 0:f.email)||(f==null?void 0:f.userId)),grant_type:"demo",scopes:["ACCESS_DB"],public_key:d};else if(f!=null&&f.otpId&&f.otp)m={grant_type:"otp",otp_id:f.otpId,otp:f.otp,scopes:["ACCESS_DB"],public_key:d};else{const P=yield $g(a,"Enter email address",f==null?void 0:f.email);m=/@demo.local$/.test(P)?{demo_user:P,grant_type:"demo",scopes:["ACCESS_DB"],public_key:d}:{email:P,grant_type:"otp",scopes:["ACCESS_DB"]}}const b=yield fetch(`${v}/token`,{body:JSON.stringify(m),method:"post",headers:{"Content-Type":"application/json",mode:"cors"}});if(b.status!==200){const P=yield b.text();throw yield Sh(a,"Token request failed",{type:"error",messageCode:"GENERIC_ERROR",message:P,messageParams:{}}).catch(()=>{}),new Ch(b,P)}const x=yield b.json();if(x.type==="tokens"||x.type==="error")return x;if(m.grant_type==="otp"&&"email"in m){if(x.type!=="otp-sent")throw new Error(`Unexpected response from ${v}/token`);const P=yield Fg(a,m.email),E=Object.assign(Object.assign({},m),{otp:P||"",otp_id:x.otp_id,public_key:d});let k=yield fetch(`${v}/token`,{body:JSON.stringify(E),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});for(;k.status===401;){const _=yield k.text();E.otp=yield Fg(a,m.email,{type:"error",messageCode:"INVALID_OTP",message:_,messageParams:{}}),k=yield fetch(`${v}/token`,{body:JSON.stringify(E),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"})}if(k.status!==200){const _=yield k.text();throw new Ch(k,_)}return yield k.json()}throw new Error(`Unexpected response from ${v}/token`)})}}(e),e.cloud.userInteraction,t),i!==en.userId&&o.userId!==i&&(yield wk(e)),yield function(s,a){return he(this,void 0,void 0,function*(){const c=s.table("$logins");yield s.transaction("rw",c,d=>he(this,void 0,void 0,function*(){const f=yield c.toArray();yield Promise.all(f.filter(p=>p.userId!==a.userId&&p.isLoggedIn).map(p=>(p.isLoggedIn=!1,c.put(p)))),a.isLoggedIn=!0,a.lastLogin=new Date;try{yield a.save()}catch(p){try{p.name==="DataCloneError"&&(Wa("debug","Login context property names:",Object.keys(a)),Wa("debug","Login context property names:",Object.keys(a)),Wa("debug","Login context:",a),Wa("debug","Login context JSON:",JSON.stringify(a)))}catch{}throw p}})),yield vk(s.cloud.currentUser,d=>d.userId===a.userId)})}(e,o),pr(e,"pull"),o.userId!==i})}const Ih={},Js=typeof self<"u"&&self.document&&typeof navigator<"u"&&navigator.serviceWorker;Js&&Js.ready.then(e=>Ih.registration=e),typeof self<"u"&&"clients"in self&&!self.document&&addEventListener("message",e=>{var t,n;!((n=(t=e.data)===null||t===void 0?void 0:t.type)===null||n===void 0)&&n.startsWith("sw-broadcast-")&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>{var i;return r.id!==((i=e.source)===null||i===void 0?void 0:i.id)&&r.postMessage(e.data)})});class uf{constructor(t){this.name=t}subscribe(t){if(!Js)return()=>{};const n=r=>{var i;((i=r.data)===null||i===void 0?void 0:i.type)===`sw-broadcast-${this.name}`&&t(r.data.message)};return Js.addEventListener("message",n),()=>Js.removeEventListener("message",n)}postMessage(t){var n;typeof self.clients=="object"?[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:`sw-broadcast-${this.name}`,message:t})):Ih.registration&&((n=Ih.registration.active)===null||n===void 0||n.postMessage({type:`sw-broadcast-${this.name}`,message:t}))}}const Ts=globalThis["lbc-events"]||(globalThis["lbc-events"]=new Map);class Ha extends kt{constructor(t){const n=typeof BroadcastChannel>"u"?new uf(t):new BroadcastChannel(t);super(r=>{function i(a){r.next(a.detail)}function o(a){r.next(a.data)}let s;(function(a,c){Ts.has(a)?Ts.get(a).push(c):Ts.set(a,[c])})(`lbc-${t}`,i);try{n instanceof uf?s=n.subscribe(a=>r.next(a)):n.addEventListener("message",o)}catch{}return()=>{(function(a,c){const d=Ts.get(a);if(d){const f=d.indexOf(c);f!==-1&&d.splice(f,1)}})(`lbc-${t}`,i),n instanceof uf?s():n.removeEventListener("message",o)}}),this.name=t,this.bc=n}next(t){this.bc.postMessage(t),function(n){const r=Ts.get(n.type);r&&r.forEach(i=>{try{i(n)}catch{}})}(new CustomEvent(`lbc-${this.name}`,{detail:t}))}}function Oh(e){return he(this,arguments,void 0,function*({realms:t,inviteRealms:n}){const r=JSON.stringify([...t.map(s=>({realmId:s,accepted:!0})),...n.map(s=>({realmId:s,accepted:!1}))].sort((s,a)=>s.realmId<a.realmId?-1:s.realmId>a.realmId?1:0)),i=new TextEncoder().encode(r),o=yield crypto.subtle.digest("SHA-1",i);return is(o)})}function mu(e){return Object.entries(e.cloud.schema||{}).filter(([,{markedForSync:t}])=>t).map(([t])=>e.tables.filter(({name:n})=>n===t)[0]).filter(t=>t)}function tm(e){return`$${e}_mutations`}function bk(e){var t;const n=(t=/^\$(.*)_mutations$/.exec(e))===null||t===void 0?void 0:t[1];if(!n)throw new Error(`Given mutationTable ${e} is not correct`);return n}const c2=[].concat;function nm(e){return c2.apply([],e)}function jh(e,t){return he(this,arguments,void 0,function*(n,r,{since:i={},limit:o=1/0}={}){const s=yield Promise.all(n.map(p=>he(this,void 0,void 0,function*(){const m=bk(p.name),v=i[m];let b=v?p.where("rev").above(v):p;o<1/0&&(b=b.limit(o));let x=yield b.toArray();return x=function(P){return P=P.map(E=>{if(E.type==="modify"&&E.criteria.index===null){const k=Object.assign(Object.assign({},E),{criteria:void 0,changeSpec:void 0,type:"update",keys:E.keys,changeSpecs:[E.changeSpec]});return delete k.criteria,delete k.changeSpec,k}return E}),P}(x),x=function(P){const E=new Map;for(const k of P)if(k.type==="update"){if(k.keys.length!==1||k.changeSpecs.length!==1)continue;const _=""+k.keys[0],M=k.changeSpecs[0];if(Object.values(M).some(B=>typeof B=="object"&&B&&"@@propmod"in B))continue;let K=E.get(_);K?K.push({txid:k.txid,updateSpec:M}):E.set(_,[{txid:k.txid,updateSpec:M}])}return P=P.filter(k=>{if(k.type!=="update"||k.keys.length!==1||k.changeSpecs.length!==1)return!0;const _=new Set(Object.keys(k.changeSpecs[0])),M=""+k.keys[0],K=E.get(M);for(let B=K.length-1;B>=0;--B){const{txid:H,updateSpec:W}=K[B];if(H===k.txid)break;for(const ie of Object.keys(W))_.delete(ie)}return _.size!==0}),P}(x),x.map(P=>({table:m,mut:P}))}))),a=nm(s).sort((p,m)=>p.mut.txid===m.mut.txid?p.mut.opNo-m.mut.opNo:p.mut.ts-m.mut.ts),c=[];let d=null,f=null;for(const{table:p,mut:m}of a)d&&d.table===p&&f===m.txid?d.muts.push(m):(d={table:p,muts:[m]},f=m.txid,c.push(d));return c})}function kk(e){const t=new Uint8Array(e);if(typeof crypto<"u")crypto.getRandomValues(t);else for(let n=0;n<e;n++)t[n]=Math.floor(256*Math.random());if(typeof Buffer<"u"&&Buffer.from)return Buffer.from(t).toString("base64");if(typeof btoa<"u")return btoa(String.fromCharCode.apply(null,t));throw new Error("No btoa or Buffer available")}const{toString:d2}={},Kg={replace:function(e){const t=Object.keys(e);let n=null;for(let i=0,o=t.length;i<o;++i)t[i][0]==="$"&&(n=n||[],n.push(t[i]));if(!n)return e;const r={...e};for(const i of n)delete r[i];for(const i of n)r["$"+i]=e[i];return r}};function _k(...e){const t=e.reduce((r,i)=>({...r,...i}),e.reduce((r,i)=>({...i,...r}),{})),n=new WeakMap;return{stringify(r,i,o){return JSON.stringify(r,function(a){const c=this[a],d=function(f){const p=typeof f;switch(typeof f){case"object":case"function":{if(f===null)return null;const v=Object.getPrototypeOf(f);if(!v)return Kg;let b=n.get(v);if(b!==void 0)return b;const x=(m=f,d2.call(m).slice(8,-1)),P=Object.entries(t).find(([E,k])=>{var _,M;return(M=(_=k==null?void 0:k.test)===null||_===void 0?void 0:_.call(k,f,x))!==null&&M!==void 0?M:E===x});return b=P==null?void 0:P[1],b||(b=Array.isArray(f)?null:typeof f=="function"?t.function||null:Kg),n.set(v,b),b}default:return t[p]}var m}(c);return d?d.replace(c,i,t):c},o)},parse(r,i){const o=[];return JSON.parse(r,function(s,a){const c=a==null?void 0:a.$t;if(c){const f=t[c];a=f?f.revive(a,i,t):a}let d=o[o.length-1];if(d&&d[0]===a){a={...a};for(const f of d[1])delete a[f];for(const[f,p]of Object.entries(d[2]))a[f]=p;o.pop()}if(a===void 0||s[0]==="$"&&s!=="$t"){let f,p;d=o[o.length-1],d&&d[0]===this?(f=d[1],p=d[2]):o.push([this,f=[],p={}]),s[0]==="$"&&s!=="$t"?(f.push(s),p[s.substr(1)]=a):p[s]=void 0}return a})}}}const f2={Blob:{test:(e,t)=>t==="Blob",replace:(e,t)=>{const n=t.length;return t.push(e),{$t:"Blob",mimeType:e.type,i:n}},revive:({i:e,mimeType:t},n)=>new Blob([n[e]],{type:t})}};var h2={number:{replace:e=>{switch(!0){case isNaN(e):return{$t:"number",v:"NaN"};case e===1/0:return{$t:"number",v:"Infinity"};case e===-1/0:return{$t:"number",v:"-Infinity"};default:return e}},revive:({v:e})=>Number(e)}};const p2={bigint:{replace:e=>({$t:"bigint",v:""+e}),revive:e=>BigInt(e.v)}};var m2={Date:{replace:e=>({$t:"Date",v:isNaN(e.getTime())?"NaN":e.toISOString()}),revive:({v:e})=>new Date(e==="NaN"?NaN:Date.parse(e))}},y2={Set:{replace:e=>({$t:"Set",v:Array.from(e.entries())}),revive:({v:e})=>new Set(e)}},g2={Map:{replace:e=>({$t:"Map",v:Array.from(e.entries())}),revive:({v:e})=>new Map(e)}};const v2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0;var w2=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","DataView","BigInt64Array","BigUint64Array"].reduce((e,t)=>({...e,[t]:{replace:(n,r,i)=>({$t:t,v:i.ArrayBuffer.replace(n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength),r,i).v}),revive:({v:n},r,i)=>{const o=v2[t];return o&&new o(i.ArrayBuffer.revive({v:n},r,i))}}}),{});function xk(e){return function(t){for(var n="",r=0,i=t.length;r<i;r++)n+=Sk[t[r]];return n}(is(e))}function b2(e){return Zp(function(t){if(typeof t!="string")throw new Error("invalid decoder input: "+t);for(var n="",r=0,i=t.length;r<i;r++)n+=Th[t[r]];return n}(e))}const Th={"-":"=",0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I",9:"J",A:"K",B:"L",C:"M",D:"N",E:"O",F:"P",G:"Q",H:"R",I:"S",J:"T",K:"U",L:"V",M:"W",N:"X",O:"Y",P:"Z",Q:"a",R:"b",S:"c",T:"d",U:"e",V:"f",W:"g",X:"h",Y:"i",Z:"j",_:"k",a:"l",b:"m",c:"n",d:"o",e:"p",f:"q",g:"r",h:"s",i:"t",j:"u",k:"v",l:"w",m:"x",n:"y",o:"z",p:"0",q:"1",r:"2",s:"3",t:"4",u:"5",v:"6",w:"7",x:"8",y:"9",z:"+","|":"/"},Sk={};for(const e of Object.keys(Th))Sk[Th[e]]=e;var k2={ArrayBuffer:{replace:e=>({$t:"ArrayBuffer",v:xk(e)}),revive:({v:e})=>{const t=b2(e);return t.buffer.byteLength===t.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}}};class cf{constructor(t,n){this.buf=t,this.type=n}}function Ek(e){const t=new XMLHttpRequest;if(t.overrideMimeType("text/plain; charset=x-user-defined"),t.open("GET",URL.createObjectURL(e),!1),t.send(),t.status!==200&&t.status!==0)throw new Error("Bad Blob access: "+t.status);return t.responseText}function Ck(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t.buffer}var _2={Blob:{test:(e,t)=>t==="Blob"||e instanceof cf,replace:e=>({$t:"Blob",v:is(e instanceof cf?e.buf:Ck(Ek(e))),type:e.type}),revive:({type:e,v:t})=>{const n=Zp(t);return typeof Blob!==void 0?new Blob([n]):new cf(n.buffer,e)}}};const Ik={...h2,...p2,...m2,...y2,...g2,...w2,...k2,..._2};function Vg(e){return new Promise((t,n)=>{const r=new FileReader;r.onabort=i=>n(new Error("file read aborted")),r.onerror=i=>n(i.target.error),r.onload=i=>t(i.target.result),r.readAsArrayBuffer(e)})}var x2={undefined:{replace:()=>({$t:"undefined"}),revive:()=>{}}},S2={File:{test:(e,t)=>t==="File",replace:e=>({$t:"File",v:is(Ck(Ek(e))),type:e.type,name:e.name,lastModified:new Date(e.lastModified).toISOString()}),revive:({type:e,v:t,name:n,lastModified:r})=>{const i=Zp(t);return new File([i],n,{type:e,lastModified:new Date(r).getTime()})}}};const E2=typeof BigInt=="function"&&typeof BigInt(0)=="bigint";class Wg{toString(){return this.v}constructor(t){this.v=t}}const C2=E2?{}:{bigint:{test:e=>e instanceof Wg,replace:e=>Object.assign({$t:"bigint"},e),revive:({v:e})=>new Wg(e)}},Ok=Object.assign(Object.assign(Object.assign(Object.assign({},x2),C2),S2),{PropModification:{test:e=>e instanceof Zy,replace:e=>Object.assign({$t:"PropModification"},e["@@propmod"]),revive:e=>{var t=function(n,r){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(o=Object.getOwnPropertySymbols(n);s<o.length;s++)r.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(i[o[s]]=n[o[s]])}return i}(e,["$t"]);return new Zy(t)}}}),Ol=_k(Ik,Ok),I2=function(...e){const t=_k(Ik,f2,...e);return{toBinary(n){const[r,i]=this.stringify(n),o=new ArrayBuffer(4);return new DataView(o).setUint32(0,r.size),new Blob([o,r,i])},stringify(n){const r=[],i=t.stringify(n,r);return[new Blob(r.map(s=>{const a=new ArrayBuffer(4);return new DataView(a).setUint32(0,"byteLength"in s?s.byteLength:s.size),new Blob([a,s])})),i]},async parse(n,r){let i=0;const o=[],s=await Vg(r),a=new DataView(s);for(;i<s.byteLength;){const c=a.getUint32(i);i+=4;const d=s.slice(i,i+c);i+=c,o.push(d)}return t.parse(n,o)},async fromBinary(n){const r=new DataView(await Vg(n.slice(0,4))).getUint32(0),i=n.slice(4,r+4),o=await function(s){return new Promise((a,c)=>{const d=new FileReader;d.onabort=f=>c(new Error("file read aborted")),d.onerror=f=>c(f.target.error),d.onload=f=>a(f.target.result),d.readAsText(s)})}(n.slice(r+4));return await this.parse(o,i)}}}(Ok);function O2(e,t,n){const r=[];for(let i of n){const{table:o,muts:s}=i,a=e.tables.find(f=>f.name===o);if(!a)throw new Error(`Internal error: table ${o} not found in DBCore schema`);const{primaryKey:c}=a;let d=i;s.forEach((f,p)=>{const m=!c.outbound&&(f.type==="upsert"||f.type==="insert");f.keys.forEach((v,b)=>{if(Array.isArray(v)){d===i&&(d=Hg(i,m));const x=d.muts[p],P=JSON.stringify(v);x.keys[b]=P}else if(v[0]==="#"){d===i&&(d=Hg(i,m));const x=d.muts[p];if(!t.isLoggedIn)throw new Error("Internal error: Cannot sync private IDs before authenticated");const P=`${v}:${t.userId}`;x.keys[b]=P,m&&Re.setByKeyPath(x.values[b],c.keyPath,P)}})}),r.push(d)}return r}function Hg(e,t){return Object.assign(Object.assign({},e),{muts:t?e.muts.map(n=>n.type!=="insert"&&n.type!=="upsert"||!n.values?Object.assign(Object.assign({},n),{keys:n.keys.slice()}):Object.assign(Object.assign({},n),{keys:n.keys.slice(),values:n.values.slice()})):e.muts.map(n=>Object.assign(Object.assign({},n),{keys:n.keys.slice()}))})}let Nh=new WeakMap;function jk(e){return he(this,void 0,void 0,function*(){var t,n;const r=((n=(t=Nh.get(e))===null||t===void 0?void 0:t.getTime())!==null&&n!==void 0?n:0)-Date.now();r>0&&(yield new Promise(i=>setTimeout(i,r)))})}function j2(e,t,n,r,i,o,s,a,c){return he(this,void 0,void 0,function*(){const d={Accept:"application/json, application/x-bison, application/x-bison-stream","Content-Type":"application/tson"},f=yield Dc(i),p=f==null?void 0:f.accessToken;p&&(d.Authorization=`Bearer ${p}`);const m={v:2,dbID:n==null?void 0:n.remoteDbId,clientIdentity:a,schema:s||{},lastPull:n?{serverRevision:n.serverRevision,yServerRevision:n.yServerRevision,realms:n.realms,inviteRealms:n.inviteRealms}:void 0,baseRevs:r,changes:O2(i.dx.core.schema,c,e),y:t,dxcv:i.cloud.version};i.syncStateChangedEvent.next({phase:"pushing"});const v=Ol.stringify(m),b=yield fetch(`${o}/sync`,{method:"post",headers:d,credentials:"include",body:v});if(i.syncStateChangedEvent.next({phase:"pulling"}),function(x,P){const E=P.headers.get("Ratelimit-Limit"),k=P.headers.get("Ratelimit-Remaining"),_=P.headers.get("Ratelimit-Reset");if(E&&k&&_){const M=Number(E),K=Math.max(0,Number(k)),B=Number(_);if(K<M/2){const H=Math.ceil(B/(K+1));Nh.set(x,new Date(Date.now()+1e3*H))}else Nh.delete(x)}}(i,b),!b.ok)throw new Ch(b);if(b.headers.get("content-type")==="application/x-bison")return I2.fromBinary(yield b.blob());{const x=yield b.text();return Ol.parse(x)}})}function Ns(e){if(e!=null&&e.cancelled)throw new Re.AbortError("Operation was cancelled")}let To=!1;function Tk(e,t,n,r){return he(this,void 0,void 0,function*(){yield e.$baseRevs.bulkPut(Object.keys(t).filter(i=>t[i].markedForSync).map(i=>({tableName:i,clientRev:(n[i]||0)+1,serverRev:r}))),yield e.$baseRevs.where("tableName").noneOf(Object.keys(t).filter(i=>t[i].markedForSync)).delete()})}function Ph(e,t={}){for(const{table:n,muts:r}of e){const i=r.length>0?r[r.length-1].rev:null;t[n]=i||t[n]||0}return t}function T2(e,t,n){return he(this,void 0,void 0,function*(){const r=yield e.bulkGet(t),i=[],o=[];t.forEach((s,a)=>{const c=r[a];if(c){for(const[d,f]of Object.entries(n[a]))if(d===e.schema.primKey.keyPath){if(xc(f,s)!==0)throw new Error("Cannot change primary key")}else Re.setByKeyPath(c,d,f);i.push(s),o.push(c)}}),yield e.schema.primKey.keyPath==null?e.bulkPut(o,i):e.bulkPut(o)})}function Nk(e,t){return he(this,void 0,void 0,function*(){for(const{table:n,muts:r}of e){if(!t.dx._allTables[n])continue;const i=t.table(n),{primaryKey:o}=i.core.schema,s=a=>{switch(a[0]){case"[":if(a.endsWith("]"))try{return JSON.parse(a)}catch{}return a;case"#":return a.endsWith(":"+t.cloud.currentUserId)?a.substr(0,a.length-t.cloud.currentUserId.length-1):a;default:return a}};for(const a of r){const c=a.keys.map(s);switch(a.type){case"insert":o.outbound?yield i.bulkAdd(a.values,c):(c.forEach((d,f)=>{Re.setByKeyPath(a.values[f],o.keyPath,d)}),yield i.bulkAdd(a.values));break;case"upsert":o.outbound?yield i.bulkPut(a.values,c):(c.forEach((d,f)=>{Re.setByKeyPath(a.values[f],o.keyPath,d)}),yield i.bulkPut(a.values));break;case"modify":c.length===1?yield i.update(c[0],a.changeSpec):yield i.where(":id").anyOf(c).modify(a.changeSpec);break;case"update":yield T2(i,c,a.changeSpecs);break;case"delete":yield i.bulkDelete(c)}}}})}typeof self<"u"&&typeof navigator<"u"&&(To=navigator.onLine,self.addEventListener("online",()=>To=!0),self.addEventListener("offline",()=>To=!1));const ii="dexie-cloud-syncer";function Pk(e,t){return e.where("i").between(t,1/0,!0).toArray()}function Xs(e,t,n){var r,i,o;if(!e.dx._allTables[t])return;const s=(o=(i=(r=e.table(t))===null||r===void 0?void 0:r.schema.yProps)===null||i===void 0?void 0:i.find(a=>a.prop===n))===null||o===void 0?void 0:o.updatesTable;return s&&e.dx._allTables[s]?e.table(s):void 0}function Dk(e,t){return he(this,void 0,void 0,function*(){var n;const r={};let i,o=!1;for(const s of e)try{switch(s.type){case"u-s":{const a=Xs(t,s.table,s.prop);if(a){const c={k:s.k,u:s.u};s.r&&(c.r=s.r,i=s.r),r[a.name]=yield a.add(c)}break}case"u-ack":{const a=Xs(t,s.table,s.prop);a&&(yield t.transaction("rw",a,c=>he(this,void 0,void 0,function*(){let d=yield c.table(a.name).get(ii);yield c.table(a.name).put(Object.assign(Object.assign({},d||{i:ii}),{unsentFrom:Math.max((d==null?void 0:d.unsentFrom)||1,s.i+1)}))})));break}case"u-reject":{const a=Xs(t,s.table,s.prop);if(!a)break;const c=(n=yield a.get(s.i))===null||n===void 0?void 0:n.k;if(c!=null){yield t.transaction("rw",a,f=>(f.idbtrans._rejecting_y_ypdate=!0,a.where("i").aboveOrEqual(s.i).filter(p=>xc(p.k,c)===0&&(1&(p.f||0))==1).delete()));const d=Vt.getDocCache(t.dx).find(s.table,c,s.prop);d&&d.destroy()}break}case"in-sync":{const a=Vt.getDocCache(t.dx).find(s.table,s.k,s.prop);a&&!a.isSynced&&a.emit("sync",[!0,a]);break}case"y-complete-sync-done":i=s.yServerRev;break;case"outdated-server-rev":o=!0}}catch{}return{receivedUntils:r,resyncNeeded:o,yServerRevision:i}})}const N2=1,P2=2,D2=3;function A2(e,t,n){return he(this,arguments,void 0,function*(r,i,{yDownloadedRealms:o,realms:s}){if(o&&s&&s.every(f=>o[f]==="*"))return;const a=yield Dc(r),c={"Content-Type":"application/json",Accept:"application/octet-stream"};a&&(c.Authorization=`Bearer ${a.accessToken}`);const d=yield fetch(`${i}/y/download`,{body:Ol.stringify({downloadedRealms:o||{}}),method:"POST",headers:c,credentials:"include"});if(!d.ok)throw new Error(`Failed to download Yjs documents from server. Status: ${d.status}`);yield async function(f,...p){var m,v,b;let x=f();for(let _=0;_<p.length;_++)x=p[_](x);try{for(var P,E=!0,k=_h(x);!(m=(P=await k.next()).done);E=!0)P.value,E=!1}catch(_){v={error:_}}finally{try{E||m||!(b=k.return)||await b.call(k)}finally{if(v)throw v.error}}}(function(f){return function(){return kh(this,arguments,function*(){if(!f.body)throw new Error("Response body is not readable");const p=f.body.getReader();try{for(;;){const{done:m,value:v}=yield Dt(p.read());if(m)return yield Dt(void 0);yield yield Dt(v)}}finally{p.releaseLock()}})}}(d),s2,function(f){return kh(this,arguments,function*(){var p,m,v,b;let x=null,P=null,E=null,k=[];function _(H){return he(this,void 0,void 0,function*(){const W=k[k.length-1];if(k.length>0){if(!x||!P||!E)throw new Error(`Protocol error from ${i}/y/download`);const ie=Xs(r,P,E);ie&&(yield ie.bulkAdd(k)),k=[]}x&&(P&&E&&W||H)&&(yield r.$syncState.update("syncState",ie=>{const de=ie.yDownloadedRealms||{};de[x]=H?"*":{tbl:P,prop:E,key:W.k},ie.yDownloadedRealms=de}))})}try{try{for(var M,K=!0,B=_h(f);!(p=(M=yield Dt(B.next())).done);K=!0){b=M.value,K=!1;const H=new Zo(b);for(;qw(H);)switch(Uo(H)){case N2:yield Dt(_(!0)),x=Cn(H);break;case P2:yield Dt(_(!1)),P=Cn(H),E=Cn(H);break;case D2:{const W=ni(H),ie=Pt(H);k.push({k:W,u:ie});break}}yield Dt(_(!1))}}catch(H){m={error:H}}finally{try{K||p||!(v=B.return)||(yield Dt(v.call(B)))}finally{if(m)throw m.error}}yield Dt(_(!0))}catch(H){throw H instanceof Re.DexieError||(yield Dt(_(!1))),H}})})})}const Ak="currentSyncWorker";function Rc(e,t,n,r){return Rk(e,t,n,r).then(i=>(r!=null&&r.justCheckIfNeeded||e.syncStateChangedEvent.next({phase:"in-sync"}),i)).catch(i=>he(this,void 0,void 0,function*(){return r!=null&&r.justCheckIfNeeded?Promise.reject(i):To&&(r!=null&&r.retryImmediatelyOnFetchError)&&(i==null?void 0:i.name)==="TypeError"&&/fetch/.test(i==null?void 0:i.message)?(e.syncStateChangedEvent.next({phase:"error",error:i}),yield new Promise(o=>setTimeout(o,500)),yield Rc(e,t,n,Object.assign(Object.assign({},r),{retryImmediatelyOnFetchError:!1}))):(yield e.$syncState.update("syncState",{timestamp:new Date,error:""+i}),e.syncStateChangedEvent.next({phase:To?"error":"offline",error:new Error(""+(i==null?void 0:i.message)||i)}),Promise.reject(i))}))}function Rk(e,t,n){return he(this,arguments,void 0,function*(r,i,o,{isInitialSync:s,cancelToken:a,justCheckIfNeeded:c,purpose:d}={isInitialSync:!1}){var f;if(!(!((f=r.cloud.options)===null||f===void 0)&&f.databaseUrl))throw new Error("Internal error: sync must not be called when no databaseUrl is configured");const{databaseUrl:p}=i,m=yield r.getCurrentUser(),v=m.isLoggedIn?mu(r):[],b=v.map(Z=>r.table(tm(Z.name))),x=yield r.getPersistedSyncState(),P=m.isLoggedIn,E=P?function(Z,ce){const R=(ce==null?void 0:ce.syncedTables)||[];return mu(Z).filter(J=>!R.includes(J.name))}(r,x):[];Ns(a);const k=E.length>0;if(k){if(c)return!0;yield r.transaction("rw",E,Z=>he(this,void 0,void 0,function*(){Z.idbtrans.disableChangeTracking=!0,Z.idbtrans.disableAccessControl=!0,yield function(ce,R,J){return he(this,void 0,void 0,function*(){const ue=new Set(J||[]);for(const oe of ce)oe.name==="members"?yield oe.toCollection().modify(se=>{ue.has(se.realmId)||se.userId&&se.userId!==en.userId||(se.userId=R.userId)}):oe.name==="roles"||(oe.name==="realms"?yield oe.toCollection().modify(se=>{ue.has(se.realmId)||se.owner!==void 0&&se.owner!==en.userId||(se.owner=R.userId)}):yield oe.toCollection().modify(se=>{se.realmId&&ue.has(se.realmId)||(se.owner&&se.owner!==en.userId||(se.owner=R.userId),se.realmId&&se.realmId!==en.userId||(se.realmId=R.userId))}))})}(E,m,x==null?void 0:x.realms)})),Ns(a)}const[_,M,K,{yMessages:B,lastUpdateIds:H}]=yield r.transaction("r",r.tables,()=>he(this,void 0,void 0,function*(){const Z=yield r.getPersistedSyncState();let ce=yield r.$baseRevs.toArray();ce=ce.filter(ue=>v.some(oe=>oe.name===ue.tableName));let R=yield jh(b,r);const J=yield function(ue,oe){return he(this,void 0,void 0,function*(){const se=[],we={};for(const je of oe)if(je.schema.yProps)for(const Je of je.schema.yProps){const ze=ue.table(Je.updatesTable),Te=yield ze.get(ii),ut=(Te==null?void 0:Te.unsentFrom)||1,le=(Te==null?void 0:Te.receivedUntil)||0,Ve=Math.min(ut,le+1),rt=yield Pk(ze,Ve);rt.length>0&&(we[ze.name]=rt[rt.length-1].i);const be={};for(const Me of rt){const Be=(1&(Me.f||0))==1;if(Be&&Me.i<ut)continue;const Ge=JSON.stringify(Me.k)+"/"+Be;let sn=be[Ge];sn?(sn.u.push(Me.u),sn.i=Math.max(Me.i,sn.i)):(be[Ge]=sn={i:Me.i,k:Me.k,isLocal:Be,u:[]},sn.u.push(Me.u))}for(const{k:Me,isLocal:Be,u:Ge,i:sn}of Object.values(be)){const hi=Ge.length===1?Ge[0]:qu(Ge);if(Be)se.push({type:"u-c",table:je.name,prop:Je.prop,k:Me,u:hi,i:sn});else{const Fn=Vb(hi);se.push({type:"sv",table:je.name,prop:Je.prop,k:Me,sv:Fn})}}}return{yMessages:se,lastUpdateIds:we}})}(r,v);if(Ns(a),k){const ue=[...(x==null?void 0:x.realms)||[],...(x==null?void 0:x.inviteRealms)||[]],oe=yield function(se,we,je,Je){return he(this,void 0,void 0,function*(){const ze=`upload-${kk(8)}`;if(we.isLoggedIn&&se.length>0){const Te=new Set(Je||[]);return(yield Promise.all(se.map(ut=>he(this,void 0,void 0,function*(){const{extractKey:le}=ut.core.schema.primaryKey;if(!le)return{table:ut.name,muts:[]};const Ve=je[ut.name],rt=Ve!=null&&Ve.generatedGlobalId?ut.filter(Me=>{return le(Me),!Te.has(Me.realmId||"")&&(Be=le(Me),!(Ge=Ve==null?void 0:Ve.idPrefix)||typeof Be=="string"&&Be.startsWith(Ge));var Be,Ge}):ut.filter(Me=>{const Be=le(Me);return!Te.has(Me.realmId||"")&&Xp(Be)}),be=yield rt.toArray();if(be.length>0){const Me={type:"upsert",values:be,keys:be.map(le),userId:we.userId,txid:ze};return{table:ut.name,muts:[Me]}}return{table:ut.name,muts:[]}})))).filter(ut=>ut.muts.length>0)}return[]})}(E,m,o,ue);return Ns(a),R=R.concat(oe),[R,Z,ce,J]}return[R,Z,ce,J]})),W=_.some(Z=>Z.muts.some(ce=>ce.keys.length>0))||B.some(Z=>Z.type==="u-c");if(c)return W;if(d==="push"&&!W)return!1;const ie=Ph(_,M==null?void 0:M.latestRevisions),de=(M==null?void 0:M.clientIdentity)||mk(16);Ns(a);const G=yield j2(_,B,M,K,r,p,o,de,m),{done:ve,newSyncState:xe}=yield r.transaction("rw",r.tables,Z=>he(this,void 0,void 0,function*(){Z.idbtrans.disableChangeTracking=!0,Z.idbtrans.disableAccessControl=!0;for(const oe of Object.keys(o))G.schema[oe]&&(o[oe]=G.schema[oe]);yield r.$syncState.put(o,"schema");const ce=yield jh(b,r,{since:ie});for(const oe of b){const se=bk(oe.name);if(ce.some(we=>we.table===se&&we.muts.length>0)){if(ie[se]){const we=ie[se]||0;yield Promise.all([oe.where("rev").belowOrEqual(we).delete(),r.$baseRevs.where(":id").between([se,-1/0],[se,we+1],!0,!0).reverse().offset(1).delete()])}}else yield Promise.all([oe.clear(),r.$baseRevs.where({tableName:se}).delete()])}Ph(ce,ie),yield Tk(r,o,ie,G.serverRevision);const R=yield r.getPersistedSyncState();yield function(oe,se,we){return he(this,void 0,void 0,function*(){const je=new Set,Je=new Set,ze=we?we.realms:[],Te=we?we.inviteRealms:[],ut=new Set(se.realms),le=new Set(se.realms.concat(se.inviteRealms));for(const Ve of ze)ut.has(Ve)||(Je.add(Ve),le.has(Ve)||je.add(Ve));for(const Ve of Te.concat(ze))le.has(Ve)||je.add(Ve);if(je.size>0||Je.size>0){const Ve=mu(oe);for(const rt of Ve){let be=["realms","members","roles"].includes(rt.name)?je:Je;be.size!==0&&(rt.schema.indexes.some(Me=>Me.keyPath==="realmId"||Array.isArray(Me.keyPath)&&Me.keyPath[0]==="realmId")?yield rt.where("realmId").anyOf([...be]).delete():yield rt.filter(Me=>!!(Me!=null&&Me.realmId)&&be.has(Me.realmId)).delete())}}if(Je.size>0&&(we!=null&&we.yDownloadedRealms))for(const Ve of Je)delete we.yDownloadedRealms[Ve]})}(r,G,R);const J=R||{syncedTables:[],latestRevisions:{},realms:[],inviteRealms:[],clientIdentity:de};P&&(J.syncedTables=v.map(oe=>oe.name).concat(E.map(oe=>oe.name))),J.latestRevisions=ie,J.remoteDbId=G.dbId,J.initiallySynced=!0,J.realms=G.realms,J.inviteRealms=G.inviteRealms,J.serverRevision=G.serverRevision,J.yServerRevision=G.serverRevision,J.timestamp=new Date,delete J.error;const ue=Lk(G.changes,ce);if(yield Nk(ue,r),G.yMessages){const{receivedUntils:oe,resyncNeeded:se,yServerRevision:we}=yield Dk(G.yMessages,r);we&&(J.yServerRevision=we),yield function(je,Je,ze){return he(this,void 0,void 0,function*(){var Te,ut,le,Ve,rt;const be={};for(const[Be,Ge]of Object.entries(je))(Te=be[Be])!==null&&Te!==void 0||(be[Be]={}),be[Be].unsentFrom=Ge+1;for(const[Be,Ge]of Object.entries(Je))(ut=be[Be])!==null&&ut!==void 0||(be[Be]={}),be[Be].receivedUntil=Ge;const Me=Object.values(ze.dx._dbSchema).filter(Be=>Be.yProps).map(Be=>Be.yProps.map(Ge=>Ge.updatesTable)).flat();for(const Be of Me){const Ge=be[Be],sn=(le=Ge==null?void 0:Ge.unsentFrom)!==null&&le!==void 0?le:1,hi=(rt=(Ve=Ge==null?void 0:Ge.receivedUntil)!==null&&Ve!==void 0?Ve:(yield ze.table(Be).where("i").between(1,1/0).reverse().limit(1).primaryKeys())[0])!==null&&rt!==void 0?rt:0;yield ze.transaction("rw",Be,()=>he(this,void 0,void 0,function*(){const Fn=yield ze.table(Be).get(ii);Fn?(Fn.unsentFrom=Math.max(sn,Fn.unsentFrom||1),Fn.receivedUntil=Math.max(hi,Fn.receivedUntil||0),yield ze.table(Be).put(Fn)):yield ze.table(Be).add({i:ii,unsentFrom:sn,receivedUntil:hi})}))}})}(H,oe,r),se&&(J.yDownloadedRealms={})}return r.$syncState.put(J,"syncState"),{done:ce.length===0,newSyncState:J}}));if(!ve)return yield jk(r),yield Rk(r,i,o,{isInitialSync:s,cancelToken:a});const Ee=Object.values(o).some(Z=>{var ce;return(ce=Z.yProps)===null||ce===void 0?void 0:ce.length}),ke=!!G.yMessages;if(Ee&&ke)try{yield A2(r,p,xe)}catch{}return r.syncCompleteEvent.next(),!1})}function Lk(e,t){const n={};zg(n,e);const r={};return zg(r,t),function(i,o){var s,a,c;for(const[d,f]of Object.entries(o))for(const[p,m]of Object.entries(f))switch(m.type){case"ups":{const v=(s=i[d])===null||s===void 0?void 0:s[p];if(v)switch(v.type){case"ups":case"upd":delete i[d][p]}}break;case"del":(a=i[d])===null||a===void 0||delete a[p];break;case"upd":{const v=(c=i[d])===null||c===void 0?void 0:c[p];if(v)switch(v.type){case"ups":for(const[b,x]of Object.entries(m.mod))ec(v.val,b,x);break;case"del":break;case"upd":for(const b of Object.keys(m.mod))delete v.mod[b]}break}}}(n,r),function(i,o=""){o||(o=mk(16));const s={};for(const[c,d]of Object.entries(i))for(const[f,p]of Object.entries(d)){const m=s[c]||(s[c]={});(m[p.type]||(m[p.type]=[])).push(Object.assign({key:f},p))}const a=[];for(const[c,d]of Object.entries(s)){const f={table:c,muts:[]};for(const[p,m]of Object.entries(d))switch(p){case"ups":{const v={type:"upsert",keys:m.map(b=>b.key),values:m.map(b=>b.val),txid:o};f.muts.push(v);break}case"upd":{const v={type:"update",keys:m.map(b=>b.key),changeSpecs:m.map(b=>b.mod),txid:o};f.muts.push(v);break}case"del":{const v={type:"delete",keys:m.map(b=>b.key),txid:o};f.muts.push(v);break}}a.push(f)}return a}(n)}const R2=10,L2=1e4,M2=1e3;function U2(e){const t=[],n=new Mn(!0),r=new Mn(null);let i=!1,o=new Array(R2).fill(0);return r.subscribe(()=>he(this,void 0,void 0,function*(){if(!i&&t.length>0){i=!0,o.shift(),o.push(Date.now()),n.next(!1);try{yield function(){return he(this,void 0,void 0,function*(){for(var s,a,c,d,f,p;t.length>0;){const m=t.shift();try{yield Ti(e.cloud.syncState.pipe(_n(({phase:b})=>b==="in-sync"||b==="error")));const v=e.cloud.persistedSyncState.value;if(!m)continue;switch(m.type){case"token-expired":const b=e.cloud.currentUser.value,x=yield Ac(e.cloud.options.databaseUrl,b);yield e.table("$logins").update(b.userId,{accessToken:x.accessToken,accessTokenExpiration:x.accessTokenExpiration,claims:x.claims,license:x.license,data:x.data});break;case"realm-added":!((s=v==null?void 0:v.realms)===null||s===void 0)&&s.includes(m.realm)||!((a=v==null?void 0:v.inviteRealms)===null||a===void 0)&&a.includes(m.realm)||(yield e.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-accepted":!((c=v==null?void 0:v.realms)===null||c===void 0)&&c.includes(m.realm)||(yield e.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-removed":(!((d=v==null?void 0:v.realms)===null||d===void 0)&&d.includes(m.realm)||!((f=v==null?void 0:v.inviteRealms)===null||f===void 0)&&f.includes(m.realm))&&(yield e.cloud.sync({purpose:"pull",wait:!0}));break;case"realms-changed":yield e.cloud.sync({purpose:"pull",wait:!0});break;case"changes":if(((p=e.cloud.syncState.value)===null||p===void 0?void 0:p.phase)==="error"){pr(e,"pull");break}yield e.transaction("rw",e.dx.tables,P=>he(this,void 0,void 0,function*(){P.idbtrans.disableChangeTracking=!0,P.idbtrans.disableAccessControl=!0;const[E,k,_]=yield Promise.all([e.getSchema(),e.getPersistedSyncState(),e.getCurrentUser()]);if(!k||!E||!_)return;if(m.baseRev!==k.serverRevision)return void(typeof m.baseRev!="string"||typeof k.serverRevision!="bigint"&&typeof k.serverRevision!="object"||pr(e,"pull"));if((yield Re.waitFor(Oh(k)))!==m.realmSetHash)return void pr(e,"pull");let M=[];if(_.isLoggedIn){const K=mu(e).map(B=>e.table(tm(B.name)));M=yield jh(K,e)}if(m.changes.length>0){const K=Lk(m.changes,M);yield Nk(K,e)}k.latestRevisions=Ph(M,k.latestRevisions),k.serverRevision=m.newRev,yield Tk(e,E,k.latestRevisions,m.newRev),yield e.$syncState.put(k,"syncState")}))}}catch{}}})}()}finally{o[o.length-1]-o[0]<L2&&(yield new Promise(s=>setTimeout(s,M2))),i=!1,n.next(!0)}}})),{enqueue:function(s){t.push(s),r.next(null)},readyToServe:n}}const qg=new WeakMap,qa={members:"@id, [userId+realmId], [email+realmId], realmId",roles:"[realmId+name]",realms:"@realmId",$jobs:"",$syncState:"",$baseRevs:"[tableName+clientRev]",$logins:"claims.sub, lastLogin"};let z2=0;function lr(e){"vip"in e&&(e=e.vip);let t=qg.get(e.cloud);if(!t){const n=new Fi;let r=new Ha(`syncstatechanged-${e.name}`),i=new Ha(`synccomplete-${e.name}`);n.id=++z2;let o=!1;t={get name(){return e.name},close:()=>e.close(),transaction:e.transaction.bind(e),table:e.table.bind(e),get tables(){return e.tables},cloud:e.cloud,get $jobs(){return e.table("$jobs")},get $syncState(){return e.table("$syncState")},get $baseRevs(){return e.table("$baseRevs")},get $logins(){return e.table("$logins")},get realms(){return e.realms},get members(){return e.members},get roles(){return e.roles},get initiallySynced(){return o},localSyncEvent:n,get syncStateChangedEvent(){return r},get syncCompleteEvent(){return i},dx:e},Object.assign(t,{getCurrentUser:()=>t.$logins.toArray().then(a=>a.find(c=>c.isLoggedIn)||en),getPersistedSyncState:()=>t.$syncState.get("syncState"),getSchema:()=>t.$syncState.get("schema").then(a=>{if(a)for(const d of t.tables)d.schema.primKey&&d.schema.primKey.keyPath&&a[d.name]&&(a[d.name].primaryKey=typeof(c=d.schema.primKey.keyPath)=="string"?c:c?"["+[].join.call(c,"+")+"]":"");var c;return a}),getOptions:()=>t.$syncState.get("options"),setInitiallySynced(a){o=a},reconfigure(){r=new Ha(`syncstatechanged-${e.name}`),i=new Ha(`synccomplete-${e.name}`)}}),t.messageConsumer=U2(t),t.messageProducer=new Fi,qg.set(e.cloud,t)}return t}const $2=typeof InstallTrigger<"u",Mk=typeof navigator<"u"&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\/|Edge\//.test(navigator.userAgent),F2=Mk?[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]:NaN,B2=Mk&&F2<=605||$2,K2=typeof self<"u"&&"clients"in self&&!self.document,{toString:V2}={};function Gg(e){return V2.call(e).slice(8,-1)}function df(e,t){var n;return t.type==="delete"?t.keys:((n=t.keys)===null||n===void 0?void 0:n.slice())||t.values.map(e.extractKey)}const W2=/b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|x|y|z/i;let ar=0;function Uk(e,t){const n=new Uint8Array(18),r=new Uint8Array(n.buffer,0,6),i=Date.now();ar>=i?++ar:ar=i,r[0]=ar/1099511627776,r[1]=ar/4294967296,r[2]=ar/16777216,r[3]=ar/65536,r[4]=ar/256,r[5]=ar;const o=new Uint8Array(n.buffer,6);return crypto.getRandomValues(o),e+xk(new Uint8Array(n.buffer))+(t||"")}function H2(e){return{stack:"dbcore",name:"idGenerationMiddleware",level:1,create:t=>Object.assign(Object.assign({},t),{table:n=>{const r=t.table(n);return Object.assign(Object.assign({},r),{mutate:i=>{var o,s;const a=i.trans;if(a.mode==="versionchange"&&(a.disableChangeTracking=!0,a.disableAccessControl=!0),a.disableChangeTracking)return r.mutate(i);if(i.type==="add"||i.type==="put"){const c=(o=e.cloud.schema)===null||o===void 0?void 0:o[n];if(c!=null&&c.generatedGlobalId){if(!((s=e.cloud.options)===null||s===void 0)&&s.databaseUrl&&!e.initiallySynced){const d=df(r.schema.primaryKey,i);return r.getMany({keys:d,trans:i.trans,cache:"immutable"}).then(f=>{if(f.length<d.length)throw new Error("Unable to create new objects without an initial sync having been performed.");return r.mutate(i)})}return function(d,f){let p=null;const m=df(r.schema.primaryKey,d);return m.forEach((v,b)=>{if(v===void 0){const x=d.values[b].realmId||e.cloud.currentUserId,P=x.substr(x.length-3);m[b]=Uk(f,P),r.schema.primaryKey.outbound||(p||(p=d.values.slice()),p[b]=Re.deepClone(p[b]),Re.setByKeyPath(p[b],r.schema.primaryKey.keyPath,m[b]))}else if(typeof v!="string"||!v.startsWith(f)&&!v.startsWith("#"+f))throw new Re.ConstraintError(`The ID "${v}" is not valid for table "${n}". Primary '@' keys requires the key to be prefixed with "${f}" (or "#${f}).
If you want to generate IDs programmatically, remove '@' from the schema to get rid of this constraint. Dexie Cloud supports custom IDs as long as they are random and globally unique.`)}),r.mutate(Object.assign(Object.assign({},d),{keys:m,values:p||d.values}))}(i,c.idPrefix)}c!=null&&c.markedForSync&&df(r.schema.primaryKey,i).forEach((d,f)=>{if(!Xp(d)){const p=Array.isArray(d)?d.map(Gg).join(","):Gg(d);throw new Re.ConstraintError(`Invalid primary key type ${p} for table ${n}. Tables marked for sync has primary keys of type string or Array of string (and optional numbers)`)}})}return r.mutate(i)}})}})}}let q2=0;function Ps(e,t){return function(n){const{readers:r,writers:i}=n.trans[t]||(n.trans[t]={writers:[],readers:[]}),o=i.length,s=(o>0?i[o-1].then(()=>e(n),()=>e(n)):e(n)).finally(()=>{r.splice(r.indexOf(s))});return r.push(s),s}}function G2(e,t){return function(n){const{readers:r,writers:i}=n.trans[t]||(n.trans[t]={writers:[],readers:[]});let o=(i.length>0?i[i.length-1].then(()=>e(n),()=>e(n)):r.length>0?(s=r,new Promise(a=>{s.length===0&&a([]);let c=s.length;const d=new Array(c);s.forEach((f,p)=>Promise.resolve(f).then(m=>d[p]={status:"fulfilled",value:m},m=>d[p]={status:"rejected",reason:m}).then(()=>--c||a(d)))})).then(()=>e(n)):e(n)).finally(()=>{i.shift()});var s;return i.push(o),o}}const no=new Mn(new Set);function jl(e){var t,n,r,i;return((t=e.cloud.options)===null||t===void 0?void 0:t.disableEagerSync)||((r=(n=e.cloud.currentUser.value)===null||n===void 0?void 0:n.license)===null||r===void 0?void 0:r.status)!=="ok"||!(!((i=e.cloud.options)===null||i===void 0)&&i.databaseUrl)}function Y2({currentUserObservable:e,db:t}){return{stack:"dbcore",name:"MutationTrackingMiddleware",level:1,create:n=>{const r=new Set(n.schema.tables.map(s=>s.name)),i=n.schema.tables.filter(s=>!/^\$/.test(s.name)),o=new Map;for(const s of i){const a=`$${s.name}_mutations`;r.has(a)&&o.set(s.name,n.table(a))}return Object.assign(Object.assign({},n),{transaction:(s,a)=>{let c;if(a==="readwrite"){const d=s.filter(f=>{var p,m;return(m=(p=t.cloud.schema)===null||p===void 0?void 0:p[f])===null||m===void 0?void 0:m.markedForSync}).map(f=>tm(f));c=n.transaction([...s,...d],a)}else c=n.transaction(s,a);if(a==="readwrite"){c.txid=kk(16),c.opCount=0,c.currentUser=e.value,no.value.add(c),no.next(no.value);const d=()=>{c.removeEventListener("complete",f),c.removeEventListener("error",d),c.removeEventListener("abort",d),no.value.delete(c),no.next(no.value)},f=()=>{c.mutationsAdded&&!jl(t)&&pr(t,"push"),d()};c.addEventListener("complete",f),c.addEventListener("error",d),c.addEventListener("abort",d)}return c},table:s=>{const a=n.table(s);if(/^\$/.test(s))return s.endsWith("_mutations")?Object.assign(Object.assign({},a),{mutate:p=>(p.type!=="add"&&p.type!=="put"||(p.trans.mutationsAdded=!0),a.mutate(p))}):s==="$logins"?Object.assign(Object.assign({},a),{mutate:p=>a.mutate(p).then(m=>(p.trans.mutationsAdded=!0,m)).catch(m=>Promise.reject(m))}):a;const{schema:c}=a,d=o.get(s);return d?function(p){const m="$lock"+ ++q2;return Object.assign(Object.assign({},p),{count:Ps(p.count,m),get:Ps(p.get,m),getMany:Ps(p.getMany,m),openCursor:Ps(p.openCursor,m),query:Ps(p.query,m),mutate:G2(p.mutate,m)})}(Object.assign(Object.assign({},a),{mutate:p=>{var m,v,b;const x=p.trans;return x.txid?x.disableChangeTracking?a.mutate(p):!((v=(m=t.cloud.schema)===null||m===void 0?void 0:m[s])===null||v===void 0)&&v.markedForSync&&(!((b=x.currentUser)===null||b===void 0)&&b.isLoggedIn)?p.type==="deleteRange"?a.query({query:{range:p.range,index:c.primaryKey},trans:p.trans,values:!1}).then(P=>f({type:"delete",keys:P.result,trans:p.trans,criteria:{index:null,range:p.range}})):f(p):a.mutate(p):a.mutate(p)}})):a;function f(p){var m,v;const b=p.trans,x=(v=(m=t.cloud.options)===null||m===void 0?void 0:m.unsyncedProperties)===null||v===void 0?void 0:v[s],{txid:P,currentUser:{userId:E}}=b,{type:k}=p,_=++b.opCount;function M(K){if(!x)return K;let B=K;for(const H of Object.keys(K))x.some(W=>H===W||H.startsWith(W+"."))&&(B===K&&(B=Object.assign({},K)),delete B[H]);return B}return a.mutate(p).then(K=>{var B;const{numFailures:H,failures:W}=K;let ie=k==="delete"?p.keys:K.results,de="values"in p?p.values:[],G="changeSpec"in p?p.changeSpec:void 0,ve="updates"in p?p.updates:void 0,xe=!(!ve||!("upsert"in p))&&p.upsert;if(H&&(ie=ie.filter((ce,R)=>!W[R]),de=de.filter((ce,R)=>!W[R])),x){if(de=de.map(ce=>{const R=Object.assign({},ce);for(const J of x)delete R[J];return R}),G&&(G=M(G),Object.keys(G).length===0))return K;if(ve){let ce=ve.changeSpecs.map(M),R={keys:[],changeSpecs:[]};const J=new xS;let ue=!1;if(!xe){for(let oe=0,se=ce.length;oe<se;++oe)Object.keys(ce[oe]).length>0?(R.keys.push(ve.keys[oe]),R.changeSpecs.push(ce[oe]),J.addKey(ve.keys[oe])):ue=!0;if(ve=R,ue){let oe=[],se=[];for(let we=0,je=ie.length;we<je;++we)J.hasKey(ie[we])&&(oe.push(ie[we]),se.push(de[we]));ie=oe,de=se}}}}const Ee=Date.now();let ke="criteria"in p&&p.criteria?Object.assign(Object.assign({},p.criteria),{index:p.criteria.index===c.primaryKey.keyPath?null:p.criteria.index}):void 0;if(x&&(ke!=null&&ke.index)){const ce=(B=c.indexes.find(R=>R.name===ke.index))===null||B===void 0?void 0:B.keyPath;(ce?typeof ce=="string"?[ce]:ce:[]).some(R=>x==null?void 0:x.includes(R))&&(ke=void 0)}const Z=p.type==="delete"?{type:"delete",ts:Ee,opNo:_,keys:ie,criteria:ke,txid:P,userId:E}:p.type==="add"?{type:"insert",ts:Ee,opNo:_,keys:ie,txid:P,userId:E,values:de}:xe?{type:"upsert",ts:Ee,opNo:_,keys:ie,values:de,changeSpecs:ve.changeSpecs.filter((ce,R)=>!W[R]),txid:P,userId:E}:ke&&G?{type:"modify",ts:Ee,opNo:_,keys:ie,criteria:ke,changeSpec:G,txid:P,userId:E}:G?{type:"update",ts:Ee,opNo:_,keys:ie,changeSpecs:ie.map(()=>G),txid:P,userId:E}:ve?{type:"update",ts:Ee,opNo:_,keys:ve.keys,changeSpecs:ve.changeSpecs,txid:P,userId:E}:{type:"upsert",ts:Ee,opNo:_,keys:ie,values:de,txid:P,userId:E};return"isAdditionalChunk"in p&&p.isAdditionalChunk&&(Z.isAdditionalChunk=!0),ie.length>0||ke?d.mutate({type:"add",trans:b,values:[Z]}).then(()=>(b.mutationsAdded=!0,K)):K})}}})}}}function Q2(e,t){return function(n,r){var i;const o=Object.assign(Object.assign({},qa),n);Object.keys(qa).forEach(d=>{const f=o[d];if(f==null)throw new Error(`Cannot delete table ${d} as it is needed for access control of Dexie Cloud`);if(!n[d])return;const p=f.split(",").map(b=>b.trim()),m=qa[d].split(",").map(b=>b.trim()),v=new Set(p.map(b=>b.replace(/([&*]|\+\+)/g,"")));if(p[0]!==m[0])throw new Error(`Cannot override primary key of table ${d}. Please declare it as {${d}: ${JSON.stringify(qa[d])}`);for(let b=1;b<m.length;++b){const x=m[b];v.has(x.replace(/([&*]|\+\+)/g,""))||(o[d]+=`,${x}`)}});const s=t.cloud.schema||(t.cloud.schema={}),a=new Set;Object.keys(o).forEach(d=>{const f=o[d],p=s[d]||(s[d]={});f!=null?(/^\@/.test(f)&&(o[d]=o[d].substr(1),p.generatedGlobalId=!0,p.idPrefix=function(m,v){let b=m[0].toLocaleLowerCase();for(let k=1,_=m.length;k<_&&b.length<3;++k)(W2.test(m[k])||(x=m[k])>="A"&&x<="Z")&&(b+=m[k].toLowerCase());for(var x,P,E;v.has(b);){if(/\d/g.test(b)){if(b=b.substr(0,b.length-1)+(b[b.length-1]+1),!(b.length>3))continue;b=b.substr(0,3)}else if(b.length<3){b+="2";continue}let k=1,_=b;for(;v.has(_)&&k<8;)P=b,_=(1&(E=k)?P[0].toUpperCase():P[0].toLowerCase())+(2&E?P[1].toUpperCase():P[1].toLowerCase())+(4&E?P[2].toUpperCase():P[2].toLowerCase()),++k;if(k<8)b=_;else{let M=b.charCodeAt(2)+1&127;b=b.substr(0,2)+String.fromCharCode(M)}}return b}(d,a),a.add(p.idPrefix)),/^\$/.test(d)||(o[`$${d}_mutations`]="++rev",p.markedForSync=!0),p.deleted&&(p.deleted=!1)):(p.deleted=!0,p.markedForSync=!1,o[`$${d}_mutations`]=null)});const c=e.call(this,o,r);for(const[d,f]of Object.entries(r))if(!((i=f.yProps)===null||i===void 0)&&i.length){const p=s[d];p&&(p.yProps=f.yProps.map(m=>m.prop))}return c}}function zk(e,t,n){return typeof navigator<"u"&&navigator.locks?navigator.locks.request(e.name+"|"+t,()=>n()):n()}const Zs=new Mn(!0),Dh=new Mn(!0);Zs.pipe(Bt(e=>e?gr(!0):gr(!1).pipe(mb(2e4))),yb()).subscribe(Dh);const $k=typeof document<"u"?Qn(document,"visibilitychange"):gr({}),J2=$k.pipe(_n(()=>document.visibilityState==="hidden")),X2=$k.pipe(_n(()=>document.visibilityState==="visible")),Fk=typeof window<"u"?Ic(X2,Qn(window,"mousedown"),Qn(window,"mousemove"),Qn(window,"keydown"),Qn(window,"wheel"),Qn(window,"touchmove")):gr({});typeof document<"u"&&Ic(gr(!0),J2,Fk).pipe(cn(()=>document.visibilityState==="visible"),ph(e=>{Zs.value!==e&&Zs.next(e)}),Bt(e=>e?gr(0).pipe(mb(16e4),ph(()=>Zs.next(!1))):gr(0))).subscribe(()=>{});class Z2 extends Error{constructor(){super(...arguments),this.name="TokenExpiredError"}}const Bk=new WeakMap,Yg=new WeakMap;function Kk(e){let t=Yg.get(e);return t||(t=new Fi,Yg.set(e,t)),t}class eO extends kt{constructor(t,n,r,i,o,s,a,c){super(d=>new nO(t,n,r,i,o,c,d,s,a))}}let tO=0;class nO extends es{constructor(t,n,r,i,o,s,a,c,d){super(()=>this.teardown()),this.id=++tO,this.subscriptions=new Set,this.reconnecting=!1,this.db=t,this.databaseUrl=t.cloud.options.databaseUrl,this.rev=n,this.yrev=r,this.realmSetHash=i,this.clientIdentity=o,this.user=s,this.subscriber=a,this.lastUserActivity=new Date,this.messageProducer=c,this.webSocketStatus=d,this.connect()}teardown(){this.disconnect()}disconnect(){if(this.webSocketStatus.next("disconnected"),this.pinger&&(clearInterval(this.pinger),this.pinger=null),this.ws)try{this.ws.close()}catch{}this.ws=null;for(const t of this.subscriptions)t.unsubscribe();this.subscriptions.clear()}reconnect(){if(!this.reconnecting){this.reconnecting=!0;try{this.disconnect()}catch{}this.connect().catch(()=>{}).then(()=>this.reconnecting=!1)}}connect(){return he(this,void 0,void 0,function*(){if(this.lastServerActivity=new Date,this.pauseUntil&&this.pauseUntil>new Date)return;if(this.ws)throw new Error("Called connect() when a connection is already open");if(!this.databaseUrl)throw new Error("Cannot connect without a database URL");if(this.closed)return;const t=this.user.accessTokenExpiration;if(t&&t<new Date)return void this.subscriber.error(new Z2);this.webSocketStatus.next("connecting"),this.pinger=setInterval(()=>he(this,void 0,void 0,function*(){if(this.closed)this.teardown();else if(this.ws)try{this.ws.send(JSON.stringify({type:"ping"})),setTimeout(()=>{this.pinger&&(this.closed?this.teardown():this.lastServerActivity<new Date(Date.now()-2e4)&&this.reconnect())},2e4)}catch{this.reconnect()}else this.reconnect()}),3e4);const n=new URL(this.databaseUrl);n.protocol=n.protocol==="http:"?"ws":"wss";const r=new URLSearchParams;if(this.subscriber.closed)return;r.set("v","2"),this.rev&&r.set("rev",this.rev),this.yrev&&r.set("yrev",this.yrev),r.set("realmsHash",this.realmSetHash),r.set("clientId",this.clientIdentity),r.set("dxcv",this.db.cloud.version),this.user.accessToken&&r.set("token",this.user.accessToken);const i=this.ws=new WebSocket(`${n}/changes?${r}`);i.binaryType="arraybuffer",i.onclose=o=>{this.pinger&&this.reconnect()},i.onmessage=o=>{if(this.pinger){this.lastServerActivity=new Date;try{const s=typeof o.data=="string"?Ol.parse(o.data):function(a){const c=new Zo(a),d=Cn(c);if(d==="outdated-server-rev")return{type:d};if(d==="y-complete-sync-done")return{type:d,yServerRev:Cn(c)};const f=Cn(c),p=Cn(c);switch(d){case"u-ack":case"u-reject":return{type:d,table:f,prop:p,i:Number(ag(c))};default:{const m=ni(c);switch(d){case"in-sync":case"doc-close":return{type:d,table:f,prop:p,k:m};case"aware":return{type:d,table:f,prop:p,k:m,u:Pt(c)};case"doc-open":return{type:d,table:f,prop:p,k:m,serverRev:ni(c),sv:ni(c)};case"sv":return{type:d,table:f,prop:p,k:m,sv:Pt(c)};case"u-c":return{type:d,table:f,prop:p,k:m,u:Pt(c),i:Number(ag(c))};case"u-s":return{type:d,table:f,prop:p,k:m,u:Pt(c),r:c.pos<c.arr.length&&Cn(c)||void 0};default:throw new TypeError(`Unknown message type: ${d}`)}}}}(new Uint8Array(o.data));if(s.type==="error")throw new Error(`Error message from dexie-cloud: ${s.error}`);if(s.type==="aware"){const a=Vt.getDocCache(this.db.dx).find(s.table,s.k,s.prop);if(a){const c=(d=>Bk.get(d))(a);c&&t2(c,s.u,"server")}}else if(s.type!=="pong")if(s.type==="doc-open"){const a=Vt.getDocCache(this.db.dx).find(s.table,s.k,s.prop);a&&Kk(a).next()}else s.type==="u-ack"||s.type==="u-reject"||s.type==="u-s"||s.type==="in-sync"||s.type==="outdated-server-rev"||s.type==="y-complete-sync-done"?Dk([s],this.db).then(a=>he(this,[a],void 0,function*({resyncNeeded:c,yServerRevision:d,receivedUntils:f}){if(d&&(yield this.db.$syncState.update("syncState",{yServerRevision:d})),s.type==="u-s"&&f){const p=Xs(this.db,s.table,s.prop);if(p){const m=f[p.name];m&&(yield p.update(ii,{receivedUntil:m}))}}c&&(yield this.db.cloud.sync({purpose:"pull",wait:!0}))})):this.subscriber.next(s)}catch(s){this.subscriber.error(s)}}};try{let o=!1;yield new Promise((s,a)=>{i.onopen=c=>{o=!0,s(null)},i.onerror=c=>{if(o)this.reconnect();else{const d=c.error||new Error("WebSocket Error");this.subscriber.error(d),this.webSocketStatus.next("error"),a(d)}}}),this.subscriptions.add(this.messageProducer.subscribe(s=>{var a,c;this.closed||(s.type==="ready"&&this.webSocketStatus.value!=="connected"&&this.webSocketStatus.next("connected"),s.type==="ready"?(this.rev=s.rev,(a=this.ws)===null||a===void 0||a.send(Ol.stringify(s))):(c=this.ws)===null||c===void 0||c.send(function(d){const f=new Jo;switch(En(f,d.type),"table"in d&&En(f,d.table),"prop"in d&&En(f,d.prop),d.type){case"u-ack":case"u-reject":rg(f,BigInt(d.i));break;case"outdated-server-rev":break;case"y-complete-sync-done":En(f,d.yServerRev);break;default:switch(ti(f,d.k),d.type){case"aware":Nt(f,d.u);break;case"doc-open":ti(f,d.serverRev),ti(f,d.sv);break;case"doc-close":break;case"sv":Nt(f,d.sv);break;case"u-c":Nt(f,d.u),rg(f,BigInt(d.i));break;case"u-s":Nt(f,d.u),En(f,d.r||"")}}return fn(f)}(s)))})),this.user.isLoggedIn&&!jl(this.db)&&this.subscriptions.add(function(s){const a=nm(s.tables.filter(c=>{var d,f;return((f=(d=s.cloud.schema)===null||d===void 0?void 0:d[c.name])===null||f===void 0?void 0:f.markedForSync)&&c.schema.yProps}).map(c=>c.schema.yProps.map(d=>({table:c.name,ydocProp:d.prop,updatesTable:d.updatesTable}))));return Ic(...a.map(({table:c,ydocProp:d,updatesTable:f})=>{const p=s.table(f);return mn(p.get(ii)).pipe(Bt(m=>{let v=(m==null?void 0:m.unsentFrom)||1;return mn(ei(()=>he(this,void 0,void 0,function*(){return(yield Pk(p,v)).filter(b=>b.f&&1&b.f).map(b=>({type:"u-c",table:c,prop:d,k:b.k,u:b.u,i:b.i}))}))).pipe(ph(b=>{b.length>0&&(v=b.at(-1).i+1)}))}))})).pipe(ql(c=>c))}(this.db).subscribe(this.db.messageProducer))}catch{this.pauseUntil=new Date(Date.now()+6e4)}})}}class rO extends Error{constructor(t){super(t==="expired"?"License expired":t==="deactivated"?"User deactivated":"Invalid license"),this.name="InvalidLicenseError",t&&(this.license=t)}}function iO(e){return he(this,void 0,void 0,function*(){var t;yield(t=3e3,new Promise(n=>setTimeout(n,t))),yield Ti(Fk)})}function Qg(e){return he(this,void 0,void 0,function*(){var t;return!(!(!((t=e.cloud.options)===null||t===void 0)&&t.databaseUrl)||!e.cloud.schema)&&(yield Rc(e,e.cloud.options,e.cloud.schema,{justCheckIfNeeded:!0}))})}const Ga=new WeakMap;function Vk(e,t,n,r){const i=Ga.get(e);if(i){if(i.pull||(r==null?void 0:r.purpose)==="push")return i.promise;{let s=!1;const a=e.cloud.syncState.subscribe(c=>{c.phase==="pulling"&&(s=!0)});return i.promise.then(()=>{a.unsubscribe()}).catch(c=>(a.unsubscribe(),Promise.reject(c))).then(()=>{if(!s)return Vk(e,t,n,r)})}}const o=function(){return he(this,void 0,void 0,function*(){try{yield jk(e),yield zk(e,Ak,()=>Rc(e,t,n,r)),Ga.delete(e)}catch(s){throw Ga.delete(e),s}})}();return Ga.set(e,{promise:o,pull:(r==null?void 0:r.purpose)!=="push"}),o}const oO=1e3;function sO(e,t,n){let r=null,i={cancelled:!1},o=0,s=0;function a(m=1){setTimeout(()=>{const v=c?"pull":"push";s=Date.now(),Vk(e,t,n,{cancelToken:i,retryImmediatelyOnFetchError:!0,purpose:v}).then(()=>{if(i.cancelled)p();else if(c||d)return c=!1,d=!1,a();f=!1,o=0,s=0}).catch(b=>{if(i.cancelled)p(),f=!1,o=0,s=0;else if(m<5){const x=[0,20,40,300,900][m]*oO;o=Date.now()+x,s=0,setTimeout(()=>a(m+1),x)}else f=!1,o=0,s=0})},0)}let c=!1,d=!1,f=!1;const p=()=>{i.cancelled=!0,r&&r.unsubscribe()};return{start:()=>{r=e.localSyncEvent.subscribe(({purpose:m})=>{(v=>{i.cancelled||(v==="pull"&&(c=!0),v==="push"&&(d=!0),f?o||s>0&&Date.now():(f=!0,a()))})(m||"pull")})},stop:p}}function ff(e,t){if(e&&t&&t.unsyncedTables)for(const n of t.unsyncedTables)e[n]&&(e[n].markedForSync=!1)}var Lc,Pe,Wk,el,Jg,tc={},Hk=[],lO=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Wr(e,t){for(var n in t)e[n]=t[n];return e}function qk(e){var t=e.parentNode;t&&t.removeChild(e)}function yt(e,t,n){var r,i,o,s={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?Lc.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]===void 0&&(s[o]=e.defaultProps[o]);return yu(e,s,r,i,null)}function yu(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Wk};return i==null&&Pe.vnode!=null&&Pe.vnode(o),o}function Wo(e){return e.children}function tl(e,t){this.props=e,this.context=t}function Ho(e,t){if(t==null)return e.__?Ho(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Ho(e):null}function Gk(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Gk(e)}}function Xg(e){(!e.__d&&(e.__d=!0)&&el.push(e)&&!nc.__r++||Jg!==Pe.debounceRendering)&&((Jg=Pe.debounceRendering)||setTimeout)(nc)}function nc(){for(var e;nc.__r=el.length;)e=el.sort(function(t,n){return t.__v.__b-n.__v.__b}),el=[],e.some(function(t){var n,r,i,o,s,a;t.__d&&(s=(o=(n=t).__v).__e,(a=n.__P)&&(r=[],(i=Wr({},o)).__v=o.__v+1,rm(a,o,i,n.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,r,s??Ho(o),o.__h),Xk(r,o),o.__e!=s&&Gk(o)))})}function Yk(e,t,n,r,i,o,s,a,c,d){var f,p,m,v,b,x,P,E=r&&r.__k||Hk,k=E.length;for(n.__k=[],f=0;f<t.length;f++)if((v=n.__k[f]=(v=t[f])==null||typeof v=="boolean"?null:typeof v=="string"||typeof v=="number"||typeof v=="bigint"?yu(null,v,null,null,v):Array.isArray(v)?yu(Wo,{children:v},null,null,null):v.__b>0?yu(v.type,v.props,v.key,null,v.__v):v)!=null){if(v.__=n,v.__b=n.__b+1,(m=E[f])===null||m&&v.key==m.key&&v.type===m.type)E[f]=void 0;else for(p=0;p<k;p++){if((m=E[p])&&v.key==m.key&&v.type===m.type){E[p]=void 0;break}m=null}rm(e,v,m=m||tc,i,o,s,a,c,d),b=v.__e,(p=v.ref)&&m.ref!=p&&(P||(P=[]),m.ref&&P.push(m.ref,null,v),P.push(p,v.__c||b,v)),b!=null?(x==null&&(x=b),typeof v.type=="function"&&v.__k===m.__k?v.__d=c=Qk(v,c,e):c=Jk(e,v,m,E,b,c),typeof n.type=="function"&&(n.__d=c)):c&&m.__e==c&&c.parentNode!=e&&(c=Ho(m))}for(n.__e=x,f=k;f--;)E[f]!=null&&(typeof n.type=="function"&&E[f].__e!=null&&E[f].__e==n.__d&&(n.__d=Ho(r,f+1)),e_(E[f],E[f]));if(P)for(f=0;f<P.length;f++)Zk(P[f],P[++f],P[++f])}function Qk(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t=typeof r.type=="function"?Qk(r,t,n):Jk(n,r,r,i,r.__e,t));return t}function Jk(e,t,n,r,i,o){var s,a,c;if(t.__d!==void 0)s=t.__d,t.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==e)e.appendChild(i),s=null;else{for(a=o,c=0;(a=a.nextSibling)&&c<r.length;c+=2)if(a==i)break e;e.insertBefore(i,o),s=o}return s!==void 0?s:i.nextSibling}function Zg(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||lO.test(t)?n:n+"px"}function Ya(e,t,n,r,i){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Zg(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Zg(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?tv:ev,o):e.removeEventListener(t,o?tv:ev,o);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,n):e.removeAttribute(t))}}function ev(e){this.l[e.type+!1](Pe.event?Pe.event(e):e)}function tv(e){this.l[e.type+!0](Pe.event?Pe.event(e):e)}function rm(e,t,n,r,i,o,s,a,c){var d,f,p,m,v,b,x,P,E,k,_,M,K,B=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,a=t.__e=n.__e,t.__h=null,o=[a]),(d=Pe.__b)&&d(t);try{e:if(typeof B=="function"){if(P=t.props,E=(d=B.contextType)&&r[d.__c],k=d?E?E.props.value:d.__:r,n.__c?x=(f=t.__c=n.__c).__=f.__E:("prototype"in B&&B.prototype.render?t.__c=f=new B(P,k):(t.__c=f=new tl(P,k),f.constructor=B,f.render=uO),E&&E.sub(f),f.props=P,f.state||(f.state={}),f.context=k,f.__n=r,p=f.__d=!0,f.__h=[]),f.__s==null&&(f.__s=f.state),B.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Wr({},f.__s)),Wr(f.__s,B.getDerivedStateFromProps(P,f.__s))),m=f.props,v=f.state,p)B.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(B.getDerivedStateFromProps==null&&P!==m&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(P,k),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(P,f.__s,k)===!1||t.__v===n.__v){f.props=P,f.state=f.__s,t.__v!==n.__v&&(f.__d=!1),f.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(H){H&&(H.__=t)}),f.__h.length&&s.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(P,f.__s,k),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(m,v,b)})}if(f.context=k,f.props=P,f.__v=t,f.__P=e,_=Pe.__r,M=0,"prototype"in B&&B.prototype.render)f.state=f.__s,f.__d=!1,_&&_(t),d=f.render(f.props,f.state,f.context);else do f.__d=!1,_&&_(t),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++M<25);f.state=f.__s,f.getChildContext!=null&&(r=Wr(Wr({},r),f.getChildContext())),p||f.getSnapshotBeforeUpdate==null||(b=f.getSnapshotBeforeUpdate(m,v)),K=d!=null&&d.type===Wo&&d.key==null?d.props.children:d,Yk(e,Array.isArray(K)?K:[K],t,n,r,i,o,s,a,c),f.base=t.__e,t.__h=null,f.__h.length&&s.push(f),x&&(f.__E=f.__=null),f.__e=!1}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=aO(n.__e,t,n,r,i,o,s,c);(d=Pe.diffed)&&d(t)}catch(H){t.__v=null,(c||o!=null)&&(t.__e=a,t.__h=!!c,o[o.indexOf(a)]=null),Pe.__e(H,t,n)}}function Xk(e,t){Pe.__c&&Pe.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){Pe.__e(r,n.__v)}})}function aO(e,t,n,r,i,o,s,a){var c,d,f,p=n.props,m=t.props,v=t.type,b=0;if(v==="svg"&&(i=!0),o!=null){for(;b<o.length;b++)if((c=o[b])&&"setAttribute"in c==!!v&&(v?c.localName===v:c.nodeType===3)){e=c,o[b]=null;break}}if(e==null){if(v===null)return document.createTextNode(m);e=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,m.is&&m),o=null,a=!1}if(v===null)p===m||a&&e.data===m||(e.data=m);else{if(o=o&&Lc.call(e.childNodes),d=(p=n.props||tc).dangerouslySetInnerHTML,f=m.dangerouslySetInnerHTML,!a){if(o!=null)for(p={},b=0;b<e.attributes.length;b++)p[e.attributes[b].name]=e.attributes[b].value;(f||d)&&(f&&(d&&f.__html==d.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(function(x,P,E,k,_){var M;for(M in E)M==="children"||M==="key"||M in P||Ya(x,M,null,E[M],k);for(M in P)_&&typeof P[M]!="function"||M==="children"||M==="key"||M==="value"||M==="checked"||E[M]===P[M]||Ya(x,M,P[M],E[M],k)}(e,m,p,i,a),f)t.__k=[];else if(b=t.props.children,Yk(e,Array.isArray(b)?b:[b],t,n,r,i&&v!=="foreignObject",o,s,o?o[0]:n.__k&&Ho(n,0),a),o!=null)for(b=o.length;b--;)o[b]!=null&&qk(o[b]);a||("value"in m&&(b=m.value)!==void 0&&(b!==e.value||v==="progress"&&!b||v==="option"&&b!==p.value)&&Ya(e,"value",b,p.value,!1),"checked"in m&&(b=m.checked)!==void 0&&b!==e.checked&&Ya(e,"checked",b,p.checked,!1))}return e}function Zk(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){Pe.__e(r,n)}}function e_(e,t,n){var r,i;if(Pe.unmount&&Pe.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Zk(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Pe.__e(o,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&e_(r[i],t,typeof e.type!="function");n||e.__e==null||qk(e.__e),e.__e=e.__d=void 0}function uO(e,t,n){return this.constructor(e,n)}function nv(e,t,n){var r,i,o;Pe.__&&Pe.__(e,t),i=(r=!1)?null:t.__k,o=[],rm(t,e=t.__k=yt(Wo,null,[e]),i||tc,tc,t.ownerSVGElement!==void 0,i?null:t.firstChild?Lc.call(t.childNodes):null,o,i?i.__e:t.firstChild,r),Xk(o,e)}Lc=Hk.slice,Pe={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(a){e=a}throw e}},Wk=0,tl.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Wr({},this.state),typeof e=="function"&&(e=e(Wr({},n),this.props)),e&&Wr(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),Xg(this))},tl.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Xg(this))},tl.prototype.render=Wo,el=[],nc.__r=0;const Gn={Alert:{error:{color:"red",fontWeight:"bold"},warning:{color:"#f80",fontWeight:"bold"},info:{color:"black"}},Darken:{position:"fixed",top:0,left:0,opacity:.5,backgroundColor:"#000",width:"100vw",height:"100vh",zIndex:150,webkitBackdropFilter:"blur(2px)",backdropFilter:"blur(2px)"},DialogOuter:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:150,alignItems:"center",display:"flex",justifyContent:"center",padding:"16px",boxSizing:"border-box"},DialogInner:{position:"relative",color:"#222",backgroundColor:"#fff",padding:"24px",marginBottom:"2em",maxWidth:"400px",width:"100%",maxHeight:"90%",overflowY:"auto",border:"3px solid #3d3d5d",borderRadius:"8px",boxShadow:"0 0 80px 10px #666",fontFamily:"sans-serif",boxSizing:"border-box"},Input:{height:"35px",width:"100%",maxWidth:"100%",borderColor:"#ccf4",outline:"none",fontSize:"16px",padding:"8px",boxSizing:"border-box"},Button:{padding:"10px 20px",margin:"0 4px",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#ffffff",cursor:"pointer",fontSize:"14px",fontWeight:"500",color:"#374151",transition:"all 0.2s ease"},PrimaryButton:{padding:"10px 20px",margin:"0 4px",border:"1px solid #3b82f6",borderRadius:"6px",backgroundColor:"#3b82f6",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease"},ButtonsDiv:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"24px",paddingTop:"20px"},Label:{display:"block",marginBottom:"12px",fontSize:"14px",fontWeight:"500",color:"#333"},WindowHeader:{margin:"0 0 20px 0",fontSize:"18px",fontWeight:"600",color:"#333",borderBottom:"1px solid #eee",paddingBottom:"10px"}};function cO({children:e,className:t}){return yt("div",{className:`dexie-dialog ${t||""}`},yt("div",{style:Gn.Darken}),yt("div",{style:Gn.DialogOuter},yt("div",{style:Gn.DialogInner},e)))}var Mc,vt,hf,rv,rc=0,t_=[],gu=[],iv=Pe.__b,ov=Pe.__r,sv=Pe.diffed,lv=Pe.__c,av=Pe.unmount;function im(e,t){Pe.__h&&Pe.__h(vt,e,rc||t),rc=0;var n=vt.__H||(vt.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:gu}),n.__[e]}function dO(e){return rc=1,function(t,n,r){var i=im(Mc++,2);if(i.t=t,!i.__c&&(i.__=[cv(void 0,n),function(s){var a=i.__N?i.__N[0]:i.__[0],c=i.t(a,s);a!==c&&(i.__N=[c,i.__[1]],i.__c.setState({}))}],i.__c=vt,!vt.u)){vt.u=!0;var o=vt.shouldComponentUpdate;vt.shouldComponentUpdate=function(s,a,c){if(!i.__c.__H)return!0;var d=i.__c.__H.__.filter(function(p){return p.__c});if(d.every(function(p){return!p.__N}))return!o||o.call(this,s,a,c);var f=!1;return d.forEach(function(p){if(p.__N){var m=p.__[0];p.__=p.__N,p.__N=void 0,m!==p.__[0]&&(f=!0)}}),!!f&&(!o||o.call(this,s,a,c))}}return i.__N||i.__}(cv,e)}function fO(e){return rc=5,function(t,n){var r=im(Mc++,7);return n_(r.__H,n)?(r.__V=t(),r.i=n,r.__h=t,r.__V):r.__}(function(){return{current:e}},[])}function hO(){for(var e;e=t_.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(vu),e.__H.__h.forEach(Ah),e.__H.__h=[]}catch(t){e.__H.__h=[],Pe.__e(t,e.__v)}}Pe.__b=function(e){vt=null,iv&&iv(e)},Pe.__r=function(e){ov&&ov(e),Mc=0;var t=(vt=e.__c).__H;t&&(hf===vt?(t.__h=[],vt.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=gu,n.__N=n.i=void 0})):(t.__h.forEach(vu),t.__h.forEach(Ah),t.__h=[])),hf=vt},Pe.diffed=function(e){sv&&sv(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(t_.push(t)!==1&&rv===Pe.requestAnimationFrame||((rv=Pe.requestAnimationFrame)||function(n){var r,i=function(){clearTimeout(o),uv&&cancelAnimationFrame(r),setTimeout(n)},o=setTimeout(i,100);uv&&(r=requestAnimationFrame(i))})(hO)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==gu&&(n.__=n.__V),n.i=void 0,n.__V=gu})),hf=vt=null},Pe.__c=function(e,t){t.some(function(n){try{n.__h.forEach(vu),n.__h=n.__h.filter(function(r){return!r.__||Ah(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],Pe.__e(r,n.__v)}}),lv&&lv(e,t)},Pe.unmount=function(e){av&&av(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{vu(r)}catch(i){t=i}}),t&&Pe.__e(t,n.__v))};var uv=typeof requestAnimationFrame=="function";function vu(e){var t=vt,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),vt=t}function Ah(e){var t=vt;e.__c=e.__(),vt=t}function n_(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function cv(e,t){return typeof t=="function"?t(e):t}function pO({message:e,messageCode:t,messageParams:n}){return e.replace(/\{\w+\}/gi,r=>n[r.substring(1,r.length-1)])}function mO({title:e,type:t,alerts:n,fields:r,submitLabel:i,cancelLabel:o,onCancel:s,onSubmit:a}){const[c,d]=dO({}),f=fO(null);return function(p,m){var v=im(Mc++,4);!Pe.__s&&n_(v.__H,m)&&(v.__=p,v.i=m,vt.__h.push(v))}(()=>{var p;return(p=f.current)===null||p===void 0?void 0:p.focus()},[]),yt(cO,{className:"dxc-login-dlg"},yt(Wo,null,yt("h3",{style:Gn.WindowHeader},e),n.map(p=>yt("p",{style:Gn.Alert[p.type]},pO(p))),yt("form",{onSubmit:p=>{p.preventDefault(),a(c)}},Object.entries(r).map(([p,{type:m,label:v,placeholder:b}],x)=>yt("label",{style:Gn.Label,key:x},v?`${v}: `:"",yt("input",{ref:x===0?f:void 0,type:m,name:p,autoComplete:"on",style:Gn.Input,autoFocus:!0,placeholder:b,value:c[p]||"",onInput:P=>{var E;const k=function(M,K){switch(M){case"email":return K.toLowerCase();case"otp":return K.toUpperCase();default:return K}}(m,(E=P.target)===null||E===void 0?void 0:E.value);let _=Object.assign(Object.assign({},c),{[p]:k});d(_),m==="otp"&&(k==null?void 0:k.trim().length)===8&&a(_)}}))))),yt("div",{style:Gn.ButtonsDiv},yt(Wo,null,yt("button",{type:"submit",style:Gn.PrimaryButton,onClick:()=>a(c)},i),o&&yt("button",{style:Gn.Button,onClick:s},o))))}class dv extends tl{constructor(t){super(t),this.observer=n=>this.setState({userInteraction:n}),this.state={userInteraction:void 0}}componentDidMount(){this.subscription=mn(this.props.db.cloud.userInteraction).subscribe(this.observer)}componentWillUnmount(){this.subscription&&(this.subscription.unsubscribe(),delete this.subscription)}render(t,{userInteraction:n}){return n?yt(mO,Object.assign({},n)):null}}function Jl(e){const t=new WeakMap;return n=>{let r=t.get(n);return r||(r=e(n),t.set(n,r)),r}}const ic=Jl(e=>new Mn(en));function Uc(e,t){let n=t,r=mn(e).pipe(cn(o=>n=o),iC({resetOnRefCountZero:()=>pb(1e3)}));const i=new kt(o=>{let s=!1;const a=r.subscribe({next(c){s=!0,o.next(c)},error(c){o.error(c)},complete(){o.complete()}});return s||a.closed||o.next(n),a});return i.getValue=()=>n,i}const r_=Jl(e=>Uc(ei(()=>e.roles.where({realmId:"rlm-public"}).toArray().then(t=>{const n={};for(const r of t.slice().sort((i,o)=>(i.sortOrder||0)-(o.sortOrder||0)))n[r.name]=r;return n})),{})),i_=Jl(e=>Uc(ic(e._novip).pipe(Bt(t=>ei(()=>e.transaction("r","realms","members",()=>Promise.all([e.members.where({userId:t.userId}).toArray(),e.realms.toArray(),t.userId]).then(([n,r,i])=>({selfMembers:n,realms:r,userId:i})))))),{selfMembers:[],realms:[],get userId(){return e.cloud.currentUserId}}));function yO(...e){return e.length===0?{}:e.reduce((n,r)=>{const i=Object.assign({},n);for(const[o,s]of Object.entries(r))if(o in i&&i[o]){if(i[o]==="*")continue;if(s==="*")i[o]="*";else if(Array.isArray(s)&&Array.isArray(i[o])){const a=i,c=a[o];a[o]=[...new Set([...c,...s])]}else if(typeof s=="object"&&s&&typeof i[o]=="object"){const a=i[o];for(const[c,d]of Object.entries(s))a[c]!=="*"&&(d==="*"?a[c]="*":Array.isArray(a[c])&&Array.isArray(d)&&(a[c]=[...new Set([...a[c],...d])]))}}else i[o]=r[o];return i})}const o_=Jl(e=>function(t,n){let r;const i=t.pipe(cn(o=>r=n(o)));return i.getValue=()=>r!==void 0?r:r=n(t.getValue()),i}(Uc(_l([i_(e._novip),r_(e._novip)]).pipe(cn(([{selfMembers:t,realms:n,userId:r},i])=>({selfMembers:t,realms:n,userId:r,globalRoles:i}))),{selfMembers:[],realms:[],userId:en.userId,globalRoles:{}}),({selfMembers:t,realms:n,userId:r,globalRoles:i})=>n.map(s=>{const a=t.filter(f=>f.realmId===s.realmId),c=a.map(f=>f.permissions).filter(f=>f),d=nm(a.map(f=>f.roles).filter(f=>f)).map(f=>i[f]).filter(f=>f).map(f=>f.permissions);return Object.assign(Object.assign({},s),{permissions:s.owner===r?{manage:"*"}:yO(...c,...d)})}).reduce((s,a)=>Object.assign(Object.assign({},s),{[a.realmId]:a}),{[r]:{realmId:r,owner:r,name:r,permissions:{manage:"*"}}})));class fv{constructor(t,n,r){this.permissions=t||{},this.tableName=n,this.isOwner=r}add(...t){var n;return this.permissions.manage==="*"||!!(!((n=this.permissions.manage)===null||n===void 0)&&n.includes(this.tableName))||this.permissions.add==="*"||!!t.every(r=>{var i;return(i=this.permissions.add)===null||i===void 0?void 0:i.includes(r)})}update(...t){var n,r;if(this.isOwner||this.permissions.manage==="*"||!((n=this.permissions.manage)===null||n===void 0)&&n.includes(this.tableName))return!0;if(this.permissions.update==="*")return t.every(o=>o!=="owner");const i=(r=this.permissions.update)===null||r===void 0?void 0:r[this.tableName];return i==="*"?t.every(o=>o!=="owner"):t.every(o=>i==null?void 0:i.some(s=>s===o||s==="*"&&o!=="owner"))}delete(){var t;return!(!this.isOwner&&this.permissions.manage!=="*")||!!(!((t=this.permissions.manage)===null||t===void 0)&&t.includes(this.tableName))}}const gO=Jl(e=>{const t=ic(e._novip).pipe(Bt(i=>ei(()=>e.members.where({email:i.email||""}).toArray()))),n=o_(e._novip),r=i_(e._novip);return Uc(_l([t,r,n]).pipe(cn(([i,o,s])=>{const a=(f,p)=>Object.assign(Object.assign({},f),{[p.id]:Object.assign(Object.assign({},p),{realm:s[p.realmId]})}),c=i.reduce(a,{}),d=o.selfMembers.reduce(a,c);return Object.values(d).filter(f=>!f.accepted).map(f=>Object.assign(Object.assign({},f),{accept(){return he(this,void 0,void 0,function*(){yield e.members.update(f.id,{accepted:new Date})})},reject(){return he(this,void 0,void 0,function*(){yield e.members.update(f.id,{rejected:new Date})})}}))})),[])});function vO(e){return t=>{var n;const r=t.doc;if(!r)throw new Error("Internal error: DexieYProvider.createYHandler called without a doc. This is unexpected.");const{parentTable:i}=r.meta||{};if(!(!((n=e.cloud.schema)===null||n===void 0)&&n[i].markedForSync))return;let o;Object.defineProperty(t,"awareness",{get:()=>o||(o=function(s,a,c){const{parentTable:d,parentId:f,parentProp:p,updatesTable:m}=a.meta,v=new ZI(a),b=Kk(a);return v.on("update",({added:x,updated:P,removed:E},k)=>{const _=x.concat(P).concat(E),M=s.cloud.currentUser.value;if(k!=="server"&&M.isLoggedIn&&!jl(s)){const K=e2(v,_);s.messageProducer.next({type:"aware",table:d,prop:p,k:a.meta.parentId,u:K}),c.destroyed&&s.messageProducer.next({type:"doc-close",table:d,prop:p,k:a.meta.parentId})}}),v.on("destroy",()=>{pk(v,[a.clientID],"provider destroyed")}),he(this,void 0,void 0,function*(){if(c.destroyed)return;let x=!1,P=1;const E=_l([s.cloud.webSocketStatus,b.pipe(gb(null))]).subscribe(([_])=>{if(c.destroyed)return;x=_==="connected";const M=s.cloud.currentUser.value;_==="connected"&&M.isLoggedIn&&!jl(s)&&(++P,k().catch(K=>{}))});function k(){return he(this,void 0,void 0,function*(){const _=P,M=s.table(m),K=s.$syncState,[B,H]=yield s.transaction("r",K,M,()=>he(this,void 0,void 0,function*(){const de=yield M.get(ii),G=yield K.get("syncState");return[(de==null?void 0:de.receivedUntil)||0,(G==null?void 0:G.yServerRevision)||(G==null?void 0:G.serverRevision)]}));if(c.destroyed||P!==_||!x)return;const W={type:"doc-open",table:d,prop:p,k:f,serverRev:H},ie=yield M.where("i").between(B,1/0,!1).filter(de=>xc(de.k,f)===0&&(1&(de.f||0))==0).toArray();if(!c.destroyed&&P===_&&x){if(ie.length>0){const de=qu(ie.map(ve=>ve.u)),G=Vb(de);W.sv=G}s.messageProducer.next(W)}})}c.addCleanupHandler(E)}),v}(e,r,t),Bk.set(r,o),o)})}}function Us(e){return"rlm~"+e}const wO={nameSuffix:!0};function Rh(e){const t=e.name,n=ic(e),r=[];let i=!1,o=null;e.on("ready",f=>he(this,void 0,void 0,function*(){try{yield function(p){return he(this,void 0,void 0,function*(){var m,v,b,x,P,E,k;s=!1;const _=lr(p);typeof window<"u"&&typeof document<"u"&&(!((m=_.cloud.options)===null||m===void 0)&&m.customLoginGui||r.push(function(G){let ve=!1;const xe=document.createElement("div");return document.body?(document.body.appendChild(xe),nv(yt(dv,{db:G.vip}),xe)):addEventListener("DOMContentLoaded",()=>{ve||(document.body.appendChild(xe),nv(yt(dv,{db:G.vip}),xe))}),{unsubscribe(){try{xe.remove()}catch{}ve=!0},get closed(){return ve}}}(p))),_.cloud.isServiceWorkerDB||r.push(function(G){let ve=G.cloud.webSocketStatus.value;const xe=G.cloud.webSocketStatus.pipe(Bt(Ee=>{const ke=ve;ve=Ee;const Z=gr(Ee);switch(Ee){case"disconnected":return Zs.value?Z.pipe(bg(500)):Z;case"connecting":return ke==="not-started"||ke==="error"?Z:Z.pipe(bg(4e3));default:return Z}}));return _l([xe,G.syncStateChangedEvent.pipe(gb({phase:"initial"})),ic(G.dx._novip),Dh]).pipe(cn(([Ee,ke,Z,ce])=>{var R;if(!((R=Z.license)===null||R===void 0)&&R.status&&Z.license.status!=="ok")return{phase:"offline",status:"offline",license:Z.license.status};let{phase:J,error:ue,progress:oe}=ke,se=Ee;return J==="error"&&(se="error"),Ee==="not-started"&&(J!=="pushing"&&J!=="pulling"||(se="connecting")),G.cloud.syncState.value.phase!=="error"||ke.phase!=="pushing"&&ke.phase!=="pulling"||(se="connecting"),ce||(se="disconnected"),{phase:J,error:ue,progress:oe,status:To?se:"offline",license:"ok"}}))}(_).subscribe(p.cloud.syncState)),r.push(_.syncCompleteEvent.subscribe(c)),_.tables.every(G=>G.core)||function(){throw new Re.SchemaError("Version increment needed to allow dexie-cloud change tracking")}();const M="serviceWorker"in navigator?yield navigator.serviceWorker.getRegistrations():[],[K,B]=yield _.transaction("rw",_.$syncState,()=>he(this,void 0,void 0,function*(){var G,ve;const{options:xe,schema:Ee}=_.cloud,[ke,Z,ce]=yield Promise.all([_.getOptions(),_.getSchema(),_.getPersistedSyncState()]);if(i){if(!ke||JSON.stringify(ke)!==JSON.stringify(xe)){if(!xe)throw new Error("Internal error");const R=Object.assign({},xe);delete R.fetchTokens,delete R.awarenessProtocol,yield _.$syncState.put(R,"options")}}else _.cloud.options=ke||null;if(!((G=_.cloud.options)===null||G===void 0)&&G.tryUseServiceWorker&&"serviceWorker"in navigator&&M.length>0&&!B2?_.cloud.usingServiceWorker=!0:(!((ve=_.cloud.options)===null||ve===void 0)&&ve.tryUseServiceWorker&&_.cloud.isServiceWorkerDB,_.cloud.usingServiceWorker=!1),ff(Ee,_.cloud.options),ff(Z,_.cloud.options),Ee){if(!Z||JSON.stringify(Z)!==JSON.stringify(Ee)){const R=Z||{};for(const[J,ue]of Object.entries(Ee)){const oe=R[J];oe?(oe.markedForSync=ue.markedForSync,ue.deleted=oe.deleted,oe.generatedGlobalId=ue.generatedGlobalId):R[J]=Object.assign({},ue)}yield _.$syncState.put(R,"schema"),Object.assign(Ee,R)}}else _.cloud.schema=Z||null;return[ce==null?void 0:ce.initiallySynced,ce==null?void 0:ce.realms]}));if(K&&_.setInitiallySynced(!0),function(G){var ve,xe;for(const Ee of G.tables)if(!((xe=(ve=G.cloud.schema)===null||ve===void 0?void 0:ve[Ee.name])===null||xe===void 0)&&xe.markedForSync){if(Ee.schema.primKey.auto)throw new Re.SchemaError(`Table ${Ee.name} is both autoIncremented and synced. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(Ee.name)}]}) to blacklist it from sync`);if(!Ee.schema.primKey.keyPath)throw new Re.SchemaError(`Table ${Ee.name} cannot be both synced and outbound. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(Ee.name)}]}) to blacklist it from sync`)}}(_),a(),!_.cloud.isServiceWorkerDB){r.push(ei(()=>_.getCurrentUser()).subscribe(n)),r.push(ei(()=>_.getPersistedSyncState()).subscribe(_.cloud.persistedSyncState)),yield Ti(_l([n.pipe(kg(1),oo(1)),_.cloud.persistedSyncState.pipe(kg(1),oo(1))]));const G=vO(_);Vt.on.new.subscribe(G),_.dx.once("close",()=>{Vt.on.new.unsubscribe(G)})}let H=!1;const W=yield _.getCurrentUser(),ie=(v=_.cloud.options)===null||v===void 0?void 0:v.requireAuth;ie&&(_.cloud.isServiceWorkerDB?yield Ti(n.pipe(_n(G=>!!G.isLoggedIn),oo(1))):typeof ie=="object"?(!W.isLoggedIn||ie.userId&&W.userId!==ie.userId||ie.email&&W.email!==ie.email)&&(H=yield af(_,ie)):W.isLoggedIn||(H=yield af(_))),!W.isLoggedIn||B&&B.includes(W.userId)||(H=!0),o&&o.stop(),o=null,a();const de=((b=_.cloud.options)===null||b===void 0?void 0:b.databaseUrl)&&(!K||H);de&&(yield function(G,ve,xe){return he(this,void 0,void 0,function*(){yield zk(G,Ak,()=>Rc(G,ve,xe,{isInitialSync:!0}))})}(_,_.cloud.options,_.cloud.schema),_.setInitiallySynced(!0)),a(),_.cloud.usingServiceWorker&&(!((x=_.cloud.options)===null||x===void 0)&&x.databaseUrl)?(de||gk(_,"push").catch(()=>{}),function(G){return he(this,void 0,void 0,function*(){var ve;try{const{periodicSync:xe}=yield navigator.serviceWorker.ready;if(xe)try{yield xe.register(`dexie-cloud:${G.name}`,(ve=G.cloud.options)===null||ve===void 0?void 0:ve.periodicSync)}catch{}}catch{}})}(_).catch(()=>{})):!((P=_.cloud.options)===null||P===void 0)&&P.databaseUrl&&_.cloud.schema&&!_.cloud.isServiceWorkerDB&&(o=sO(_,_.cloud.options,_.cloud.schema),o.start(),de||pr(_,"push")),a(),_.cloud.isServiceWorkerDB||r.push(Qn(self,"online").subscribe(()=>{_.syncStateChangedEvent.next({phase:"not-in-sync"}),jl(_)||pr(_,"push")}),Qn(self,"offline").subscribe(()=>{_.syncStateChangedEvent.next({phase:"offline"})})),!(!((E=_.cloud.options)===null||E===void 0)&&E.databaseUrl)||!((k=_.cloud.options)===null||k===void 0)&&k.disableWebSocket||K2||r.push(function(G){var ve;if(!(!((ve=G.cloud.options)===null||ve===void 0)&&ve.databaseUrl))throw new Error("No database URL to connect WebSocket to");const xe=G.messageConsumer.readyToServe.pipe(_n(ke=>ke),Bt(()=>G.getPersistedSyncState()),_n(ke=>ke&&ke.serverRevision),Bt(ke=>he(this,void 0,void 0,function*(){return{type:"ready",rev:ke.serverRevision,realmSetHash:yield Oh(ke)}}))),Ee=Ic(xe,G.messageProducer);return function ke(){return G.cloud.persistedSyncState.pipe(_n(Z=>Z==null?void 0:Z.serverRevision),oo(1),Bt(Z=>G.cloud.currentUser.pipe(cn(ce=>[ce,Z]))),Bt(([Z,ce])=>Dh.pipe(cn(R=>[R?Z:null,ce]))),Bt(([Z,ce])=>Z!=null&&Z.isLoggedIn&&!(ce!=null&&ce.realms.includes(Z.userId))?G.cloud.persistedSyncState.pipe(_n(R=>(R==null?void 0:R.realms.includes(Z.userId))||!1),oo(1),cn(R=>[Z,R])):new Mn([Z,ce])),Bt(Z=>he(this,[Z],void 0,function*([ce,R]){return[ce,yield Oh(R)]})),yb(([Z,ce],[R,J])=>Z===R&&ce===J),Bt(([Z,ce])=>{var R;return!((R=G.cloud.persistedSyncState)===null||R===void 0)&&R.value?Z?new eO(G,G.cloud.persistedSyncState.value.serverRevision,G.cloud.persistedSyncState.value.yServerRevision,ce,G.cloud.persistedSyncState.value.clientIdentity,Ee,G.cloud.webSocketStatus,Z):mn([]):ke()}),hh(Z=>(Z==null?void 0:Z.name)==="TokenExpiredError"?gr(!0).pipe(Bt(()=>he(this,void 0,void 0,function*(){const ce=yield G.getCurrentUser(),R=yield Ac(G.cloud.options.databaseUrl,ce);yield G.table("$logins").update(ce.userId,{accessToken:R.accessToken,accessTokenExpiration:R.accessTokenExpiration,claims:R.claims,license:R.license,data:R.data})})),Bt(()=>ke())):yg(()=>Z)),hh(Z=>(G.cloud.webSocketStatus.next("error"),Z instanceof rO?yg(()=>Z):mn(iO()).pipe(Bt(()=>ke())))))}().subscribe({next:ke=>{ke&&G.messageConsumer.enqueue(ke)},error:ke=>{},complete:()=>{}})}(_))})}(f)}catch{}}),!0);let s=!1;function a(){if(s)throw new Re.DatabaseClosedError}e.once("close",()=>{r.forEach(f=>f.unsubscribe()),r.splice(0,r.length),s=!0,o&&o.stop(),o=null,n.next(en)});const c=new Fi;var d;e.cloud={version:"4.2.2",options:Object.assign({},wO),schema:null,get currentUserId(){return n.value.userId||en.userId},currentUser:n,syncState:new Mn({phase:"initial",status:"not-started"}),events:{syncComplete:c},persistedSyncState:new Mn(void 0),userInteraction:new Mn(void 0),webSocketStatus:new Mn("not-started"),login(f){return he(this,void 0,void 0,function*(){const p=lr(e);yield p.cloud.sync(),yield af(p,f)})},invites:gO(e),roles:r_(e),configure(f){f=e.cloud.options=Object.assign(Object.assign({},e.cloud.options),f),i=!0,f.databaseUrl&&f.nameSuffix&&(e.name=`${t}-${function(p){const m=new URL(p);return m.pathname==="/"?m.hostname.split(".")[0]:m.pathname.split("/")[1]}(f.databaseUrl)}`,lr(e).reconfigure()),ff(e.cloud.schema,e.cloud.options)},logout(){return he(this,arguments,void 0,function*({force:f}={}){f?yield Eh(lr(e),{deleteUnsyncedData:!0}):yield wk(lr(e))})},sync(){return he(this,arguments,void 0,function*({wait:f,purpose:p}={wait:!0,purpose:"push"}){var m;f===void 0&&(f=!0);const v=lr(e);if((((m=v.cloud.currentUser.value.license)===null||m===void 0?void 0:m.status)||"ok")!=="ok"&&(yield Dc(v)),p==="pull"){const b=v.cloud.persistedSyncState.value;if(pr(v,p),f){const x=yield Ti(v.cloud.persistedSyncState.pipe(_n(P=>(P==null?void 0:P.timestamp)!=null&&(!b||P.timestamp>b.timestamp))));if(x!=null&&x.error)throw new Error("Sync error: "+x.error)}}else if(yield Qg(v)){const b=v.cloud.persistedSyncState.value;pr(v,p),f&&(yield Ti(mn(ei(()=>he(this,void 0,void 0,function*(){const x=yield Qg(v),P=yield v.getPersistedSyncState();if((P==null?void 0:P.timestamp)!==(b==null?void 0:b.timestamp)&&(P!=null&&P.error))throw new Error("Sync error: "+P.error);return x}))).pipe(_n(x=>!x))))}})},permissions:(f,p)=>function(m,v,b){if(!v)throw new TypeError("Cannot check permissions of undefined or null. A Dexie Cloud object with realmId and owner expected.");const{owner:x,realmId:P}=v;if(!b){if(typeof v.table!="function")throw new TypeError("Missing 'table' argument to permissions and table could not be extracted from entity");b=v.table()}const E=o_(m),k=M=>{const K=M[P||m.cloud.currentUserId];return K?new fv(K.permissions,b,P===void 0||P===m.cloud.currentUserId||x===m.cloud.currentUserId):new fv({},b,!x||x===m.cloud.currentUserId)},_=E.pipe(cn(k));return _.getValue=()=>k(E.getValue()),_}(e._novip,f,p)},e.Version.prototype._parseStoresSpec=Re.override(e.Version.prototype._parseStoresSpec,f=>Q2(f,e)),e.Table.prototype.newId=function({colocateWith:f}={}){const p=f&&f.substr(f.length-3);return Uk(e.cloud.schema[this.name].idPrefix||"",p)},e.Table.prototype.idPrefix=function(){var f,p;return((p=(f=this.db.cloud.schema)===null||f===void 0?void 0:f[this.name])===null||p===void 0?void 0:p.idPrefix)||""},e.use(Y2({currentUserObservable:e.cloud.currentUser,db:lr(e)})),e.use((d=lr(e),{stack:"dbcore",name:"implicitPropSetterMiddleware",level:1,create:f=>Object.assign(Object.assign({},f),{table:p=>{const m=f.table(p);return Object.assign(Object.assign({},m),{mutate:v=>{var b,x,P,E,k,_;const M=v.trans;if(M.disableChangeTracking)return m.mutate(v);const K=(x=(b=M.currentUser)===null||b===void 0?void 0:b.userId)!==null&&x!==void 0?x:en.userId;if(!((E=(P=d.cloud.schema)===null||P===void 0?void 0:P[p])===null||E===void 0)&&E.markedForSync&&(v.type==="add"||v.type==="put")){if(p==="members")for(const B of v.values)typeof B.email=="string"&&(B.email=B.email.trim().toLowerCase());for(const B of v.values){B.owner||(B.owner=K),B.realmId||(B.realmId=K);const H=(_=(k=m.schema.primaryKey).extractKey)===null||_===void 0?void 0:_.call(k,B);typeof H=="string"&&H[0]==="#"&&v.type==="put"&&(delete v.criteria,delete v.changeSpec,delete v.updates,B.$ts=Date.now())}}return m.mutate(v)}})}})})),e.use(H2(lr(e)))}Rh.version="4.2.2",Re.Cloud=Rh;class bO extends SS{constructor(){super(...arguments);Rr(this,"id");Rr(this,"realmId");Rr(this,"owner");Rr(this,"title")}isSharable(){return this.realmId===Us(this.id)}isPrivate(){return this.id[0]==="#"}async makeSharable(){if(this.isPrivate())throw new Error("Private lists cannot be made sharable");const n=this.realmId,r=Us(this.id),{db:i}=this;return await i.transaction("rw",[i.todoLists,i.todoItems,i.realms],async()=>{await i.realms.upsert(r,{name:this.title,represents:"a to-do list"}),await i.todoLists.update(this.id,{realmId:r}),await i.todoItems.where({realmId:n,todoListId:this.id}).modify({realmId:r})}),r}async unshareWithEveryone(){const{db:n}=this,r=Us(this.id);await n.transaction("rw",[n.todoLists,n.todoItems,n.members,n.realms],async()=>{await n.todoItems.where({realmId:r,todoListId:this.id}).modify({realmId:n.cloud.currentUserId}),await n.todoLists.update(this.id,{realmId:this.db.cloud.currentUserId}),await n.members.where("realmId").equals(r).delete(),await n.realms.delete(r)})}async shareWith(n,r,i,o){const{db:s}=this;await s.transaction("rw",[s.members,s.todoLists,s.todoItems,s.realms],async()=>{let a=this.realmId;this.isSharable()||(a=await this.makeSharable()),await s.members.add({realmId:a,name:n,email:r,invite:i,roles:o})})}async unshareWith(n){const{db:r}=this;await r.transaction("rw",[r.todoLists,r.todoItems,r.members,r.realms],async()=>{await r.members.delete(n.id),await r.members.where({realmId:this.realmId}).filter(o=>o.userId!==r.cloud.currentUserId).count()===0&&await this.unshareWithEveryone()})}async leave(){const{db:n}=this;await n.members.where({realmId:this.realmId,userId:n.cloud.currentUserId}).delete()}async delete(){const{db:n}=this;await n.transaction("rw",[n.todoLists,n.todoItems,n.members,n.realms],()=>{n.todoItems.where({todoListId:this.id}).delete(),n.todoLists.delete(this.id);const r=Us(this.id);n.realms.delete(r)})}}class kO extends Re{constructor(){super("TodoDBCloud2",{addons:[Rh],cache:"immutable"});Rr(this,"todoLists");Rr(this,"todoItems");Rr(this,"openCloseStates");this.version(14).stores({todoLists:"@id",todoItems:"@id, [todoListId+realmId]",openCloseStates:""}),this.todoLists.mapToClass(bO),this.on("populate",()=>{this.on("ready",()=>void 0)}),this.cloud.configure({unsyncedTables:["openCloseStates"],databaseUrl:"https://z0lesejpr.dexie.cloud",tryUseServiceWorker:!0,requireAuth:!1})}}const _e=new kO;/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xO=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),hv=e=>{const t=xO(e);return t.charAt(0).toUpperCase()+t.slice(1)},s_=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),SO=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=Se.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},c)=>Se.createElement("svg",{ref:c,...EO,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:s_("lucide",i),...!o&&!SO(a)&&{"aria-hidden":"true"},...a},[...s.map(([d,f])=>Se.createElement(d,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(e,t)=>{const n=Se.forwardRef(({className:r,...i},o)=>Se.createElement(CO,{ref:o,iconNode:t,className:s_(`lucide-${_O(hv(e))}`,`lucide-${e}`,r),...i}));return n.displayName=hv(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pv=xt("chevron-down",IO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jO=xt("circle-alert",OO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M13 16a3 3 0 0 1 0 6H7a5 5 0 1 1 4.9-6z",key:"ie2ih4"}],["path",{d:"M18.376 14.512a6 6 0 0 0 3.461-4.127c.148-.625-.659-.97-1.248-.714a4 4 0 0 1-5.259-5.26c.255-.589-.09-1.395-.716-1.248a6 6 0 0 0-4.594 5.36",key:"zwnc1e"}]],NO=xt("cloud-moon",TO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],mv=xt("cloud",PO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],AO=xt("crown",DO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],LO=xt("list",RO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],UO=xt("loader-circle",MO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yv=xt("log-out",zO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],gv=xt("mail",$O);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],BO=xt("menu",FO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],l_=xt("plus",KO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],WO=xt("rotate-ccw",VO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],qO=xt("share-2",HO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zc=xt("trash-2",GO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],QO=xt("user-plus",YO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],a_=xt("user",JO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ZO=xt("users",XO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tj=xt("wifi-off",ej);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],rj=xt("wifi",nj);function u_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=u_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function c_(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=u_(e))&&(r&&(r+=" "),r+=t);return r}const vv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wv=c_,ij=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return wv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(d=>{const f=n==null?void 0:n[d],p=o==null?void 0:o[d];if(f===null)return null;const m=vv(f)||vv(p);return i[d][m]}),a=n&&Object.entries(n).reduce((d,f)=>{let[p,m]=f;return m===void 0||(d[p]=m),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:p,className:m,...v}=f;return Object.entries(v).every(b=>{let[x,P]=b;return Array.isArray(P)?P.includes({...o,...a}[x]):{...o,...a}[x]===P})?[...d,p,m]:d},[]);return wv(e,s,c,n==null?void 0:n.class,n==null?void 0:n.className)},om="-",oj=e=>{const t=lj(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(om);return a[0]===""&&a.length!==1&&a.shift(),d_(a,t)||sj(s)},getConflictingClassGroupIds:(s,a)=>{const c=n[s]||[];return a&&r[s]?[...c,...r[s]]:c}}},d_=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?d_(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(om);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},bv=/^\[(.+)\]$/,sj=e=>{if(bv.test(e)){const t=bv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},lj=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)Lh(n[i],r,i,t);return r},Lh=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:kv(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(aj(i)){Lh(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{Lh(s,kv(t,o),n,r)})})},kv=(e,t)=>{let n=e;return t.split(om).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},aj=e=>e.isThemeGetter,uj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},Mh="!",Uh=":",cj=Uh.length,dj=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const o=[];let s=0,a=0,c=0,d;for(let b=0;b<i.length;b++){let x=i[b];if(s===0&&a===0){if(x===Uh){o.push(i.slice(c,b)),c=b+cj;continue}if(x==="/"){d=b;continue}}x==="["?s++:x==="]"?s--:x==="("?a++:x===")"&&a--}const f=o.length===0?i:i.substring(c),p=fj(f),m=p!==f,v=d&&d>c?d-c:void 0;return{modifiers:o,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:v}};if(t){const i=t+Uh,o=r;r=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},fj=e=>e.endsWith(Mh)?e.substring(0,e.length-1):e.startsWith(Mh)?e.substring(1):e,hj=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(s=>{s[0]==="["||t[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},pj=e=>({cache:uj(e.cacheSize),parseClassName:dj(e),sortModifiers:hj(e),...oj(e)}),mj=/\s+/,yj=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=t,s=[],a=e.trim().split(mj);let c="";for(let d=a.length-1;d>=0;d-=1){const f=a[d],{isExternal:p,modifiers:m,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:x}=n(f);if(p){c=f+(c.length>0?" "+c:c);continue}let P=!!x,E=r(P?b.substring(0,x):b);if(!E){if(!P){c=f+(c.length>0?" "+c:c);continue}if(E=r(b),!E){c=f+(c.length>0?" "+c:c);continue}P=!1}const k=o(m).join(":"),_=v?k+Mh:k,M=_+E;if(s.includes(M))continue;s.push(M);const K=i(E,P);for(let B=0;B<K.length;++B){const H=K[B];s.push(_+H)}c=f+(c.length>0?" "+c:c)}return c};function gj(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=f_(t))&&(r&&(r+=" "),r+=n);return r}const f_=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=f_(e[r]))&&(n&&(n+=" "),n+=t);return n};function vj(e,...t){let n,r,i,o=s;function s(c){const d=t.reduce((f,p)=>p(f),e());return n=pj(d),r=n.cache.get,i=n.cache.set,o=a,a(c)}function a(c){const d=r(c);if(d)return d;const f=yj(c,n);return i(c,f),f}return function(){return o(gj.apply(null,arguments))}}const mt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},h_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,p_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,wj=/^\d+\/\d+$/,bj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_j=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,xj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ro=e=>wj.test(e),De=e=>!!e&&!Number.isNaN(Number(e)),Mr=e=>!!e&&Number.isInteger(Number(e)),pf=e=>e.endsWith("%")&&De(e.slice(0,-1)),ur=e=>bj.test(e),Ej=()=>!0,Cj=e=>kj.test(e)&&!_j.test(e),m_=()=>!1,Ij=e=>xj.test(e),Oj=e=>Sj.test(e),jj=e=>!me(e)&&!ye(e),Tj=e=>os(e,v_,m_),me=e=>h_.test(e),Si=e=>os(e,w_,Cj),mf=e=>os(e,Rj,De),_v=e=>os(e,y_,m_),Nj=e=>os(e,g_,Oj),Qa=e=>os(e,b_,Ij),ye=e=>p_.test(e),Ds=e=>ss(e,w_),Pj=e=>ss(e,Lj),xv=e=>ss(e,y_),Dj=e=>ss(e,v_),Aj=e=>ss(e,g_),Ja=e=>ss(e,b_,!0),os=(e,t,n)=>{const r=h_.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},ss=(e,t,n=!1)=>{const r=p_.exec(e);return r?r[1]?t(r[1]):n:!1},y_=e=>e==="position"||e==="percentage",g_=e=>e==="image"||e==="url",v_=e=>e==="length"||e==="size"||e==="bg-size",w_=e=>e==="length",Rj=e=>e==="number",Lj=e=>e==="family-name",b_=e=>e==="shadow",Mj=()=>{const e=mt("color"),t=mt("font"),n=mt("text"),r=mt("font-weight"),i=mt("tracking"),o=mt("leading"),s=mt("breakpoint"),a=mt("container"),c=mt("spacing"),d=mt("radius"),f=mt("shadow"),p=mt("inset-shadow"),m=mt("text-shadow"),v=mt("drop-shadow"),b=mt("blur"),x=mt("perspective"),P=mt("aspect"),E=mt("ease"),k=mt("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],K=()=>[...M(),ye,me],B=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto","contain","none"],W=()=>[ye,me,c],ie=()=>[ro,"full","auto",...W()],de=()=>[Mr,"none","subgrid",ye,me],G=()=>["auto",{span:["full",Mr,ye,me]},Mr,ye,me],ve=()=>[Mr,"auto",ye,me],xe=()=>["auto","min","max","fr",ye,me],Ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...W()],ce=()=>[ro,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...W()],R=()=>[e,ye,me],J=()=>[...M(),xv,_v,{position:[ye,me]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],oe=()=>["auto","cover","contain",Dj,Tj,{size:[ye,me]}],se=()=>[pf,Ds,Si],we=()=>["","none","full",d,ye,me],je=()=>["",De,Ds,Si],Je=()=>["solid","dashed","dotted","double"],ze=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Te=()=>[De,pf,xv,_v],ut=()=>["","none",b,ye,me],le=()=>["none",De,ye,me],Ve=()=>["none",De,ye,me],rt=()=>[De,ye,me],be=()=>[ro,"full",...W()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ur],breakpoint:[ur],color:[Ej],container:[ur],"drop-shadow":[ur],ease:["in","out","in-out"],font:[jj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ur],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ur],shadow:[ur],spacing:["px",De],text:[ur],"text-shadow":[ur],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ro,me,ye,P]}],container:["container"],columns:[{columns:[De,me,ye,a]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:K()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ie()}],"inset-x":[{"inset-x":ie()}],"inset-y":[{"inset-y":ie()}],start:[{start:ie()}],end:[{end:ie()}],top:[{top:ie()}],right:[{right:ie()}],bottom:[{bottom:ie()}],left:[{left:ie()}],visibility:["visible","invisible","collapse"],z:[{z:[Mr,"auto",ye,me]}],basis:[{basis:[ro,"full","auto",a,...W()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[De,ro,"auto","initial","none",me]}],grow:[{grow:["",De,ye,me]}],shrink:[{shrink:["",De,ye,me]}],order:[{order:[Mr,"first","last","none",ye,me]}],"grid-cols":[{"grid-cols":de()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":ve()}],"col-end":[{"col-end":ve()}],"grid-rows":[{"grid-rows":de()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":ve()}],"row-end":[{"row-end":ve()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":xe()}],"auto-rows":[{"auto-rows":xe()}],gap:[{gap:W()}],"gap-x":[{"gap-x":W()}],"gap-y":[{"gap-y":W()}],"justify-content":[{justify:[...Ee(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...Ee()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ee()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:W()}],px:[{px:W()}],py:[{py:W()}],ps:[{ps:W()}],pe:[{pe:W()}],pt:[{pt:W()}],pr:[{pr:W()}],pb:[{pb:W()}],pl:[{pl:W()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":W()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":W()}],"space-y-reverse":["space-y-reverse"],size:[{size:ce()}],w:[{w:[a,"screen",...ce()]}],"min-w":[{"min-w":[a,"screen","none",...ce()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...ce()]}],h:[{h:["screen","lh",...ce()]}],"min-h":[{"min-h":["screen","lh","none",...ce()]}],"max-h":[{"max-h":["screen","lh",...ce()]}],"font-size":[{text:["base",n,Ds,Si]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ye,mf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",pf,me]}],"font-family":[{font:[Pj,me,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ye,me]}],"line-clamp":[{"line-clamp":[De,"none",ye,mf]}],leading:[{leading:[o,...W()]}],"list-image":[{"list-image":["none",ye,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Je(),"wavy"]}],"text-decoration-thickness":[{decoration:[De,"from-font","auto",ye,Si]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[De,"auto",ye,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:oe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mr,ye,me],radial:["",ye,me],conic:[Mr,ye,me]},Aj,Nj]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:we()}],"rounded-s":[{"rounded-s":we()}],"rounded-e":[{"rounded-e":we()}],"rounded-t":[{"rounded-t":we()}],"rounded-r":[{"rounded-r":we()}],"rounded-b":[{"rounded-b":we()}],"rounded-l":[{"rounded-l":we()}],"rounded-ss":[{"rounded-ss":we()}],"rounded-se":[{"rounded-se":we()}],"rounded-ee":[{"rounded-ee":we()}],"rounded-es":[{"rounded-es":we()}],"rounded-tl":[{"rounded-tl":we()}],"rounded-tr":[{"rounded-tr":we()}],"rounded-br":[{"rounded-br":we()}],"rounded-bl":[{"rounded-bl":we()}],"border-w":[{border:je()}],"border-w-x":[{"border-x":je()}],"border-w-y":[{"border-y":je()}],"border-w-s":[{"border-s":je()}],"border-w-e":[{"border-e":je()}],"border-w-t":[{"border-t":je()}],"border-w-r":[{"border-r":je()}],"border-w-b":[{"border-b":je()}],"border-w-l":[{"border-l":je()}],"divide-x":[{"divide-x":je()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":je()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Je(),"hidden","none"]}],"divide-style":[{divide:[...Je(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...Je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[De,ye,me]}],"outline-w":[{outline:["",De,Ds,Si]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",f,Ja,Qa]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",p,Ja,Qa]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:je()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[De,Si]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":je()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",m,Ja,Qa]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[De,ye,me]}],"mix-blend":[{"mix-blend":[...ze(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ze()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[De]}],"mask-image-linear-from-pos":[{"mask-linear-from":Te()}],"mask-image-linear-to-pos":[{"mask-linear-to":Te()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":Te()}],"mask-image-t-to-pos":[{"mask-t-to":Te()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":Te()}],"mask-image-r-to-pos":[{"mask-r-to":Te()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":Te()}],"mask-image-b-to-pos":[{"mask-b-to":Te()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":Te()}],"mask-image-l-to-pos":[{"mask-l-to":Te()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":Te()}],"mask-image-x-to-pos":[{"mask-x-to":Te()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":Te()}],"mask-image-y-to-pos":[{"mask-y-to":Te()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[ye,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":Te()}],"mask-image-radial-to-pos":[{"mask-radial-to":Te()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[De]}],"mask-image-conic-from-pos":[{"mask-conic-from":Te()}],"mask-image-conic-to-pos":[{"mask-conic-to":Te()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:oe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,me]}],filter:[{filter:["","none",ye,me]}],blur:[{blur:ut()}],brightness:[{brightness:[De,ye,me]}],contrast:[{contrast:[De,ye,me]}],"drop-shadow":[{"drop-shadow":["","none",v,Ja,Qa]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",De,ye,me]}],"hue-rotate":[{"hue-rotate":[De,ye,me]}],invert:[{invert:["",De,ye,me]}],saturate:[{saturate:[De,ye,me]}],sepia:[{sepia:["",De,ye,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,me]}],"backdrop-blur":[{"backdrop-blur":ut()}],"backdrop-brightness":[{"backdrop-brightness":[De,ye,me]}],"backdrop-contrast":[{"backdrop-contrast":[De,ye,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",De,ye,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[De,ye,me]}],"backdrop-invert":[{"backdrop-invert":["",De,ye,me]}],"backdrop-opacity":[{"backdrop-opacity":[De,ye,me]}],"backdrop-saturate":[{"backdrop-saturate":[De,ye,me]}],"backdrop-sepia":[{"backdrop-sepia":["",De,ye,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":W()}],"border-spacing-x":[{"border-spacing-x":W()}],"border-spacing-y":[{"border-spacing-y":W()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[De,"initial",ye,me]}],ease:[{ease:["linear","initial",E,ye,me]}],delay:[{delay:[De,ye,me]}],animate:[{animate:["none",k,ye,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,ye,me]}],"perspective-origin":[{"perspective-origin":K()}],rotate:[{rotate:le()}],"rotate-x":[{"rotate-x":le()}],"rotate-y":[{"rotate-y":le()}],"rotate-z":[{"rotate-z":le()}],scale:[{scale:Ve()}],"scale-x":[{"scale-x":Ve()}],"scale-y":[{"scale-y":Ve()}],"scale-z":[{"scale-z":Ve()}],"scale-3d":["scale-3d"],skew:[{skew:rt()}],"skew-x":[{"skew-x":rt()}],"skew-y":[{"skew-y":rt()}],transform:[{transform:[ye,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:K()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,me]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[De,Ds,Si,mf]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Uj=vj(Mj);function We(...e){return Uj(c_(e))}const zj=ij("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ye=Se.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>O.jsx("button",{className:We(zj({variant:t,size:n,className:e})),ref:o,...i}));Ye.displayName="Button";function $j({className:e}){return O.jsx("svg",{className:We("w-4 h-4 fill-current",e),viewBox:"0 0 20 20",children:O.jsx("path",{d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"})})}function bo(e){return(...t)=>e(...t).catch(n=>{(n==null?void 0:n.name)==="AbortError"?console.debug(n):console.error(n)})}function Fj({item:e}){const t=Kl(_e,"todoItems",e),[n,r]=Se.useState(!1),[i,o]=Se.useState(!1),[s,a]=Se.useState(!1),c=v=>{_e.todoItems.update(e.id,{done:v})},d=async()=>{await _e.todoItems.delete(e.id)},f=()=>{t.update("title")&&a(!0)},p=v=>{(v.key==="Enter"||v.key==="Escape")&&(v.preventDefault(),a(!1))};Se.useEffect(()=>{let v;return n&&t.delete()?(o(!0),v=setTimeout(()=>{o(!1)},2e3)):o(!1),()=>{v&&clearTimeout(v)}},[n,t]);const m=v=>{t.delete()&&(o(!0),r(!1),setTimeout(()=>r(!0),10))};return O.jsxs("div",{className:We("group flex items-center gap-3 py-3 px-4 border-b border-blue-200/60 last:border-b-0 transition-colors",e.done?"bg-blue-50 dark:bg-blue-900/20":"bg-background hover:bg-muted/30"),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:m,children:[O.jsxs("label",{className:"relative flex items-center cursor-pointer",children:[O.jsx("input",{type:"checkbox",disabled:!t.update("done"),checked:!!e.done,onChange:v=>c(v.target.checked),className:"sr-only"}),O.jsx("div",{className:We("w-6 h-6 border-2 rounded flex items-center justify-center transition-all duration-200",e.done?"bg-blue-500 border-blue-500 text-white shadow-sm":"border-gray-300 hover:border-blue-400 bg-white",!t.update("done")&&"opacity-50 cursor-not-allowed"),children:e.done&&O.jsx($j,{})})]}),O.jsx("div",{className:"flex-1",children:s?O.jsx("input",{type:"text",defaultValue:e.title,onChange:bo(v=>_e.todoItems.update(e.id,{title:v.target.value})),onKeyDown:p,onBlur:()=>a(!1),autoFocus:!0,className:We("w-full text-sm leading-relaxed bg-transparent border-none outline-none focus:ring-1 focus:ring-blue-500 rounded px-1 py-0.5",e.done?"text-foreground/80":"text-foreground")}):O.jsx("div",{className:We("text-sm leading-relaxed cursor-pointer hover:bg-muted/30 rounded px-1 py-0.5 transition-colors",e.done?"text-foreground/80":"text-foreground",!t.update("title")&&"cursor-default hover:bg-transparent"),onClick:f,title:t.update("title")?"Click to edit":void 0,children:e.title})}),O.jsx(Ye,{variant:"ghost",size:"icon",onClick:d,title:"Delete item",className:We("h-8 w-8 text-muted-foreground hover:text-destructive transition-all duration-300",i?"opacity-100 translate-x-0":"opacity-0 translate-x-2 pointer-events-none"),children:O.jsx(zc,{className:"h-4 w-4"})})]})}const Tl=Se.forwardRef(({className:e,type:t,...n},r)=>O.jsx("input",{type:t,className:We("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Tl.displayName="Input";function Bj({todoList:e}){const[t,n]=Se.useState(""),r=async i=>{i.preventDefault(),t.trim()&&(await _e.todoItems.add({todoListId:e.id,realmId:e.realmId,title:t.trim()}),n(""))};return O.jsxs("form",{onSubmit:r,className:"flex gap-2",children:[O.jsx("div",{className:"flex-1",children:O.jsx(Tl,{type:"text",placeholder:"Add todo item ...",value:t,onChange:i=>n(i.target.value)})}),O.jsx(Ye,{type:"submit",size:"icon",disabled:!t.trim(),title:"Add item",children:O.jsx(l_,{className:"h-4 w-4"})})]})}function Kj({todoList:e,member:t,access:n}){const r=Fl(_e.cloud.roles)||{};return O.jsxs("select",{disabled:e.owner===t.userId&&t.userId===_e.cloud.currentUserId,style:{border:0},value:n,onChange:i=>Vj(e,t,n,i.target.value),children:[O.jsx("option",{value:"owner",disabled:!t.userId,children:"Owner"}),Object.entries(r).map(([i,o])=>O.jsx("option",{value:i,children:o.displayName},i)),!r[n]&&n!=="owner"&&O.jsx("option",{children:"(unknown)"},n)]})}function Vj(e,t,n,r){const i=Us(e.id);return _e.transaction("rw",_e.todoLists,_e.members,_e.realms,()=>{if(n!=="owner"&&r==="owner"){if(!t.userId)throw new Error("Cannot give ownership to user before invite is accepted.");_e.members.where({realmId:i,userId:e.owner}).modify({roles:["manager"]}),_e.members.where({realmId:i}).modify({owner:t.userId}),_e.todoLists.update(e,{owner:t.userId}),_e.realms.update(i,{owner:t.userId})}r!=="owner"&&_e.members.update(t,{permissions:{},roles:[r]}),n==="owner"&&r!=="owner"&&(_e.todoLists.update(e,{owner:_e.cloud.currentUserId}),_e.realms.update(i,{owner:_e.cloud.currentUserId}))})}function Wj({member:e,todoList:t}){var d;const n=Kl(_e,"members",e),r=Fl(_e.cloud.roles),i=(d=e.roles)==null?void 0:d[0],o=i?r==null?void 0:r[i]:null,s=e.userId===t.owner?"owner":i||"readonly",a=s==="owner"?"Owner":(o==null?void 0:o.displayName)||s,c=()=>s==="owner"?O.jsx(AO,{className:"h-4 w-4"}):O.jsx(a_,{className:"h-4 w-4"});return O.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-gray-50 rounded border border-gray-200 min-w-[100px]",children:[c(),n.update("roles")?O.jsx(Kj,{todoList:t,member:e,access:s}):O.jsx("span",{className:"text-sm font-medium",children:a})]})}const Hj={"alice@demo.local":{},"bob@demo.local":{},"foo@demo.local":{},"bar@demo.local":{}},zh={demoUsers:Hj};function qj({todoList:e}){const[t,n]=Se.useState(""),[r,i]=Se.useState(""),o=Bl(async()=>await _e.members.where({realmId:e.realmId}).toArray(),[e.realmId]),[s,a]=Se.useState(!1),c=Kl(e);return O.jsxs("div",{className:"space-y-3",children:[o&&o.length>0&&O.jsxs("div",{children:[O.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Shared with:"}),O.jsx("div",{className:"space-y-1",children:o==null?void 0:o.map(d=>O.jsx(Gj,{todoList:e,member:d},d.id))})]}),O.jsx("div",{className:"border-t border-border pt-3",children:c.add("members")&&O.jsxs("div",{className:"space-y-3",children:[O.jsxs("h4",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[O.jsx(QO,{className:"h-4 w-4"}),"Invite someone?"]}),O.jsx("div",{className:"space-y-1",children:Object.keys(zh.demoUsers).filter(d=>d!==_e.cloud.currentUserId).map(d=>O.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded border border-blue-100",children:[O.jsx("span",{className:"text-sm text-foreground",children:d}),O.jsx(Ye,{size:"sm",variant:"outline",onClick:()=>{a(!1),e.shareWith(d,d,!0,["doer"])},className:"h-7 px-3 text-xs border-blue-200 text-blue-600 hover:bg-blue-50",children:"Invite"})]},d))}),s?O.jsxs("form",{onSubmit:d=>{d.preventDefault(),a(!1),e.shareWith(t,r,!0,["doer"]),n(""),i("")},className:"space-y-3 p-4 bg-muted/50 rounded-lg",children:[O.jsx(Tl,{type:"email",placeholder:"Email address",value:r,onChange:d=>i(d.target.value)}),O.jsx(Tl,{type:"text",placeholder:"Name",value:t,onChange:d=>n(d.target.value)}),O.jsxs("div",{className:"flex gap-2",children:[O.jsxs(Ye,{type:"submit",disabled:!/@/.test(r),size:"sm",className:"flex items-center gap-2",children:[O.jsx(gv,{className:"h-4 w-4"}),"Send invite"]}),O.jsx(Ye,{type:"button",variant:"outline",size:"sm",onClick:()=>a(!1),children:"Cancel"})]})]}):O.jsx("div",{className:"mt-2",children:O.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"flex items-center gap-2 h-8 px-3 text-xs border-blue-200 text-blue-600 hover:bg-blue-50",children:[O.jsx(gv,{className:"h-4 w-4"}),"Invite by email address"]})})]})})]})}function Gj({member:e,todoList:t}){var s,a;const n=Kl(_e,"members",e),r=e.userId===_e.cloud.currentUserId,i=e.userId===t.owner;let o=e.name||e.email||e.userId;return r&&(o+=" (me)"),O.jsxs("div",{className:`flex items-center justify-between py-2 px-3 bg-white rounded border border-blue-100 ${e.accepted?"":"opacity-50"}`,children:[O.jsxs("div",{className:"flex-1",children:[O.jsx("span",{className:"text-sm text-foreground font-medium",children:o}),!e.rejected&&!e.accepted&&O.jsx("span",{className:"text-xs text-muted-foreground italic ml-2",children:"Pending invite"}),e.rejected&&O.jsx("span",{className:"text-xs text-muted-foreground italic ml-2",children:"Rejected"})]}),O.jsxs("div",{className:"flex items-center gap-2 min-w-[140px] justify-end",children:[O.jsx(Wj,{member:e,todoList:t}),O.jsx("div",{className:"w-8 flex justify-center ml-1",children:n.delete()&&!i?O.jsx(Ye,{variant:"ghost",size:"sm",onClick:()=>t.unshareWith(e),className:"text-red-500 hover:text-red-700 hover:bg-red-50 h-8 w-8 p-0",children:O.jsx(zc,{className:"h-4 w-4"})}):!i&&e.userId===_e.cloud.currentUserId&&((((s=e.accepted)==null?void 0:s.getTime())||0)>(((a=e.rejected)==null?void 0:a.getTime())||0)?O.jsx(Ye,{variant:"outline",size:"sm",onClick:()=>t.leave(),className:"h-7 px-3 text-xs border-red-300 text-red-600 hover:bg-red-50 hover:border-red-400 min-w-[50px]",children:"Leave"}):O.jsx(Ye,{variant:"default",size:"sm",onClick:()=>_e.members.update(e.id,{accepted:new Date,rejected:void 0}),className:"h-7 px-3 text-xs bg-blue-500 hover:bg-blue-600",children:"Accept"}))})]})]})}function Yj(e,t,n=!1){return[Bl(()=>_e.openCloseStates.get([e,t]),[e,t],n)??n,o=>_e.openCloseStates.put(o,[e,t])]}function Qj({todoList:e}){const[t,n]=Se.useState(!1),r=Bl(()=>_e.todoItems.where({todoListId:e.id}).toArray(),[e.id]),i=Kl(e),[o,s]=Yj("sharing-menu",e.id,!1);if(!r)return null;const a=async()=>{confirm(`Are you sure you want to delete "${e.title}" and all its items?`)&&await e.delete()},c=()=>{i.update("title")&&n(!0)},d=f=>{(f.key==="Enter"||f.key==="Escape")&&(f.preventDefault(),n(!1))};return O.jsxs("div",{className:"border-b border-border bg-background",children:[O.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-blue-300/70 bg-blue-500 dark:bg-blue-600",children:[O.jsx("div",{className:"flex-1 mr-4",children:t?O.jsx("input",{type:"text",defaultValue:e.title,onChange:bo(f=>_e.todoLists.update(e.id,{title:f.target.value})),onKeyDown:d,onBlur:()=>n(!1),autoFocus:!0,className:We("text-lg font-semibold bg-transparent border-none outline-none focus:ring-1 focus:ring-white/50 rounded px-2 py-1 text-white placeholder-white/70 w-full")}):O.jsx("h2",{className:We("text-lg font-semibold text-white cursor-pointer hover:bg-white/10 rounded px-2 py-1 transition-colors",!i.update("title")&&"cursor-default hover:bg-transparent"),onClick:c,title:i.update("title")?"Click to edit list name":void 0,children:e.title})}),O.jsxs("div",{className:"flex items-center gap-2",children:[!e.isPrivate()&&O.jsx(Ye,{variant:"ghost",size:"icon",onClick:()=>s(!o),title:"Share list",className:We("text-white hover:bg-blue-600 transition-all duration-200",o&&"bg-blue-600/50"),children:O.jsx(qO,{className:We("h-4 w-4 transition-transform duration-200",o&&"rotate-180")})}),i.delete()&&O.jsx(Ye,{variant:"ghost",size:"icon",onClick:a,title:"Delete list",className:"text-white hover:bg-blue-600",children:O.jsx(zc,{className:"h-4 w-4"})})]})]}),O.jsx("div",{className:We("overflow-hidden transition-all duration-300 ease-in-out",o?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:O.jsx("div",{className:"px-4 py-4 bg-blue-50/70 dark:bg-blue-900/15 border-b border-blue-200/60",children:O.jsx(qj,{todoList:e})})}),O.jsxs("div",{className:"px-0 py-0",children:[r.map(f=>O.jsx(Fj,{item:f},f.id)),i.add("todoItems")&&O.jsx("div",{className:"px-4 py-3 border-b border-blue-200/60 bg-background",children:O.jsx(Bj,{todoList:e})})]})]})}function Jj(){const e=Bl(()=>_e.todoLists.toArray());return e?O.jsx("div",{className:"w-full",children:e.map(t=>O.jsx(Qj,{todoList:t},t.id))}):null}const Nl=Se.forwardRef(({className:e,...t},n)=>O.jsx("div",{ref:n,className:We("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Nl.displayName="Card";const Pl=Se.forwardRef(({className:e,...t},n)=>O.jsx("div",{ref:n,className:We("flex flex-col space-y-1.5 p-6",e),...t}));Pl.displayName="CardHeader";const Dl=Se.forwardRef(({className:e,...t},n)=>O.jsx("h3",{ref:n,className:We("font-semibold leading-none tracking-tight",e),...t}));Dl.displayName="CardTitle";const Al=Se.forwardRef(({className:e,...t},n)=>O.jsx("p",{ref:n,className:We("text-sm text-muted-foreground",e),...t}));Al.displayName="CardDescription";const Rl=Se.forwardRef(({className:e,...t},n)=>O.jsx("div",{ref:n,className:We("p-6 pt-0",e),...t}));Rl.displayName="CardContent";const Xj=Se.forwardRef(({className:e,...t},n)=>O.jsx("div",{ref:n,className:We("flex items-center p-6 pt-0",e),...t}));Xj.displayName="CardFooter";function Zj(){const[e,t]=Se.useState(!1),[n,r]=Se.useState(""),i=Bl(async()=>await _e.todoLists.count()>0),o=()=>{n.trim()&&(_e.todoLists.add({title:n.trim()}),r(""),t(!1))};return e?O.jsxs(Nl,{className:"w-full sm:max-w-md",children:[O.jsxs(Pl,{children:[O.jsxs(Dl,{className:"flex items-center gap-2",children:[O.jsx(l_,{className:"h-5 w-5"}),"New Todo List"]}),O.jsx(Al,{children:"Give your list a name to get started"})]}),O.jsxs(Rl,{className:"space-y-4",children:[O.jsx(Tl,{type:"text",autoFocus:!0,placeholder:"Name of list...",value:n,onChange:s=>r(s.target.value),onKeyUp:s=>{s.key==="Enter"?o():s.key==="Escape"&&(t(!1),r(""))}}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx(Ye,{onClick:o,disabled:!n.trim(),children:"Create List"}),O.jsx(Ye,{variant:"outline",onClick:()=>{t(!1),r("")},children:"Cancel"})]})]})]}):O.jsxs(Ye,{onClick:()=>t(!0),size:"lg",variant:"outline",className:"w-full sm:w-auto flex items-center gap-2 border-slate-300 text-slate-700 hover:bg-slate-50",children:[O.jsx(LO,{className:"h-4 w-4"}),i?"Add another list":"Create ToDo List"]})}function eT(){const e=async()=>{confirm("Are you sure you want to reset the database? This will delete all your local data and reload the app.")&&(await _e.delete(),location.reload())};return O.jsxs(Ye,{variant:"outline",size:"lg",onClick:e,className:"w-full sm:w-auto flex items-center gap-2 border-red-300 text-red-700 bg-red-50 hover:bg-red-100 hover:border-red-400",children:[O.jsx(WO,{className:"h-4 w-4"}),"Factory reset client"]})}var tT=typeof window<"u",nT=tT?Se.useLayoutEffect:Se.useEffect;function sm(e,t){var n=Se.useState(t),r=n[0],i=n[1];return nT(function(){var o=e.subscribe(i);return function(){return o.unsubscribe()}},[e]),r}function Sv({className:e}){const t=sm(_e.cloud.syncState),n=We("text-muted-foreground",e);switch(t==null?void 0:t.status){case"not-started":return O.jsx("div",{title:"Sync not started",children:O.jsx(mv,{className:n})});case"connecting":return O.jsx("div",{title:"Connecting to cloud...",children:O.jsx(UO,{className:We(n,"animate-spin")})});case"connected":return O.jsx("div",{title:"Connected and syncing",children:O.jsx(rj,{className:We(n,"text-green-500")})});case"disconnected":return O.jsx("div",{title:"Connection sleeping - will reconnect when active",children:O.jsx(NO,{className:We(n,"text-blue-400")})});case"offline":return O.jsx("div",{title:t.error?String(t.error):"Offline",children:O.jsx(tj,{className:We(n,"text-orange-500")})});case"error":return O.jsx("div",{title:t.error?String(t.error):"Connection error",children:O.jsx(jO,{className:We(n,"text-red-500")})});default:return O.jsx("div",{title:"Sync status unknown",children:O.jsx(mv,{className:n})})}}const Ev=({children:e,...t})=>{const[n,r]=Se.useState(!1);return O.jsx("div",{className:"relative inline-block text-left",...t,children:Se.Children.map(e,i=>{if(Se.isValidElement(i)){if(i.type===oc)return Se.cloneElement(i,{onClick:()=>r(!n),"aria-expanded":n});if(i.type===sc)return Se.cloneElement(i,{isOpen:n,onClose:()=>r(!1)})}return i})})},oc=Se.forwardRef(({className:e,children:t,...n},r)=>O.jsx("button",{ref:r,className:We("inline-flex w-full justify-center gap-x-1.5 rounded-md bg-background px-3 py-2 text-sm font-semibold text-foreground shadow-sm ring-1 ring-inset ring-border hover:bg-accent",e),...n,children:t}));oc.displayName="DropdownMenuTrigger";const sc=Se.forwardRef(({className:e,align:t="end",isOpen:n,onClose:r,children:i,...o},s)=>(Se.useEffect(()=>{const a=c=>{s&&"current"in s&&s.current&&!s.current.contains(c.target)&&(r==null||r())};if(n)return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[n,r,s]),n?O.jsx("div",{ref:s,className:We("absolute z-10 mt-2 w-56 origin-top-right rounded-md bg-popover shadow-lg ring-1 ring-border ring-opacity-5 focus:outline-none",t==="end"?"right-0":"left-0",e),...o,children:Se.Children.map(i,a=>Se.isValidElement(a)&&a.type===nl?Se.cloneElement(a,{onClick:c=>{var d,f;(f=(d=a.props).onClick)==null||f.call(d,c),r==null||r()}}):a)}):null));sc.displayName="DropdownMenuContent";const nl=Se.forwardRef(({className:e,...t},n)=>O.jsx("button",{ref:n,className:We("block w-full px-4 py-2 text-left text-sm text-popover-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none",e),...t}));nl.displayName="DropdownMenuItem";const k_=Se.forwardRef(({className:e,...t},n)=>O.jsx("div",{ref:n,className:We("my-1 h-px bg-border",e),...t}));k_.displayName="DropdownMenuSeparator";const $h=Se.forwardRef(({className:e,...t},n)=>O.jsx("div",{ref:n,className:We("px-4 py-2 text-xs font-semibold text-muted-foreground",e),...t}));$h.displayName="DropdownMenuLabel";function Cv(){return _e.cloud.logout().catch(e=>{console.log("Logout cancelled",e)})}function rT(){const e=sm(_e.cloud.currentUser),[t,n]=Se.useState(!1);return O.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background border-b border-border",children:O.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[O.jsxs("div",{className:"flex h-16 items-center justify-between",children:[O.jsx("div",{className:"flex items-center",children:O.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Dexie Cloud ToDo App"})}),O.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[O.jsx(Sv,{className:"h-5 w-5"}),e!=null&&e.isLoggedIn?O.jsxs(Ev,{children:[O.jsx(oc,{children:O.jsxs(Ye,{variant:"ghost",className:"flex items-center gap-2",children:[O.jsx(a_,{className:"h-4 w-4"}),e.name,O.jsx(pv,{className:"h-4 w-4"})]})}),O.jsx(sc,{children:O.jsxs(nl,{onClick:()=>Cv(),children:[O.jsx(yv,{className:"mr-2 h-4 w-4"}),"Logout"]})})]}):O.jsxs(Ev,{children:[O.jsx(oc,{children:O.jsxs(Ye,{variant:"outline",className:"flex items-center gap-2",children:["Sign in or create account",O.jsx(pv,{className:"h-4 w-4"})]})}),O.jsxs(sc,{children:[O.jsx($h,{children:"Sign in a demo user"}),Object.keys(zh.demoUsers).map(r=>O.jsx(nl,{onClick:bo(()=>_e.cloud.login({grant_type:"demo",email:r})),children:r},r)),O.jsx(k_,{}),O.jsx($h,{children:"Sign in real user"}),O.jsx(nl,{onClick:bo(()=>_e.cloud.login()),children:"Sign in / sign up yourself"})]})]})]}),O.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[O.jsx(Sv,{className:"h-5 w-5"}),O.jsx(Ye,{variant:"ghost",size:"icon",onClick:()=>n(!t),children:O.jsx(BO,{className:"h-5 w-5"})})]})]}),t&&O.jsx("div",{className:"md:hidden border-t border-border",children:O.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:e!=null&&e.isLoggedIn?O.jsxs("div",{className:"space-y-1",children:[O.jsxs("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:["Signed in as ",e.name]}),O.jsxs(Ye,{variant:"ghost",className:"w-full justify-start",onClick:()=>{Cv(),n(!1)},children:[O.jsx(yv,{className:"mr-2 h-4 w-4"}),"Logout"]})]}):O.jsxs("div",{className:"space-y-1",children:[O.jsx("div",{className:"px-3 py-2 text-sm font-medium text-muted-foreground",children:"Sign in a demo user"}),Object.keys(zh.demoUsers).map(r=>O.jsx(Ye,{variant:"ghost",className:"w-full justify-start",onClick:bo(async()=>{await _e.cloud.login({grant_type:"demo",email:r}),n(!1)}),children:r},r)),O.jsx("div",{className:"border-t border-border my-2"}),O.jsx("div",{className:"px-3 py-2 text-sm font-medium text-muted-foreground",children:"Sign in real user"}),O.jsx(Ye,{variant:"outline",className:"w-full justify-start",onClick:bo(async()=>{await _e.cloud.login(),n(!1)}),children:"Sign in / sign up yourself"})]})})})]})})}function iT(){const e=sm(_e.cloud.invites,[]);return e.length===0?null:O.jsxs(Nl,{children:[O.jsxs(Pl,{children:[O.jsxs(Dl,{className:"flex items-center gap-2",children:[O.jsx(ZO,{className:"h-5 w-5"}),"You've got invited!"]}),O.jsxs(Al,{children:["You have ",e.length," pending invitation",e.length>1?"s":""]})]}),O.jsx(Rl,{children:O.jsx("div",{className:"space-y-4",children:e.map(t=>{var n,r;return O.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[O.jsxs("div",{className:"flex-1",children:[O.jsx("div",{className:"font-medium",children:(n=t.realm)==null?void 0:n.name}),O.jsxs("div",{className:"text-sm text-muted-foreground",children:["Invited by ",(r=t.invitedBy)==null?void 0:r.name]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(Ye,{size:"sm",onClick:()=>t.accept(),disabled:!!t.accepted,variant:t.accepted?"secondary":"default",children:t.accepted?"Accepted":"Accept"}),O.jsx(Ye,{size:"sm",variant:"outline",onClick:()=>t.reject(),disabled:!!t.rejected,children:t.rejected?"Rejected":"Reject"}),O.jsx(Ye,{size:"sm",variant:"ghost",onClick:()=>_e.members.delete(t.id),title:"Remove invite",children:O.jsx(zc,{className:"h-4 w-4"})})]})]},t.id)})})})]})}function oT(){return O.jsxs("div",{className:"min-h-screen bg-background",children:[O.jsx(rT,{}),O.jsxs("main",{className:"pt-16",children:[O.jsxs("div",{className:"max-w-4xl mx-auto px-4 pb-2",children:[O.jsx(sT,{}),O.jsx(iT,{})]}),O.jsx(Jj,{}),O.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:O.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[O.jsx(Zj,{}),O.jsx(eT,{})]})})]})]})}function sT(){var r;const e=Fl(_e.cloud.currentUser);if(!e)return null;const{license:t}=e;if(!t||t.status==="ok"&&t.validUntil===void 0&&t.evalDaysLeft===void 0)return null;if(t.status!=="ok")return O.jsxs(Nl,{className:"mb-6 border-destructive",children:[O.jsx(Pl,{children:O.jsx(Dl,{className:"text-destructive",children:"License Required"})}),O.jsxs(Rl,{className:"space-y-4",children:[O.jsx(Al,{children:"No valid license. You are in offline mode until a valid license is purchased."}),O.jsxs("div",{className:"space-y-2",children:[O.jsx(Ye,{asChild:!0,children:O.jsx("a",{href:"https://example.com",children:"Purchase License"})}),O.jsx(Ye,{variant:"destructive",onClick:i=>{i.preventDefault(),i.stopPropagation(),lT(e)},children:"Delete Account & All Data"})]})]})]});let n=t.evalDaysLeft;if(n===void 0){const i=((r=t.validUntil)==null?void 0:r.getTime())??1/0;n=Math.round((i-Date.now())/(24*60*60*1e3))}return n<7?O.jsxs(Nl,{className:"mb-6 border-yellow-500",children:[O.jsx(Pl,{children:O.jsx(Dl,{className:"text-yellow-600",children:"License Expiring Soon"})}),O.jsxs(Rl,{className:"space-y-4",children:[O.jsxs(Al,{children:["License expires in ",n," days."]}),O.jsx(Ye,{asChild:!0,children:O.jsx("a",{href:"https://example.com",children:"Purchase Production License"})})]})]}):null}async function lT(e){var n;!(e!=null&&e.userId)||!confirm(`Are you sure you want to delete your user completely along all stored data for ${e.userId}? Private data will be deleted. Shared data will not be deleted. This action cannot be undone.`)||(await fetch(`${(n=_e.cloud.options)==null?void 0:n.databaseUrl}/users/${e.userId}`,{method:"DELETE",headers:{Authorization:`Bearer ${e.accessToken}`}}),await _e.cloud.logout({force:!0}))}function aT(e){return"serviceWorker"in navigator?window.addEventListener("load",async()=>{try{let t="./";t.endsWith("/")||(t+="/");const n=await navigator.serviceWorker.register(`${t}sw.js`,{scope:t});console.log("🔧 Service Worker: Registration successful",n),n.addEventListener("updatefound",()=>{const r=n.installing;r&&r.addEventListener("statechange",()=>{var i,o,s,a;r.state==="installed"&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed."),(i=e==null?void 0:e.onUpdate)==null||i.call(e,n),(o=e==null?void 0:e.onNeedRefresh)==null||o.call(e)):(console.log("App ready to work offline."),(s=e==null?void 0:e.onSuccess)==null||s.call(e,n),(a=e==null?void 0:e.onOfflineReady)==null||a.call(e)))})})}catch(t){console.error("🚨 Service worker registration failed:",t),t instanceof Error&&console.error("🚨 Error details:",{name:t.name,message:t.message,stack:t.stack})}}):"serviceWorker"in navigator||console.log("🚫 Service Worker: Not supported in this browser"),()=>{}}window.Dexie=Re;Re.debug=!0;const uT=document.getElementById("root"),cT=$w(uT);cT.render(O.jsx(io.StrictMode,{children:O.jsx(oT,{})}));aT();
//# sourceMappingURL=index-BXYc-Prx.js.map
