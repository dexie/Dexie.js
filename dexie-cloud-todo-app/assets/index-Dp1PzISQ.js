var hb=Object.defineProperty;var pb=(n,e,r)=>e in n?hb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var bo=(n,e,r)=>pb(n,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const f of a.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(l){if(l.ep)return;l.ep=!0;const a=r(l);fetch(l.href,a)}})();var mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zf={exports:{}},ga={},Ff={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function yb(){if(ry)return ut;ry=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),k=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=k&&D[k]||D["@@iterator"],typeof D=="function"?D:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,T={};function z(D,Q,ye){this.props=D,this.context=Q,this.refs=T,this.updater=ye||S}z.prototype.isReactComponent={},z.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ne(){}ne.prototype=z.prototype;function ee(D,Q,ye){this.props=D,this.context=Q,this.refs=T,this.updater=ye||S}var q=ee.prototype=new ne;q.constructor=ee,I(q,z.prototype),q.isPureReactComponent=!0;var se=Array.isArray,Se=Object.prototype.hasOwnProperty,fe={current:null},Ee={key:!0,ref:!0,__self:!0,__source:!0};function be(D,Q,ye){var Oe,Ke={},$e=null,Le=null;if(Q!=null)for(Oe in Q.ref!==void 0&&(Le=Q.ref),Q.key!==void 0&&($e=""+Q.key),Q)Se.call(Q,Oe)&&!Ee.hasOwnProperty(Oe)&&(Ke[Oe]=Q[Oe]);var qe=arguments.length-2;if(qe===1)Ke.children=ye;else if(1<qe){for(var ae=Array(qe),et=0;et<qe;et++)ae[et]=arguments[et+2];Ke.children=ae}if(D&&D.defaultProps)for(Oe in qe=D.defaultProps,qe)Ke[Oe]===void 0&&(Ke[Oe]=qe[Oe]);return{$$typeof:n,type:D,key:$e,ref:Le,props:Ke,_owner:fe.current}}function Re(D,Q){return{$$typeof:n,type:D.type,key:Q,ref:D.ref,props:D.props,_owner:D._owner}}function tt(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function pe(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ye){return Q[ye]})}var ze=/\/+/g;function We(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?pe(""+D.key):Q.toString(36)}function He(D,Q,ye,Oe,Ke){var $e=typeof D;($e==="undefined"||$e==="boolean")&&(D=null);var Le=!1;if(D===null)Le=!0;else switch($e){case"string":case"number":Le=!0;break;case"object":switch(D.$$typeof){case n:case e:Le=!0}}if(Le)return Le=D,Ke=Ke(Le),D=Oe===""?"."+We(Le,0):Oe,se(Ke)?(ye="",D!=null&&(ye=D.replace(ze,"$&/")+"/"),He(Ke,Q,ye,"",function(et){return et})):Ke!=null&&(tt(Ke)&&(Ke=Re(Ke,ye+(!Ke.key||Le&&Le.key===Ke.key?"":(""+Ke.key).replace(ze,"$&/")+"/")+D)),Q.push(Ke)),1;if(Le=0,Oe=Oe===""?".":Oe+":",se(D))for(var qe=0;qe<D.length;qe++){$e=D[qe];var ae=Oe+We($e,qe);Le+=He($e,Q,ye,ae,Ke)}else if(ae=x(D),typeof ae=="function")for(D=ae.call(D),qe=0;!($e=D.next()).done;)$e=$e.value,ae=Oe+We($e,qe++),Le+=He($e,Q,ye,ae,Ke);else if($e==="object")throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Le}function Be(D,Q,ye){if(D==null)return D;var Oe=[],Ke=0;return He(D,Oe,"","",function($e){return Q.call(ye,$e,Ke++)}),Oe}function he(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(ye){(D._status===0||D._status===-1)&&(D._status=1,D._result=ye)},function(ye){(D._status===0||D._status===-1)&&(D._status=2,D._result=ye)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var me={current:null},F={transition:null},ue={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:F,ReactCurrentOwner:fe};function le(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:Be,forEach:function(D,Q,ye){Be(D,function(){Q.apply(this,arguments)},ye)},count:function(D){var Q=0;return Be(D,function(){Q++}),Q},toArray:function(D){return Be(D,function(Q){return Q})||[]},only:function(D){if(!tt(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ut.Component=z,ut.Fragment=r,ut.Profiler=l,ut.PureComponent=ee,ut.StrictMode=o,ut.Suspense=g,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,ut.act=le,ut.cloneElement=function(D,Q,ye){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Oe=I({},D.props),Ke=D.key,$e=D.ref,Le=D._owner;if(Q!=null){if(Q.ref!==void 0&&($e=Q.ref,Le=fe.current),Q.key!==void 0&&(Ke=""+Q.key),D.type&&D.type.defaultProps)var qe=D.type.defaultProps;for(ae in Q)Se.call(Q,ae)&&!Ee.hasOwnProperty(ae)&&(Oe[ae]=Q[ae]===void 0&&qe!==void 0?qe[ae]:Q[ae])}var ae=arguments.length-2;if(ae===1)Oe.children=ye;else if(1<ae){qe=Array(ae);for(var et=0;et<ae;et++)qe[et]=arguments[et+2];Oe.children=qe}return{$$typeof:n,type:D.type,key:Ke,ref:$e,props:Oe,_owner:Le}},ut.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:a,_context:D},D.Consumer=D},ut.createElement=be,ut.createFactory=function(D){var Q=be.bind(null,D);return Q.type=D,Q},ut.createRef=function(){return{current:null}},ut.forwardRef=function(D){return{$$typeof:h,render:D}},ut.isValidElement=tt,ut.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:he}},ut.memo=function(D,Q){return{$$typeof:y,type:D,compare:Q===void 0?null:Q}},ut.startTransition=function(D){var Q=F.transition;F.transition={};try{D()}finally{F.transition=Q}},ut.unstable_act=le,ut.useCallback=function(D,Q){return me.current.useCallback(D,Q)},ut.useContext=function(D){return me.current.useContext(D)},ut.useDebugValue=function(){},ut.useDeferredValue=function(D){return me.current.useDeferredValue(D)},ut.useEffect=function(D,Q){return me.current.useEffect(D,Q)},ut.useId=function(){return me.current.useId()},ut.useImperativeHandle=function(D,Q,ye){return me.current.useImperativeHandle(D,Q,ye)},ut.useInsertionEffect=function(D,Q){return me.current.useInsertionEffect(D,Q)},ut.useLayoutEffect=function(D,Q){return me.current.useLayoutEffect(D,Q)},ut.useMemo=function(D,Q){return me.current.useMemo(D,Q)},ut.useReducer=function(D,Q,ye){return me.current.useReducer(D,Q,ye)},ut.useRef=function(D){return me.current.useRef(D)},ut.useState=function(D){return me.current.useState(D)},ut.useSyncExternalStore=function(D,Q,ye){return me.current.useSyncExternalStore(D,Q,ye)},ut.useTransition=function(){return me.current.useTransition()},ut.version="18.3.1",ut}var iy;function Wh(){return iy||(iy=1,Ff.exports=yb()),Ff.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function gb(){if(oy)return ga;oy=1;var n=Wh(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function f(h,g,y){var v,k={},x=null,S=null;y!==void 0&&(x=""+y),g.key!==void 0&&(x=""+g.key),g.ref!==void 0&&(S=g.ref);for(v in g)o.call(g,v)&&!a.hasOwnProperty(v)&&(k[v]=g[v]);if(h&&h.defaultProps)for(v in g=h.defaultProps,g)k[v]===void 0&&(k[v]=g[v]);return{$$typeof:e,type:h,key:x,ref:S,props:k,_owner:l.current}}return ga.Fragment=r,ga.jsx=f,ga.jsxs=f,ga}var sy;function vb(){return sy||(sy=1,zf.exports=gb()),zf.exports}var M=vb(),rt=Wh();const tl=Kg(rt);var vc={},Bf={exports:{}},Mn={},$f={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function wb(){return ly||(ly=1,(function(n){function e(F,ue){var le=F.length;F.push(ue);e:for(;0<le;){var D=le-1>>>1,Q=F[D];if(0<l(Q,ue))F[D]=ue,F[le]=Q,le=D;else break e}}function r(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var ue=F[0],le=F.pop();if(le!==ue){F[0]=le;e:for(var D=0,Q=F.length,ye=Q>>>1;D<ye;){var Oe=2*(D+1)-1,Ke=F[Oe],$e=Oe+1,Le=F[$e];if(0>l(Ke,le))$e<Q&&0>l(Le,Ke)?(F[D]=Le,F[$e]=le,D=$e):(F[D]=Ke,F[Oe]=le,D=Oe);else if($e<Q&&0>l(Le,le))F[D]=Le,F[$e]=le,D=$e;else break e}}return ue}function l(F,ue){var le=F.sortIndex-ue.sortIndex;return le!==0?le:F.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var g=[],y=[],v=1,k=null,x=3,S=!1,I=!1,T=!1,z=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(F){for(var ue=r(y);ue!==null;){if(ue.callback===null)o(y);else if(ue.startTime<=F)o(y),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=r(y)}}function se(F){if(T=!1,q(F),!I)if(r(g)!==null)I=!0,he(Se);else{var ue=r(y);ue!==null&&me(se,ue.startTime-F)}}function Se(F,ue){I=!1,T&&(T=!1,ne(be),be=-1),S=!0;var le=x;try{for(q(ue),k=r(g);k!==null&&(!(k.expirationTime>ue)||F&&!pe());){var D=k.callback;if(typeof D=="function"){k.callback=null,x=k.priorityLevel;var Q=D(k.expirationTime<=ue);ue=n.unstable_now(),typeof Q=="function"?k.callback=Q:k===r(g)&&o(g),q(ue)}else o(g);k=r(g)}if(k!==null)var ye=!0;else{var Oe=r(y);Oe!==null&&me(se,Oe.startTime-ue),ye=!1}return ye}finally{k=null,x=le,S=!1}}var fe=!1,Ee=null,be=-1,Re=5,tt=-1;function pe(){return!(n.unstable_now()-tt<Re)}function ze(){if(Ee!==null){var F=n.unstable_now();tt=F;var ue=!0;try{ue=Ee(!0,F)}finally{ue?We():(fe=!1,Ee=null)}}else fe=!1}var We;if(typeof ee=="function")We=function(){ee(ze)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,Be=He.port2;He.port1.onmessage=ze,We=function(){Be.postMessage(null)}}else We=function(){z(ze,0)};function he(F){Ee=F,fe||(fe=!0,We())}function me(F,ue){be=z(function(){F(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){I||S||(I=!0,he(Se))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Re=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return r(g)},n.unstable_next=function(F){switch(x){case 1:case 2:case 3:var ue=3;break;default:ue=x}var le=x;x=ue;try{return F()}finally{x=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,ue){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var le=x;x=F;try{return ue()}finally{x=le}},n.unstable_scheduleCallback=function(F,ue,le){var D=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?D+le:D):le=D,F){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=le+Q,F={id:v++,callback:ue,priorityLevel:F,startTime:le,expirationTime:Q,sortIndex:-1},le>D?(F.sortIndex=le,e(y,F),r(g)===null&&F===r(y)&&(T?(ne(be),be=-1):T=!0,me(se,le-D))):(F.sortIndex=Q,e(g,F),I||S||(I=!0,he(Se))),F},n.unstable_shouldYield=pe,n.unstable_wrapCallback=function(F){var ue=x;return function(){var le=x;x=ue;try{return F.apply(this,arguments)}finally{x=le}}}})(Kf)),Kf}var ay;function bb(){return ay||(ay=1,$f.exports=wb()),$f.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function kb(){if(uy)return Mn;uy=1;var n=Wh(),e=bb();function r(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function a(t,i){f(t,i),f(t+"Capture",i)}function f(t,i){for(l[t]=i,t=0;t<i.length;t++)o.add(i[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},k={};function x(t){return g.call(k,t)?!0:g.call(v,t)?!1:y.test(t)?k[t]=!0:(v[t]=!0,!1)}function S(t,i,s,c){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function I(t,i,s,c){if(i===null||typeof i>"u"||S(t,i,s,c))return!0;if(c)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function T(t,i,s,c,p,w,C){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=p,this.mustUseProperty=s,this.propertyName=t,this.type=i,this.sanitizeURL=w,this.removeEmptyString=C}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){z[t]=new T(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];z[i]=new T(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){z[t]=new T(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){z[t]=new T(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){z[t]=new T(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){z[t]=new T(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){z[t]=new T(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){z[t]=new T(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){z[t]=new T(t,5,!1,t.toLowerCase(),null,!1,!1)});var ne=/[\-:]([a-z])/g;function ee(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(ne,ee);z[i]=new T(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(ne,ee);z[i]=new T(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(ne,ee);z[i]=new T(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){z[t]=new T(t,1,!1,t.toLowerCase(),null,!1,!1)}),z.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){z[t]=new T(t,1,!1,t.toLowerCase(),null,!0,!0)});function q(t,i,s,c){var p=z.hasOwnProperty(i)?z[i]:null;(p!==null?p.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(I(i,s,p,c)&&(s=null),c||p===null?x(i)&&(s===null?t.removeAttribute(i):t.setAttribute(i,""+s)):p.mustUseProperty?t[p.propertyName]=s===null?p.type===3?!1:"":s:(i=p.attributeName,c=p.attributeNamespace,s===null?t.removeAttribute(i):(p=p.type,s=p===3||p===4&&s===!0?"":""+s,c?t.setAttributeNS(c,i,s):t.setAttribute(i,s))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),fe=Symbol.for("react.portal"),Ee=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),Re=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),pe=Symbol.for("react.context"),ze=Symbol.for("react.forward_ref"),We=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),F=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var le=Object.assign,D;function Q(t){if(D===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);D=i&&i[1]||""}return`
`+D+t}var ye=!1;function Oe(t,i){if(!t||ye)return"";ye=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Z){var c=Z}Reflect.construct(t,[],i)}else{try{i.call()}catch(Z){c=Z}t.call(i.prototype)}else{try{throw Error()}catch(Z){c=Z}t()}}catch(Z){if(Z&&c&&typeof Z.stack=="string"){for(var p=Z.stack.split(`
`),w=c.stack.split(`
`),C=p.length-1,j=w.length-1;1<=C&&0<=j&&p[C]!==w[j];)j--;for(;1<=C&&0<=j;C--,j--)if(p[C]!==w[j]){if(C!==1||j!==1)do if(C--,j--,0>j||p[C]!==w[j]){var R=`
`+p[C].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=C&&0<=j);break}}}finally{ye=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Q(t):""}function Ke(t){switch(t.tag){case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return t=Oe(t.type,!1),t;case 11:return t=Oe(t.type.render,!1),t;case 1:return t=Oe(t.type,!0),t;default:return""}}function $e(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ee:return"Fragment";case fe:return"Portal";case Re:return"Profiler";case be:return"StrictMode";case We:return"Suspense";case He:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pe:return(t.displayName||"Context")+".Consumer";case tt:return(t._context.displayName||"Context")+".Provider";case ze:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Be:return i=t.displayName||null,i!==null?i:$e(t.type)||"Memo";case he:i=t._payload,t=t._init;try{return $e(t(i))}catch{}}return null}function Le(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(i);case 8:return i===be?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function qe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ae(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function et(t){var i=ae(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,w=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return p.call(this)},set:function(C){c=""+C,w.call(this,C)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function _t(t){t._valueTracker||(t._valueTracker=et(t))}function Ve(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),c="";return t&&(c=ae(t)?t.checked?"true":"false":t.value),t=c,t!==s?(i.setValue(t),!0):!1}function ot(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ft(t,i){var s=i.checked;return le({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function vt(t,i){var s=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;s=qe(i.value!=null?i.value:s),t._wrapperState={initialChecked:c,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function gn(t,i){i=i.checked,i!=null&&q(t,"checked",i,!1)}function cr(t,i){gn(t,i);var s=qe(i.value),c=i.type;if(s!=null)c==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?jl(t,i.type,s):i.hasOwnProperty("defaultValue")&&jl(t,i.type,qe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function Fn(t,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,s||i===t.value||(t.value=i),t.defaultValue=i}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function jl(t,i,s){(i!=="number"||ot(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Xr=Array.isArray;function an(t,i,s,c){if(t=t.options,i){i={};for(var p=0;p<s.length;p++)i["$"+s[p]]=!0;for(s=0;s<t.length;s++)p=i.hasOwnProperty("$"+t[s].value),t[s].selected!==p&&(t[s].selected=p),p&&c&&(t[s].defaultSelected=!0)}else{for(s=""+qe(s),i=null,p=0;p<t.length;p++){if(t[p].value===s){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}i!==null||t[p].disabled||(i=t[p])}i!==null&&(i.selected=!0)}}function ys(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return le({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mi(t,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(r(92));if(Xr(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),s=i}t._wrapperState={initialValue:qe(s)}}function Tl(t,i){var s=qe(i.value),c=qe(i.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),i.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),c!=null&&(t.defaultValue=""+c)}function Ui(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Cr(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dr(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Cr(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zi,Fi=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,c,p){MSApp.execUnsafeLocalFunction(function(){return t(i,s,c,p)})}:t})(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(zi=zi||document.createElement("div"),zi.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=zi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function Zr(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ei=["Webkit","ms","Moz","O"];Object.keys(Ir).forEach(function(t){ei.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),Ir[i]=Ir[t]})});function Po(t,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||Ir.hasOwnProperty(t)&&Ir[t]?(""+i).trim():i+"px"}function gs(t,i){t=t.style;for(var s in i)if(i.hasOwnProperty(s)){var c=s.indexOf("--")===0,p=Po(s,i[s],c);s==="float"&&(s="cssFloat"),c?t.setProperty(s,p):t[s]=p}}var Or=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Me(t,i){if(i){if(Or[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function ti(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fr=null;function Bi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ce=null,jr=null,ni=null;function vs(t){if(t=na(t)){if(typeof Ce!="function")throw Error(r(280));var i=t.stateNode;i&&(i=Du(i),Ce(t.stateNode,t.type,i))}}function Nl(t){jr?ni?ni.push(t):ni=[t]:jr=t}function ws(){if(jr){var t=jr,i=ni;if(ni=jr=null,vs(t),i)for(t=0;t<i.length;t++)vs(i[t])}}function su(t,i){return t(i)}function lu(){}var Tr=!1;function ri(t,i,s){if(Tr)return t(i,s);Tr=!0;try{return su(t,i,s)}finally{Tr=!1,(jr!==null||ni!==null)&&(lu(),ws())}}function ii(t,i){var s=t.stateNode;if(s===null)return null;var c=Du(s);if(c===null)return null;s=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var $i=!1;if(h)try{var bt={};Object.defineProperty(bt,"passive",{get:function(){$i=!0}}),window.addEventListener("test",bt,bt),window.removeEventListener("test",bt,bt)}catch{$i=!1}function Ft(t,i,s,c,p,w,C,j,R){var Z=Array.prototype.slice.call(arguments,3);try{i.apply(s,Z)}catch(oe){this.onError(oe)}}var Do=!1,oi=null,si=!1,Ki=null,kd={onError:function(t){Do=!0,oi=t}};function Nr(t,i,s,c,p,w,C,j,R){Do=!1,oi=null,Ft.apply(kd,arguments)}function Vi(t,i,s,c,p,w,C,j,R){if(Nr.apply(this,arguments),Do){if(Do){var Z=oi;Do=!1,oi=null}else throw Error(r(198));si||(si=!0,Ki=Z)}}function vn(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function Ao(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function au(t){if(vn(t)!==t)throw Error(r(188))}function Pr(t){var i=t.alternate;if(!i){if(i=vn(t),i===null)throw Error(r(188));return i!==t?null:t}for(var s=t,c=i;;){var p=s.return;if(p===null)break;var w=p.alternate;if(w===null){if(c=p.return,c!==null){s=c;continue}break}if(p.child===w.child){for(w=p.child;w;){if(w===s)return au(p),t;if(w===c)return au(p),i;w=w.sibling}throw Error(r(188))}if(s.return!==c.return)s=p,c=w;else{for(var C=!1,j=p.child;j;){if(j===s){C=!0,s=p,c=w;break}if(j===c){C=!0,c=p,s=w;break}j=j.sibling}if(!C){for(j=w.child;j;){if(j===s){C=!0,s=w,c=p;break}if(j===c){C=!0,c=w,s=p;break}j=j.sibling}if(!C)throw Error(r(189))}}if(s.alternate!==c)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:i}function Pl(t){return t=Pr(t),t!==null?Dr(t):null}function Dr(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=Dr(t);if(i!==null)return i;t=t.sibling}return null}var Dl=e.unstable_scheduleCallback,bs=e.unstable_cancelCallback,At=e.unstable_shouldYield,li=e.unstable_requestPaint,wt=e.unstable_now,uu=e.unstable_getCurrentPriorityLevel,Ar=e.unstable_ImmediatePriority,Ro=e.unstable_UserBlockingPriority,Wi=e.unstable_NormalPriority,Al=e.unstable_LowPriority,Rr=e.unstable_IdlePriority,Lo=null,In=null;function cu(t){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Lo,t,void 0,(t.current.flags&128)===128)}catch{}}var Qe=Math.clz32?Math.clz32:ks,du=Math.log,fu=Math.LN2;function ks(t){return t>>>=0,t===0?32:31-(du(t)/fu|0)|0}var Lr=64,Mo=4194304;function Hi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uo(t,i){var s=t.pendingLanes;if(s===0)return 0;var c=0,p=t.suspendedLanes,w=t.pingedLanes,C=s&268435455;if(C!==0){var j=C&~p;j!==0?c=Hi(j):(w&=C,w!==0&&(c=Hi(w)))}else C=s&~p,C!==0?c=Hi(C):w!==0&&(c=Hi(w));if(c===0)return 0;if(i!==0&&i!==c&&(i&p)===0&&(p=c&-c,w=i&-i,p>=w||p===16&&(w&4194240)!==0))return i;if((c&4)!==0&&(c|=s&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=c;0<i;)s=31-Qe(i),p=1<<s,c|=t[s],i&=~p;return c}function St(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(t,i){for(var s=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,w=t.pendingLanes;0<w;){var C=31-Qe(w),j=1<<C,R=p[C];R===-1?((j&s)===0||(j&c)!==0)&&(p[C]=St(j,i)):R<=i&&(t.expiredLanes|=j),w&=~j}}function ai(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ui(){var t=Lr;return Lr<<=1,(Lr&4194240)===0&&(Lr=64),t}function Fo(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function ci(t,i,s){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-Qe(i),t[i]=s}function _s(t,i){var s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<s;){var p=31-Qe(s),w=1<<p;i[p]=0,c[p]=-1,t[p]=-1,s&=~w}}function xs(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var c=31-Qe(s),p=1<<c;p&i|t[c]&i&&(t[c]|=i),s&=~p}}var pt=0;function Rl(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var hu,ht,Ll,pu,mu,un=!1,hr=[],Bn=null,cn=null,pr=null,qi=new Map,Pt=new Map,$t=[],Bo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gi(t,i){switch(t){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":qi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(i.pointerId)}}function di(t,i,s,c,p,w){return t===null||t.nativeEvent!==w?(t={blockedOn:i,domEventName:s,eventSystemFlags:c,nativeEvent:w,targetContainers:[p]},i!==null&&(i=na(i),i!==null&&ht(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),t)}function Mr(t,i,s,c,p){switch(i){case"focusin":return Bn=di(Bn,t,i,s,c,p),!0;case"dragenter":return cn=di(cn,t,i,s,c,p),!0;case"mouseover":return pr=di(pr,t,i,s,c,p),!0;case"pointerover":var w=p.pointerId;return qi.set(w,di(qi.get(w)||null,t,i,s,c,p)),!0;case"gotpointercapture":return w=p.pointerId,Pt.set(w,di(Pt.get(w)||null,t,i,s,c,p)),!0}return!1}function yu(t){var i=Go(t.target);if(i!==null){var s=vn(i);if(s!==null){if(i=s.tag,i===13){if(i=Ao(s),i!==null){t.blockedOn=i,mu(t.priority,function(){Ll(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function On(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Yi(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var c=new s.constructor(s.type,s);fr=c,s.target.dispatchEvent(c),fr=null}else return i=na(s),i!==null&&ht(i),t.blockedOn=s,!1;i.shift()}return!0}function Ss(t,i,s){On(t)&&s.delete(i)}function gu(){un=!1,Bn!==null&&On(Bn)&&(Bn=null),cn!==null&&On(cn)&&(cn=null),pr!==null&&On(pr)&&(pr=null),qi.forEach(Ss),Pt.forEach(Ss)}function fi(t,i){t.blockedOn===i&&(t.blockedOn=null,un||(un=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gu)))}function mr(t){function i(p){return fi(p,t)}if(0<hr.length){fi(hr[0],t);for(var s=1;s<hr.length;s++){var c=hr[s];c.blockedOn===t&&(c.blockedOn=null)}}for(Bn!==null&&fi(Bn,t),cn!==null&&fi(cn,t),pr!==null&&fi(pr,t),qi.forEach(i),Pt.forEach(i),s=0;s<$t.length;s++)c=$t[s],c.blockedOn===t&&(c.blockedOn=null);for(;0<$t.length&&(s=$t[0],s.blockedOn===null);)yu(s),s.blockedOn===null&&$t.shift()}var Ur=se.ReactCurrentBatchConfig,$o=!0;function _d(t,i,s,c){var p=pt,w=Ur.transition;Ur.transition=null;try{pt=1,Ml(t,i,s,c)}finally{pt=p,Ur.transition=w}}function Ko(t,i,s,c){var p=pt,w=Ur.transition;Ur.transition=null;try{pt=4,Ml(t,i,s,c)}finally{pt=p,Ur.transition=w}}function Ml(t,i,s,c){if($o){var p=Yi(t,i,s,c);if(p===null)Od(t,i,c,Es,s),Gi(t,c);else if(Mr(p,t,i,s,c))c.stopPropagation();else if(Gi(t,c),i&4&&-1<Bo.indexOf(t)){for(;p!==null;){var w=na(p);if(w!==null&&hu(w),w=Yi(t,i,s,c),w===null&&Od(t,i,c,Es,s),w===p)break;p=w}p!==null&&c.stopPropagation()}else Od(t,i,c,null,s)}}var Es=null;function Yi(t,i,s,c){if(Es=null,t=Bi(c),t=Go(t),t!==null)if(i=vn(t),i===null)t=null;else if(s=i.tag,s===13){if(t=Ao(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return Es=t,null}function Vo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uu()){case Ar:return 1;case Ro:return 4;case Wi:case Al:return 16;case Rr:return 536870912;default:return 16}default:return 16}}var Jn=null,Ul=null,Cs=null;function vu(){if(Cs)return Cs;var t,i=Ul,s=i.length,c,p="value"in Jn?Jn.value:Jn.textContent,w=p.length;for(t=0;t<s&&i[t]===p[t];t++);var C=s-t;for(c=1;c<=C&&i[s-c]===p[w-c];c++);return Cs=p.slice(t,1<c?1-c:void 0)}function Qi(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function zl(){return!1}function en(t){function i(s,c,p,w,C){this._reactName=s,this._targetInst=p,this.type=c,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var j in t)t.hasOwnProperty(j)&&(s=t[j],this[j]=s?s(w):w[j]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ji:zl,this.isPropagationStopped=zl,this}return le(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),i}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=en(yr),Zi=le({},yr,{view:0,detail:0}),xd=en(Zi),zr,Wo,hi,eo=le({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&t.type==="mousemove"?(zr=t.screenX-hi.screenX,Wo=t.screenY-hi.screenY):Wo=zr=0,hi=t),zr)},movementY:function(t){return"movementY"in t?t.movementY:Wo}}),Is=en(eo),tn=le({},eo,{dataTransfer:0}),Ho=en(tn),qo=le({},Zi,{relatedTarget:0}),Os=en(qo),js=le({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=en(js),bu=le({},yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ts=en(bu),Fl=le({},yr,{data:0}),Fr=en(Fl),Bl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$l={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ns={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ns[t])?!!i[t]:!1}function Ps(){return Kl}var Sd=le({},Zi,{key:function(t){if(t.key){var i=Bl[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Qi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$l[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?Qi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vl=en(Sd),Ds=le({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ku=en(Ds),Wl=le({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),Hl=en(Wl),Ed=le({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=en(Ed),Cd=le({},eo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xu=en(Cd),Su=[9,13,27,32],ql=h&&"CompositionEvent"in window,to=null;h&&"documentMode"in document&&(to=document.documentMode);var Gl=h&&"TextEvent"in window&&!to,Yl=h&&(!ql||to&&8<to&&11>=to),Ql=" ",Eu=!1;function Cu(t,i){switch(t){case"keyup":return Su.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gr=!1;function vr(t,i){switch(t){case"compositionend":return Iu(i);case"keypress":return i.which!==32?null:(Eu=!0,Ql);case"textInput":return t=i.data,t===Ql&&Eu?null:t;default:return null}}function Rt(t,i){if(gr)return t==="compositionend"||!ql&&Cu(t,i)?(t=vu(),Cs=Ul=Jn=null,gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Yl&&i.locale!=="ko"?null:i.data;default:return null}}var As={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!As[t.type]:i==="textarea"}function Ou(t,i,s,c){Nl(c),i=Tu(i,"onChange"),0<i.length&&(s=new Xi("onChange","change",null,s,c),t.push({event:s,listeners:i}))}var pi=null,no=null;function mi(t){wp(t,0)}function ro(t){var i=Us(t);if(Ve(i))return t}function io(t,i){if(t==="change")return i}var wr=!1;if(h){var Rs;if(h){var u="oninput"in document;if(!u){var d=document.createElement("div");d.setAttribute("oninput","return;"),u=typeof d.oninput=="function"}Rs=u}else Rs=!1;wr=Rs&&(!document.documentMode||9<document.documentMode)}function m(){pi&&(pi.detachEvent("onpropertychange",b),no=pi=null)}function b(t){if(t.propertyName==="value"&&ro(no)){var i=[];Ou(i,no,t,Bi(t)),ri(mi,i)}}function _(t,i,s){t==="focusin"?(m(),pi=i,no=s,pi.attachEvent("onpropertychange",b)):t==="focusout"&&m()}function E(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ro(no)}function O(t,i){if(t==="click")return ro(i)}function N(t,i){if(t==="input"||t==="change")return ro(i)}function L(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var A=typeof Object.is=="function"?Object.is:L;function V(t,i){if(A(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),c=Object.keys(i);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var p=s[c];if(!g.call(i,p)||!A(t[p],i[p]))return!1}return!0}function P(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function H(t,i){var s=P(t);t=0;for(var c;s;){if(s.nodeType===3){if(c=t+s.textContent.length,t<=i&&c>=i)return{node:s,offset:i-t};t=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=P(s)}}function U(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?U(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function K(){for(var t=window,i=ot();i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=ot(t.document)}return i}function $(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function W(t){var i=K(),s=t.focusedElem,c=t.selectionRange;if(i!==s&&s&&s.ownerDocument&&U(s.ownerDocument.documentElement,s)){if(c!==null&&$(s)){if(i=c.start,t=c.end,t===void 0&&(t=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(t,s.value.length);else if(t=(i=s.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var p=s.textContent.length,w=Math.min(c.start,p);c=c.end===void 0?w:Math.min(c.end,p),!t.extend&&w>c&&(p=c,c=w,w=p),p=H(s,w);var C=H(s,c);p&&C&&(t.rangeCount!==1||t.anchorNode!==p.node||t.anchorOffset!==p.offset||t.focusNode!==C.node||t.focusOffset!==C.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),t.removeAllRanges(),w>c?(t.addRange(i),t.extend(C.node,C.offset)):(i.setEnd(C.node,C.offset),t.addRange(i)))}}for(i=[],t=s;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)t=i[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G=h&&"documentMode"in document&&11>=document.documentMode,J=null,te=null,re=null,ge=!1;function _e(t,i,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ge||J==null||J!==ot(c)||(c=J,"selectionStart"in c&&$(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),re&&V(re,c)||(re=c,c=Tu(te,"onSelect"),0<c.length&&(i=new Xi("onSelect","select",null,i,s),t.push({event:i,listeners:c}),i.target=J)))}function ce(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var ve={animationend:ce("Animation","AnimationEnd"),animationiteration:ce("Animation","AnimationIteration"),animationstart:ce("Animation","AnimationStart"),transitionend:ce("Transition","TransitionEnd")},xe={},ke={};h&&(ke=document.createElement("div").style,"AnimationEvent"in window||(delete ve.animationend.animation,delete ve.animationiteration.animation,delete ve.animationstart.animation),"TransitionEvent"in window||delete ve.transitionend.transition);function Ie(t){if(xe[t])return xe[t];if(!ve[t])return t;var i=ve[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in ke)return xe[t]=i[s];return t}var Ze=Ie("animationend"),nt=Ie("animationiteration"),st=Ie("animationstart"),wn=Ie("transitionend"),Xe=new Map,Kt="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jt(t,i){Xe.set(t,i),a(i,[t])}for(var oo=0;oo<Kt.length;oo++){var Vt=Kt[oo],yi=Vt.toLowerCase(),Jl=Vt[0].toUpperCase()+Vt.slice(1);jt(yi,"on"+Jl)}jt(Ze,"onAnimationEnd"),jt(nt,"onAnimationIteration"),jt(st,"onAnimationStart"),jt("dblclick","onDoubleClick"),jt("focusin","onFocus"),jt("focusout","onBlur"),jt(wn,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xl));function vp(t,i,s){var c=t.type||"unknown-event";t.currentTarget=s,Vi(c,i,void 0,t),t.currentTarget=null}function wp(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var c=t[s],p=c.event;c=c.listeners;e:{var w=void 0;if(i)for(var C=c.length-1;0<=C;C--){var j=c[C],R=j.instance,Z=j.currentTarget;if(j=j.listener,R!==w&&p.isPropagationStopped())break e;vp(p,j,Z),w=R}else for(C=0;C<c.length;C++){if(j=c[C],R=j.instance,Z=j.currentTarget,j=j.listener,R!==w&&p.isPropagationStopped())break e;vp(p,j,Z),w=R}}}if(si)throw t=Ki,si=!1,Ki=null,t}function Tt(t,i){var s=i[Ad];s===void 0&&(s=i[Ad]=new Set);var c=t+"__bubble";s.has(c)||(bp(i,t,2,!1),s.add(c))}function Id(t,i,s){var c=0;i&&(c|=4),bp(s,t,c,i)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Zl(t){if(!t[ju]){t[ju]=!0,o.forEach(function(s){s!=="selectionchange"&&(Sw.has(s)||Id(s,!1,t),Id(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ju]||(i[ju]=!0,Id("selectionchange",!1,i))}}function bp(t,i,s,c){switch(Vo(i)){case 1:var p=_d;break;case 4:p=Ko;break;default:p=Ml}s=p.bind(null,i,s,t),p=void 0,!$i||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(i,s,{capture:!0,passive:p}):t.addEventListener(i,s,!0):p!==void 0?t.addEventListener(i,s,{passive:p}):t.addEventListener(i,s,!1)}function Od(t,i,s,c,p){var w=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var j=c.stateNode.containerInfo;if(j===p||j.nodeType===8&&j.parentNode===p)break;if(C===4)for(C=c.return;C!==null;){var R=C.tag;if((R===3||R===4)&&(R=C.stateNode.containerInfo,R===p||R.nodeType===8&&R.parentNode===p))return;C=C.return}for(;j!==null;){if(C=Go(j),C===null)return;if(R=C.tag,R===5||R===6){c=w=C;continue e}j=j.parentNode}}c=c.return}ri(function(){var Z=w,oe=Bi(s),de=[];e:{var ie=Xe.get(t);if(ie!==void 0){var je=Xi,Pe=t;switch(t){case"keypress":if(Qi(s)===0)break e;case"keydown":case"keyup":je=Vl;break;case"focusin":Pe="focus",je=Os;break;case"focusout":Pe="blur",je=Os;break;case"beforeblur":case"afterblur":je=Os;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=Ho;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=Hl;break;case Ze:case nt:case st:je=wu;break;case wn:je=_u;break;case"scroll":je=xd;break;case"wheel":je=xu;break;case"copy":case"cut":case"paste":je=Ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=ku}var Ue=(i&4)!==0,zt=!Ue&&t==="scroll",Y=Ue?ie!==null?ie+"Capture":null:ie;Ue=[];for(var B=Z,X;B!==null;){X=B;var we=X.stateNode;if(X.tag===5&&we!==null&&(X=we,Y!==null&&(we=ii(B,Y),we!=null&&Ue.push(ea(B,we,X)))),zt)break;B=B.return}0<Ue.length&&(ie=new je(ie,Pe,null,s,oe),de.push({event:ie,listeners:Ue}))}}if((i&7)===0){e:{if(ie=t==="mouseover"||t==="pointerover",je=t==="mouseout"||t==="pointerout",ie&&s!==fr&&(Pe=s.relatedTarget||s.fromElement)&&(Go(Pe)||Pe[gi]))break e;if((je||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,je?(Pe=s.relatedTarget||s.toElement,je=Z,Pe=Pe?Go(Pe):null,Pe!==null&&(zt=vn(Pe),Pe!==zt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(je=null,Pe=Z),je!==Pe)){if(Ue=Is,we="onMouseLeave",Y="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(Ue=ku,we="onPointerLeave",Y="onPointerEnter",B="pointer"),zt=je==null?ie:Us(je),X=Pe==null?ie:Us(Pe),ie=new Ue(we,B+"leave",je,s,oe),ie.target=zt,ie.relatedTarget=X,we=null,Go(oe)===Z&&(Ue=new Ue(Y,B+"enter",Pe,s,oe),Ue.target=X,Ue.relatedTarget=zt,we=Ue),zt=we,je&&Pe)t:{for(Ue=je,Y=Pe,B=0,X=Ue;X;X=Ls(X))B++;for(X=0,we=Y;we;we=Ls(we))X++;for(;0<B-X;)Ue=Ls(Ue),B--;for(;0<X-B;)Y=Ls(Y),X--;for(;B--;){if(Ue===Y||Y!==null&&Ue===Y.alternate)break t;Ue=Ls(Ue),Y=Ls(Y)}Ue=null}else Ue=null;je!==null&&kp(de,ie,je,Ue,!1),Pe!==null&&zt!==null&&kp(de,zt,Pe,Ue,!0)}}e:{if(ie=Z?Us(Z):window,je=ie.nodeName&&ie.nodeName.toLowerCase(),je==="select"||je==="input"&&ie.type==="file")var Fe=io;else if(jn(ie))if(wr)Fe=N;else{Fe=E;var Ge=_}else(je=ie.nodeName)&&je.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Fe=O);if(Fe&&(Fe=Fe(t,Z))){Ou(de,Fe,s,oe);break e}Ge&&Ge(t,ie,Z),t==="focusout"&&(Ge=ie._wrapperState)&&Ge.controlled&&ie.type==="number"&&jl(ie,"number",ie.value)}switch(Ge=Z?Us(Z):window,t){case"focusin":(jn(Ge)||Ge.contentEditable==="true")&&(J=Ge,te=Z,re=null);break;case"focusout":re=te=J=null;break;case"mousedown":ge=!0;break;case"contextmenu":case"mouseup":case"dragend":ge=!1,_e(de,s,oe);break;case"selectionchange":if(G)break;case"keydown":case"keyup":_e(de,s,oe)}var Ye;if(ql)e:{switch(t){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else gr?Cu(t,s)&&(Je="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Je="onCompositionStart");Je&&(Yl&&s.locale!=="ko"&&(gr||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&gr&&(Ye=vu()):(Jn=oe,Ul="value"in Jn?Jn.value:Jn.textContent,gr=!0)),Ge=Tu(Z,Je),0<Ge.length&&(Je=new Fr(Je,t,null,s,oe),de.push({event:Je,listeners:Ge}),Ye?Je.data=Ye:(Ye=Iu(s),Ye!==null&&(Je.data=Ye)))),(Ye=Gl?vr(t,s):Rt(t,s))&&(Z=Tu(Z,"onBeforeInput"),0<Z.length&&(oe=new Fr("onBeforeInput","beforeinput",null,s,oe),de.push({event:oe,listeners:Z}),oe.data=Ye))}wp(de,i)})}function ea(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Tu(t,i){for(var s=i+"Capture",c=[];t!==null;){var p=t,w=p.stateNode;p.tag===5&&w!==null&&(p=w,w=ii(t,s),w!=null&&c.unshift(ea(t,w,p)),w=ii(t,i),w!=null&&c.push(ea(t,w,p))),t=t.return}return c}function Ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kp(t,i,s,c,p){for(var w=i._reactName,C=[];s!==null&&s!==c;){var j=s,R=j.alternate,Z=j.stateNode;if(R!==null&&R===c)break;j.tag===5&&Z!==null&&(j=Z,p?(R=ii(s,w),R!=null&&C.unshift(ea(s,R,j))):p||(R=ii(s,w),R!=null&&C.push(ea(s,R,j)))),s=s.return}C.length!==0&&t.push({event:i,listeners:C})}var Ew=/\r\n?/g,Cw=/\u0000|\uFFFD/g;function _p(t){return(typeof t=="string"?t:""+t).replace(Ew,`
`).replace(Cw,"")}function Nu(t,i,s){if(i=_p(i),_p(t)!==i&&s)throw Error(r(425))}function Pu(){}var jd=null,Td=null;function Nd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pd=typeof setTimeout=="function"?setTimeout:void 0,Iw=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof xp<"u"?function(t){return xp.resolve(null).then(t).catch(jw)}:Pd;function jw(t){setTimeout(function(){throw t})}function Dd(t,i){var s=i,c=0;do{var p=s.nextSibling;if(t.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(c===0){t.removeChild(p),mr(i);return}c--}else s!=="$"&&s!=="$?"&&s!=="$!"||c++;s=p}while(s);mr(i)}function so(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Sp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}var Ms=Math.random().toString(36).slice(2),Br="__reactFiber$"+Ms,ta="__reactProps$"+Ms,gi="__reactContainer$"+Ms,Ad="__reactEvents$"+Ms,Tw="__reactListeners$"+Ms,Nw="__reactHandles$"+Ms;function Go(t){var i=t[Br];if(i)return i;for(var s=t.parentNode;s;){if(i=s[gi]||s[Br]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Sp(t);t!==null;){if(s=t[Br])return s;t=Sp(t)}return i}t=s,s=t.parentNode}return null}function na(t){return t=t[Br]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function Du(t){return t[ta]||null}var Rd=[],zs=-1;function lo(t){return{current:t}}function Nt(t){0>zs||(t.current=Rd[zs],Rd[zs]=null,zs--)}function Ot(t,i){zs++,Rd[zs]=t.current,t.current=i}var ao={},bn=lo(ao),Pn=lo(!1),Yo=ao;function Fs(t,i){var s=t.type.contextTypes;if(!s)return ao;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var p={},w;for(w in s)p[w]=i[w];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=p),p}function Dn(t){return t=t.childContextTypes,t!=null}function Au(){Nt(Pn),Nt(bn)}function Ep(t,i,s){if(bn.current!==ao)throw Error(r(168));Ot(bn,i),Ot(Pn,s)}function Cp(t,i,s){var c=t.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return s;c=c.getChildContext();for(var p in c)if(!(p in i))throw Error(r(108,Le(t)||"Unknown",p));return le({},s,c)}function Ru(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ao,Yo=bn.current,Ot(bn,t),Ot(Pn,Pn.current),!0}function Ip(t,i,s){var c=t.stateNode;if(!c)throw Error(r(169));s?(t=Cp(t,i,Yo),c.__reactInternalMemoizedMergedChildContext=t,Nt(Pn),Nt(bn),Ot(bn,t)):Nt(Pn),Ot(Pn,s)}var vi=null,Lu=!1,Ld=!1;function Op(t){vi===null?vi=[t]:vi.push(t)}function Pw(t){Lu=!0,Op(t)}function uo(){if(!Ld&&vi!==null){Ld=!0;var t=0,i=pt;try{var s=vi;for(pt=1;t<s.length;t++){var c=s[t];do c=c(!0);while(c!==null)}vi=null,Lu=!1}catch(p){throw vi!==null&&(vi=vi.slice(t+1)),Dl(Ar,uo),p}finally{pt=i,Ld=!1}}return null}var Bs=[],$s=0,Mu=null,Uu=0,Xn=[],Zn=0,Qo=null,wi=1,bi="";function Jo(t,i){Bs[$s++]=Uu,Bs[$s++]=Mu,Mu=t,Uu=i}function jp(t,i,s){Xn[Zn++]=wi,Xn[Zn++]=bi,Xn[Zn++]=Qo,Qo=t;var c=wi;t=bi;var p=32-Qe(c)-1;c&=~(1<<p),s+=1;var w=32-Qe(i)+p;if(30<w){var C=p-p%5;w=(c&(1<<C)-1).toString(32),c>>=C,p-=C,wi=1<<32-Qe(i)+p|s<<p|c,bi=w+t}else wi=1<<w|s<<p|c,bi=t}function Md(t){t.return!==null&&(Jo(t,1),jp(t,1,0))}function Ud(t){for(;t===Mu;)Mu=Bs[--$s],Bs[$s]=null,Uu=Bs[--$s],Bs[$s]=null;for(;t===Qo;)Qo=Xn[--Zn],Xn[Zn]=null,bi=Xn[--Zn],Xn[Zn]=null,wi=Xn[--Zn],Xn[Zn]=null}var $n=null,Kn=null,Dt=!1,br=null;function Tp(t,i){var s=rr(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=t,i=t.deletions,i===null?(t.deletions=[s],t.flags|=16):i.push(s)}function Np(t,i){switch(t.tag){case 5:var s=t.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,$n=t,Kn=so(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,$n=t,Kn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=Qo!==null?{id:wi,overflow:bi}:null,t.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=rr(18,null,null,0),s.stateNode=i,s.return=t,t.child=s,$n=t,Kn=null,!0):!1;default:return!1}}function zd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fd(t){if(Dt){var i=Kn;if(i){var s=i;if(!Np(t,i)){if(zd(t))throw Error(r(418));i=so(s.nextSibling);var c=$n;i&&Np(t,i)?Tp(c,s):(t.flags=t.flags&-4097|2,Dt=!1,$n=t)}}else{if(zd(t))throw Error(r(418));t.flags=t.flags&-4097|2,Dt=!1,$n=t}}}function Pp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$n=t}function zu(t){if(t!==$n)return!1;if(!Dt)return Pp(t),Dt=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!Nd(t.type,t.memoizedProps)),i&&(i=Kn)){if(zd(t))throw Dp(),Error(r(418));for(;i;)Tp(t,i),i=so(i.nextSibling)}if(Pp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(i===0){Kn=so(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}t=t.nextSibling}Kn=null}}else Kn=$n?so(t.stateNode.nextSibling):null;return!0}function Dp(){for(var t=Kn;t;)t=so(t.nextSibling)}function Ks(){Kn=$n=null,Dt=!1}function Bd(t){br===null?br=[t]:br.push(t)}var Dw=se.ReactCurrentBatchConfig;function ra(t,i,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var c=s.stateNode}if(!c)throw Error(r(147,t));var p=c,w=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===w?i.ref:(i=function(C){var j=p.refs;C===null?delete j[w]:j[w]=C},i._stringRef=w,i)}if(typeof t!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,t))}return t}function Fu(t,i){throw t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Ap(t){var i=t._init;return i(t._payload)}function Rp(t){function i(Y,B){if(t){var X=Y.deletions;X===null?(Y.deletions=[B],Y.flags|=16):X.push(B)}}function s(Y,B){if(!t)return null;for(;B!==null;)i(Y,B),B=B.sibling;return null}function c(Y,B){for(Y=new Map;B!==null;)B.key!==null?Y.set(B.key,B):Y.set(B.index,B),B=B.sibling;return Y}function p(Y,B){return Y=vo(Y,B),Y.index=0,Y.sibling=null,Y}function w(Y,B,X){return Y.index=X,t?(X=Y.alternate,X!==null?(X=X.index,X<B?(Y.flags|=2,B):X):(Y.flags|=2,B)):(Y.flags|=1048576,B)}function C(Y){return t&&Y.alternate===null&&(Y.flags|=2),Y}function j(Y,B,X,we){return B===null||B.tag!==6?(B=Df(X,Y.mode,we),B.return=Y,B):(B=p(B,X),B.return=Y,B)}function R(Y,B,X,we){var Fe=X.type;return Fe===Ee?oe(Y,B,X.props.children,we,X.key):B!==null&&(B.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===he&&Ap(Fe)===B.type)?(we=p(B,X.props),we.ref=ra(Y,B,X),we.return=Y,we):(we=cc(X.type,X.key,X.props,null,Y.mode,we),we.ref=ra(Y,B,X),we.return=Y,we)}function Z(Y,B,X,we){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=Af(X,Y.mode,we),B.return=Y,B):(B=p(B,X.children||[]),B.return=Y,B)}function oe(Y,B,X,we,Fe){return B===null||B.tag!==7?(B=os(X,Y.mode,we,Fe),B.return=Y,B):(B=p(B,X),B.return=Y,B)}function de(Y,B,X){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Df(""+B,Y.mode,X),B.return=Y,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Se:return X=cc(B.type,B.key,B.props,null,Y.mode,X),X.ref=ra(Y,null,B),X.return=Y,X;case fe:return B=Af(B,Y.mode,X),B.return=Y,B;case he:var we=B._init;return de(Y,we(B._payload),X)}if(Xr(B)||ue(B))return B=os(B,Y.mode,X,null),B.return=Y,B;Fu(Y,B)}return null}function ie(Y,B,X,we){var Fe=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Fe!==null?null:j(Y,B,""+X,we);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Se:return X.key===Fe?R(Y,B,X,we):null;case fe:return X.key===Fe?Z(Y,B,X,we):null;case he:return Fe=X._init,ie(Y,B,Fe(X._payload),we)}if(Xr(X)||ue(X))return Fe!==null?null:oe(Y,B,X,we,null);Fu(Y,X)}return null}function je(Y,B,X,we,Fe){if(typeof we=="string"&&we!==""||typeof we=="number")return Y=Y.get(X)||null,j(B,Y,""+we,Fe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case Se:return Y=Y.get(we.key===null?X:we.key)||null,R(B,Y,we,Fe);case fe:return Y=Y.get(we.key===null?X:we.key)||null,Z(B,Y,we,Fe);case he:var Ge=we._init;return je(Y,B,X,Ge(we._payload),Fe)}if(Xr(we)||ue(we))return Y=Y.get(X)||null,oe(B,Y,we,Fe,null);Fu(B,we)}return null}function Pe(Y,B,X,we){for(var Fe=null,Ge=null,Ye=B,Je=B=0,on=null;Ye!==null&&Je<X.length;Je++){Ye.index>Je?(on=Ye,Ye=null):on=Ye.sibling;var gt=ie(Y,Ye,X[Je],we);if(gt===null){Ye===null&&(Ye=on);break}t&&Ye&&gt.alternate===null&&i(Y,Ye),B=w(gt,B,Je),Ge===null?Fe=gt:Ge.sibling=gt,Ge=gt,Ye=on}if(Je===X.length)return s(Y,Ye),Dt&&Jo(Y,Je),Fe;if(Ye===null){for(;Je<X.length;Je++)Ye=de(Y,X[Je],we),Ye!==null&&(B=w(Ye,B,Je),Ge===null?Fe=Ye:Ge.sibling=Ye,Ge=Ye);return Dt&&Jo(Y,Je),Fe}for(Ye=c(Y,Ye);Je<X.length;Je++)on=je(Ye,Y,Je,X[Je],we),on!==null&&(t&&on.alternate!==null&&Ye.delete(on.key===null?Je:on.key),B=w(on,B,Je),Ge===null?Fe=on:Ge.sibling=on,Ge=on);return t&&Ye.forEach(function(wo){return i(Y,wo)}),Dt&&Jo(Y,Je),Fe}function Ue(Y,B,X,we){var Fe=ue(X);if(typeof Fe!="function")throw Error(r(150));if(X=Fe.call(X),X==null)throw Error(r(151));for(var Ge=Fe=null,Ye=B,Je=B=0,on=null,gt=X.next();Ye!==null&&!gt.done;Je++,gt=X.next()){Ye.index>Je?(on=Ye,Ye=null):on=Ye.sibling;var wo=ie(Y,Ye,gt.value,we);if(wo===null){Ye===null&&(Ye=on);break}t&&Ye&&wo.alternate===null&&i(Y,Ye),B=w(wo,B,Je),Ge===null?Fe=wo:Ge.sibling=wo,Ge=wo,Ye=on}if(gt.done)return s(Y,Ye),Dt&&Jo(Y,Je),Fe;if(Ye===null){for(;!gt.done;Je++,gt=X.next())gt=de(Y,gt.value,we),gt!==null&&(B=w(gt,B,Je),Ge===null?Fe=gt:Ge.sibling=gt,Ge=gt);return Dt&&Jo(Y,Je),Fe}for(Ye=c(Y,Ye);!gt.done;Je++,gt=X.next())gt=je(Ye,Y,Je,gt.value,we),gt!==null&&(t&&gt.alternate!==null&&Ye.delete(gt.key===null?Je:gt.key),B=w(gt,B,Je),Ge===null?Fe=gt:Ge.sibling=gt,Ge=gt);return t&&Ye.forEach(function(fb){return i(Y,fb)}),Dt&&Jo(Y,Je),Fe}function zt(Y,B,X,we){if(typeof X=="object"&&X!==null&&X.type===Ee&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case Se:e:{for(var Fe=X.key,Ge=B;Ge!==null;){if(Ge.key===Fe){if(Fe=X.type,Fe===Ee){if(Ge.tag===7){s(Y,Ge.sibling),B=p(Ge,X.props.children),B.return=Y,Y=B;break e}}else if(Ge.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===he&&Ap(Fe)===Ge.type){s(Y,Ge.sibling),B=p(Ge,X.props),B.ref=ra(Y,Ge,X),B.return=Y,Y=B;break e}s(Y,Ge);break}else i(Y,Ge);Ge=Ge.sibling}X.type===Ee?(B=os(X.props.children,Y.mode,we,X.key),B.return=Y,Y=B):(we=cc(X.type,X.key,X.props,null,Y.mode,we),we.ref=ra(Y,B,X),we.return=Y,Y=we)}return C(Y);case fe:e:{for(Ge=X.key;B!==null;){if(B.key===Ge)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){s(Y,B.sibling),B=p(B,X.children||[]),B.return=Y,Y=B;break e}else{s(Y,B);break}else i(Y,B);B=B.sibling}B=Af(X,Y.mode,we),B.return=Y,Y=B}return C(Y);case he:return Ge=X._init,zt(Y,B,Ge(X._payload),we)}if(Xr(X))return Pe(Y,B,X,we);if(ue(X))return Ue(Y,B,X,we);Fu(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,B!==null&&B.tag===6?(s(Y,B.sibling),B=p(B,X),B.return=Y,Y=B):(s(Y,B),B=Df(X,Y.mode,we),B.return=Y,Y=B),C(Y)):s(Y,B)}return zt}var Vs=Rp(!0),Lp=Rp(!1),Bu=lo(null),$u=null,Ws=null,$d=null;function Kd(){$d=Ws=$u=null}function Vd(t){var i=Bu.current;Nt(Bu),t._currentValue=i}function Wd(t,i,s){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===s)break;t=t.return}}function Hs(t,i){$u=t,$d=Ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(An=!0),t.firstContext=null)}function er(t){var i=t._currentValue;if($d!==t)if(t={context:t,memoizedValue:i,next:null},Ws===null){if($u===null)throw Error(r(308));Ws=t,$u.dependencies={lanes:0,firstContext:t}}else Ws=Ws.next=t;return i}var Xo=null;function Hd(t){Xo===null?Xo=[t]:Xo.push(t)}function Mp(t,i,s,c){var p=i.interleaved;return p===null?(s.next=s,Hd(i)):(s.next=p.next,p.next=s),i.interleaved=s,ki(t,c)}function ki(t,i){t.lanes|=i;var s=t.alternate;for(s!==null&&(s.lanes|=i),s=t,t=t.return;t!==null;)t.childLanes|=i,s=t.alternate,s!==null&&(s.childLanes|=i),s=t,t=t.return;return s.tag===3?s.stateNode:null}var co=!1;function qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Up(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function fo(t,i,s){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(mt&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,ki(t,s)}return p=c.interleaved,p===null?(i.next=i,Hd(c)):(i.next=p.next,p.next=i),c.interleaved=i,ki(t,s)}function Ku(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var c=i.lanes;c&=t.pendingLanes,s|=c,i.lanes=s,xs(t,s)}}function zp(t,i){var s=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var p=null,w=null;if(s=s.firstBaseUpdate,s!==null){do{var C={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};w===null?p=w=C:w=w.next=C,s=s.next}while(s!==null);w===null?p=w=i:w=w.next=i}else p=w=i;s={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:w,shared:c.shared,effects:c.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}function Vu(t,i,s,c){var p=t.updateQueue;co=!1;var w=p.firstBaseUpdate,C=p.lastBaseUpdate,j=p.shared.pending;if(j!==null){p.shared.pending=null;var R=j,Z=R.next;R.next=null,C===null?w=Z:C.next=Z,C=R;var oe=t.alternate;oe!==null&&(oe=oe.updateQueue,j=oe.lastBaseUpdate,j!==C&&(j===null?oe.firstBaseUpdate=Z:j.next=Z,oe.lastBaseUpdate=R))}if(w!==null){var de=p.baseState;C=0,oe=Z=R=null,j=w;do{var ie=j.lane,je=j.eventTime;if((c&ie)===ie){oe!==null&&(oe=oe.next={eventTime:je,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Pe=t,Ue=j;switch(ie=i,je=s,Ue.tag){case 1:if(Pe=Ue.payload,typeof Pe=="function"){de=Pe.call(je,de,ie);break e}de=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ue.payload,ie=typeof Pe=="function"?Pe.call(je,de,ie):Pe,ie==null)break e;de=le({},de,ie);break e;case 2:co=!0}}j.callback!==null&&j.lane!==0&&(t.flags|=64,ie=p.effects,ie===null?p.effects=[j]:ie.push(j))}else je={eventTime:je,lane:ie,tag:j.tag,payload:j.payload,callback:j.callback,next:null},oe===null?(Z=oe=je,R=de):oe=oe.next=je,C|=ie;if(j=j.next,j===null){if(j=p.shared.pending,j===null)break;ie=j,j=ie.next,ie.next=null,p.lastBaseUpdate=ie,p.shared.pending=null}}while(!0);if(oe===null&&(R=de),p.baseState=R,p.firstBaseUpdate=Z,p.lastBaseUpdate=oe,i=p.shared.interleaved,i!==null){p=i;do C|=p.lane,p=p.next;while(p!==i)}else w===null&&(p.shared.lanes=0);ts|=C,t.lanes=C,t.memoizedState=de}}function Fp(t,i,s){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var c=t[i],p=c.callback;if(p!==null){if(c.callback=null,c=s,typeof p!="function")throw Error(r(191,p));p.call(c)}}}var ia={},$r=lo(ia),oa=lo(ia),sa=lo(ia);function Zo(t){if(t===ia)throw Error(r(174));return t}function Gd(t,i){switch(Ot(sa,i),Ot(oa,t),Ot($r,ia),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:dr(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=dr(i,t)}Nt($r),Ot($r,i)}function qs(){Nt($r),Nt(oa),Nt(sa)}function Bp(t){Zo(sa.current);var i=Zo($r.current),s=dr(i,t.type);i!==s&&(Ot(oa,t),Ot($r,s))}function Yd(t){oa.current===t&&(Nt($r),Nt(oa))}var Lt=lo(0);function Wu(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qd=[];function Jd(){for(var t=0;t<Qd.length;t++)Qd[t]._workInProgressVersionPrimary=null;Qd.length=0}var Hu=se.ReactCurrentDispatcher,Xd=se.ReactCurrentBatchConfig,es=0,Mt=null,Wt=null,nn=null,qu=!1,la=!1,aa=0,Aw=0;function kn(){throw Error(r(321))}function Zd(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!A(t[s],i[s]))return!1;return!0}function ef(t,i,s,c,p,w){if(es=w,Mt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Hu.current=t===null||t.memoizedState===null?Uw:zw,t=s(c,p),la){w=0;do{if(la=!1,aa=0,25<=w)throw Error(r(301));w+=1,nn=Wt=null,i.updateQueue=null,Hu.current=Fw,t=s(c,p)}while(la)}if(Hu.current=Qu,i=Wt!==null&&Wt.next!==null,es=0,nn=Wt=Mt=null,qu=!1,i)throw Error(r(300));return t}function tf(){var t=aa!==0;return aa=0,t}function Kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Mt.memoizedState=nn=t:nn=nn.next=t,nn}function tr(){if(Wt===null){var t=Mt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var i=nn===null?Mt.memoizedState:nn.next;if(i!==null)nn=i,Wt=t;else{if(t===null)throw Error(r(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},nn===null?Mt.memoizedState=nn=t:nn=nn.next=t}return nn}function ua(t,i){return typeof i=="function"?i(t):i}function nf(t){var i=tr(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var c=Wt,p=c.baseQueue,w=s.pending;if(w!==null){if(p!==null){var C=p.next;p.next=w.next,w.next=C}c.baseQueue=p=w,s.pending=null}if(p!==null){w=p.next,c=c.baseState;var j=C=null,R=null,Z=w;do{var oe=Z.lane;if((es&oe)===oe)R!==null&&(R=R.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),c=Z.hasEagerState?Z.eagerState:t(c,Z.action);else{var de={lane:oe,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};R===null?(j=R=de,C=c):R=R.next=de,Mt.lanes|=oe,ts|=oe}Z=Z.next}while(Z!==null&&Z!==w);R===null?C=c:R.next=j,A(c,i.memoizedState)||(An=!0),i.memoizedState=c,i.baseState=C,i.baseQueue=R,s.lastRenderedState=c}if(t=s.interleaved,t!==null){p=t;do w=p.lane,Mt.lanes|=w,ts|=w,p=p.next;while(p!==t)}else p===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function rf(t){var i=tr(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var c=s.dispatch,p=s.pending,w=i.memoizedState;if(p!==null){s.pending=null;var C=p=p.next;do w=t(w,C.action),C=C.next;while(C!==p);A(w,i.memoizedState)||(An=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),s.lastRenderedState=w}return[w,c]}function $p(){}function Kp(t,i){var s=Mt,c=tr(),p=i(),w=!A(c.memoizedState,p);if(w&&(c.memoizedState=p,An=!0),c=c.queue,of(Hp.bind(null,s,c,t),[t]),c.getSnapshot!==i||w||nn!==null&&nn.memoizedState.tag&1){if(s.flags|=2048,ca(9,Wp.bind(null,s,c,p,i),void 0,null),rn===null)throw Error(r(349));(es&30)!==0||Vp(s,i,p)}return p}function Vp(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Mt.updateQueue,i===null?(i={lastEffect:null,stores:null},Mt.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Wp(t,i,s,c){i.value=s,i.getSnapshot=c,qp(i)&&Gp(t)}function Hp(t,i,s){return s(function(){qp(i)&&Gp(t)})}function qp(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!A(t,s)}catch{return!0}}function Gp(t){var i=ki(t,1);i!==null&&Sr(i,t,1,-1)}function Yp(t){var i=Kr();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:t},i.queue=t,t=t.dispatch=Mw.bind(null,Mt,t),[i.memoizedState,t]}function ca(t,i,s,c){return t={tag:t,create:i,destroy:s,deps:c,next:null},i=Mt.updateQueue,i===null?(i={lastEffect:null,stores:null},Mt.updateQueue=i,i.lastEffect=t.next=t):(s=i.lastEffect,s===null?i.lastEffect=t.next=t:(c=s.next,s.next=t,t.next=c,i.lastEffect=t)),t}function Qp(){return tr().memoizedState}function Gu(t,i,s,c){var p=Kr();Mt.flags|=t,p.memoizedState=ca(1|i,s,void 0,c===void 0?null:c)}function Yu(t,i,s,c){var p=tr();c=c===void 0?null:c;var w=void 0;if(Wt!==null){var C=Wt.memoizedState;if(w=C.destroy,c!==null&&Zd(c,C.deps)){p.memoizedState=ca(i,s,w,c);return}}Mt.flags|=t,p.memoizedState=ca(1|i,s,w,c)}function Jp(t,i){return Gu(8390656,8,t,i)}function of(t,i){return Yu(2048,8,t,i)}function Xp(t,i){return Yu(4,2,t,i)}function Zp(t,i){return Yu(4,4,t,i)}function em(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function tm(t,i,s){return s=s!=null?s.concat([t]):null,Yu(4,4,em.bind(null,i,t),s)}function sf(){}function nm(t,i){var s=tr();i=i===void 0?null:i;var c=s.memoizedState;return c!==null&&i!==null&&Zd(i,c[1])?c[0]:(s.memoizedState=[t,i],t)}function rm(t,i){var s=tr();i=i===void 0?null:i;var c=s.memoizedState;return c!==null&&i!==null&&Zd(i,c[1])?c[0]:(t=t(),s.memoizedState=[t,i],t)}function im(t,i,s){return(es&21)===0?(t.baseState&&(t.baseState=!1,An=!0),t.memoizedState=s):(A(s,i)||(s=ui(),Mt.lanes|=s,ts|=s,t.baseState=!0),i)}function Rw(t,i){var s=pt;pt=s!==0&&4>s?s:4,t(!0);var c=Xd.transition;Xd.transition={};try{t(!1),i()}finally{pt=s,Xd.transition=c}}function om(){return tr().memoizedState}function Lw(t,i,s){var c=yo(t);if(s={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null},sm(t))lm(i,s);else if(s=Mp(t,i,s,c),s!==null){var p=Nn();Sr(s,t,c,p),am(s,i,c)}}function Mw(t,i,s){var c=yo(t),p={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null};if(sm(t))lm(i,p);else{var w=t.alternate;if(t.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var C=i.lastRenderedState,j=w(C,s);if(p.hasEagerState=!0,p.eagerState=j,A(j,C)){var R=i.interleaved;R===null?(p.next=p,Hd(i)):(p.next=R.next,R.next=p),i.interleaved=p;return}}catch{}finally{}s=Mp(t,i,p,c),s!==null&&(p=Nn(),Sr(s,t,c,p),am(s,i,c))}}function sm(t){var i=t.alternate;return t===Mt||i!==null&&i===Mt}function lm(t,i){la=qu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function am(t,i,s){if((s&4194240)!==0){var c=i.lanes;c&=t.pendingLanes,s|=c,i.lanes=s,xs(t,s)}}var Qu={readContext:er,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},Uw={readContext:er,useCallback:function(t,i){return Kr().memoizedState=[t,i===void 0?null:i],t},useContext:er,useEffect:Jp,useImperativeHandle:function(t,i,s){return s=s!=null?s.concat([t]):null,Gu(4194308,4,em.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Gu(4194308,4,t,i)},useInsertionEffect:function(t,i){return Gu(4,2,t,i)},useMemo:function(t,i){var s=Kr();return i=i===void 0?null:i,t=t(),s.memoizedState=[t,i],t},useReducer:function(t,i,s){var c=Kr();return i=s!==void 0?s(i):i,c.memoizedState=c.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},c.queue=t,t=t.dispatch=Lw.bind(null,Mt,t),[c.memoizedState,t]},useRef:function(t){var i=Kr();return t={current:t},i.memoizedState=t},useState:Yp,useDebugValue:sf,useDeferredValue:function(t){return Kr().memoizedState=t},useTransition:function(){var t=Yp(!1),i=t[0];return t=Rw.bind(null,t[1]),Kr().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,s){var c=Mt,p=Kr();if(Dt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),rn===null)throw Error(r(349));(es&30)!==0||Vp(c,i,s)}p.memoizedState=s;var w={value:s,getSnapshot:i};return p.queue=w,Jp(Hp.bind(null,c,w,t),[t]),c.flags|=2048,ca(9,Wp.bind(null,c,w,s,i),void 0,null),s},useId:function(){var t=Kr(),i=rn.identifierPrefix;if(Dt){var s=bi,c=wi;s=(c&~(1<<32-Qe(c)-1)).toString(32)+s,i=":"+i+"R"+s,s=aa++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Aw++,i=":"+i+"r"+s.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},zw={readContext:er,useCallback:nm,useContext:er,useEffect:of,useImperativeHandle:tm,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:rm,useReducer:nf,useRef:Qp,useState:function(){return nf(ua)},useDebugValue:sf,useDeferredValue:function(t){var i=tr();return im(i,Wt.memoizedState,t)},useTransition:function(){var t=nf(ua)[0],i=tr().memoizedState;return[t,i]},useMutableSource:$p,useSyncExternalStore:Kp,useId:om,unstable_isNewReconciler:!1},Fw={readContext:er,useCallback:nm,useContext:er,useEffect:of,useImperativeHandle:tm,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:rm,useReducer:rf,useRef:Qp,useState:function(){return rf(ua)},useDebugValue:sf,useDeferredValue:function(t){var i=tr();return Wt===null?i.memoizedState=t:im(i,Wt.memoizedState,t)},useTransition:function(){var t=rf(ua)[0],i=tr().memoizedState;return[t,i]},useMutableSource:$p,useSyncExternalStore:Kp,useId:om,unstable_isNewReconciler:!1};function kr(t,i){if(t&&t.defaultProps){i=le({},i),t=t.defaultProps;for(var s in t)i[s]===void 0&&(i[s]=t[s]);return i}return i}function lf(t,i,s,c){i=t.memoizedState,s=s(c,i),s=s==null?i:le({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ju={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,i,s){t=t._reactInternals;var c=Nn(),p=yo(t),w=_i(c,p);w.payload=i,s!=null&&(w.callback=s),i=fo(t,w,p),i!==null&&(Sr(i,t,p,c),Ku(i,t,p))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var c=Nn(),p=yo(t),w=_i(c,p);w.tag=1,w.payload=i,s!=null&&(w.callback=s),i=fo(t,w,p),i!==null&&(Sr(i,t,p,c),Ku(i,t,p))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Nn(),c=yo(t),p=_i(s,c);p.tag=2,i!=null&&(p.callback=i),i=fo(t,p,c),i!==null&&(Sr(i,t,c,s),Ku(i,t,c))}};function um(t,i,s,c,p,w,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,w,C):i.prototype&&i.prototype.isPureReactComponent?!V(s,c)||!V(p,w):!0}function cm(t,i,s){var c=!1,p=ao,w=i.contextType;return typeof w=="object"&&w!==null?w=er(w):(p=Dn(i)?Yo:bn.current,c=i.contextTypes,w=(c=c!=null)?Fs(t,p):ao),i=new i(s,w),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ju,t.stateNode=i,i._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=p,t.__reactInternalMemoizedMaskedChildContext=w),i}function dm(t,i,s,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,c),i.state!==t&&Ju.enqueueReplaceState(i,i.state,null)}function af(t,i,s,c){var p=t.stateNode;p.props=s,p.state=t.memoizedState,p.refs={},qd(t);var w=i.contextType;typeof w=="object"&&w!==null?p.context=er(w):(w=Dn(i)?Yo:bn.current,p.context=Fs(t,w)),p.state=t.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(lf(t,i,w,s),p.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Ju.enqueueReplaceState(p,p.state,null),Vu(t,s,p,c),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308)}function Gs(t,i){try{var s="",c=i;do s+=Ke(c),c=c.return;while(c);var p=s}catch(w){p=`
Error generating stack: `+w.message+`
`+w.stack}return{value:t,source:i,stack:p,digest:null}}function uf(t,i,s){return{value:t,source:null,stack:s??null,digest:i??null}}function cf(t,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var Bw=typeof WeakMap=="function"?WeakMap:Map;function fm(t,i,s){s=_i(-1,s),s.tag=3,s.payload={element:null};var c=i.value;return s.callback=function(){ic||(ic=!0,Ef=c),cf(t,i)},s}function hm(t,i,s){s=_i(-1,s),s.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var p=i.value;s.payload=function(){return c(p)},s.callback=function(){cf(t,i)}}var w=t.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){cf(t,i),typeof c!="function"&&(po===null?po=new Set([this]):po.add(this));var C=i.stack;this.componentDidCatch(i.value,{componentStack:C!==null?C:""})}),s}function pm(t,i,s){var c=t.pingCache;if(c===null){c=t.pingCache=new Bw;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(s)||(p.add(s),t=tb.bind(null,t,i,s),i.then(t,t))}function mm(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function ym(t,i,s,c,p){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=_i(-1,1),i.tag=2,fo(s,i,1))),s.lanes|=1),t):(t.flags|=65536,t.lanes=p,t)}var $w=se.ReactCurrentOwner,An=!1;function Tn(t,i,s,c){i.child=t===null?Lp(i,null,s,c):Vs(i,t.child,s,c)}function gm(t,i,s,c,p){s=s.render;var w=i.ref;return Hs(i,p),c=ef(t,i,s,c,w,p),s=tf(),t!==null&&!An?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~p,xi(t,i,p)):(Dt&&s&&Md(i),i.flags|=1,Tn(t,i,c,p),i.child)}function vm(t,i,s,c,p){if(t===null){var w=s.type;return typeof w=="function"&&!Pf(w)&&w.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=w,wm(t,i,w,c,p)):(t=cc(s.type,null,c,i,i.mode,p),t.ref=i.ref,t.return=i,i.child=t)}if(w=t.child,(t.lanes&p)===0){var C=w.memoizedProps;if(s=s.compare,s=s!==null?s:V,s(C,c)&&t.ref===i.ref)return xi(t,i,p)}return i.flags|=1,t=vo(w,c),t.ref=i.ref,t.return=i,i.child=t}function wm(t,i,s,c,p){if(t!==null){var w=t.memoizedProps;if(V(w,c)&&t.ref===i.ref)if(An=!1,i.pendingProps=c=w,(t.lanes&p)!==0)(t.flags&131072)!==0&&(An=!0);else return i.lanes=t.lanes,xi(t,i,p)}return df(t,i,s,c,p)}function bm(t,i,s){var c=i.pendingProps,p=c.children,w=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(Qs,Vn),Vn|=s;else{if((s&1073741824)===0)return t=w!==null?w.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,Ot(Qs,Vn),Vn|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=w!==null?w.baseLanes:s,Ot(Qs,Vn),Vn|=c}else w!==null?(c=w.baseLanes|s,i.memoizedState=null):c=s,Ot(Qs,Vn),Vn|=c;return Tn(t,i,p,s),i.child}function km(t,i){var s=i.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function df(t,i,s,c,p){var w=Dn(s)?Yo:bn.current;return w=Fs(i,w),Hs(i,p),s=ef(t,i,s,c,w,p),c=tf(),t!==null&&!An?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~p,xi(t,i,p)):(Dt&&c&&Md(i),i.flags|=1,Tn(t,i,s,p),i.child)}function _m(t,i,s,c,p){if(Dn(s)){var w=!0;Ru(i)}else w=!1;if(Hs(i,p),i.stateNode===null)Zu(t,i),cm(i,s,c),af(i,s,c,p),c=!0;else if(t===null){var C=i.stateNode,j=i.memoizedProps;C.props=j;var R=C.context,Z=s.contextType;typeof Z=="object"&&Z!==null?Z=er(Z):(Z=Dn(s)?Yo:bn.current,Z=Fs(i,Z));var oe=s.getDerivedStateFromProps,de=typeof oe=="function"||typeof C.getSnapshotBeforeUpdate=="function";de||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(j!==c||R!==Z)&&dm(i,C,c,Z),co=!1;var ie=i.memoizedState;C.state=ie,Vu(i,c,C,p),R=i.memoizedState,j!==c||ie!==R||Pn.current||co?(typeof oe=="function"&&(lf(i,s,oe,c),R=i.memoizedState),(j=co||um(i,s,j,c,ie,R,Z))?(de||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(i.flags|=4194308)):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=R),C.props=c,C.state=R,C.context=Z,c=j):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{C=i.stateNode,Up(t,i),j=i.memoizedProps,Z=i.type===i.elementType?j:kr(i.type,j),C.props=Z,de=i.pendingProps,ie=C.context,R=s.contextType,typeof R=="object"&&R!==null?R=er(R):(R=Dn(s)?Yo:bn.current,R=Fs(i,R));var je=s.getDerivedStateFromProps;(oe=typeof je=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(j!==de||ie!==R)&&dm(i,C,c,R),co=!1,ie=i.memoizedState,C.state=ie,Vu(i,c,C,p);var Pe=i.memoizedState;j!==de||ie!==Pe||Pn.current||co?(typeof je=="function"&&(lf(i,s,je,c),Pe=i.memoizedState),(Z=co||um(i,s,Z,c,ie,Pe,R)||!1)?(oe||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(c,Pe,R),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(c,Pe,R)),typeof C.componentDidUpdate=="function"&&(i.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof C.componentDidUpdate!="function"||j===t.memoizedProps&&ie===t.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&ie===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Pe),C.props=c,C.state=Pe,C.context=R,c=Z):(typeof C.componentDidUpdate!="function"||j===t.memoizedProps&&ie===t.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&ie===t.memoizedState||(i.flags|=1024),c=!1)}return ff(t,i,s,c,w,p)}function ff(t,i,s,c,p,w){km(t,i);var C=(i.flags&128)!==0;if(!c&&!C)return p&&Ip(i,s,!1),xi(t,i,w);c=i.stateNode,$w.current=i;var j=C&&typeof s.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,t!==null&&C?(i.child=Vs(i,t.child,null,w),i.child=Vs(i,null,j,w)):Tn(t,i,j,w),i.memoizedState=c.state,p&&Ip(i,s,!0),i.child}function xm(t){var i=t.stateNode;i.pendingContext?Ep(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Ep(t,i.context,!1),Gd(t,i.containerInfo)}function Sm(t,i,s,c,p){return Ks(),Bd(p),i.flags|=256,Tn(t,i,s,c),i.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function pf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Em(t,i,s){var c=i.pendingProps,p=Lt.current,w=!1,C=(i.flags&128)!==0,j;if((j=C)||(j=t!==null&&t.memoizedState===null?!1:(p&2)!==0),j?(w=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(p|=1),Ot(Lt,p&1),t===null)return Fd(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(C=c.children,t=c.fallback,w?(c=i.mode,w=i.child,C={mode:"hidden",children:C},(c&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=C):w=dc(C,c,0,null),t=os(t,c,s,null),w.return=i,t.return=i,w.sibling=t,i.child=w,i.child.memoizedState=pf(s),i.memoizedState=hf,t):mf(i,C));if(p=t.memoizedState,p!==null&&(j=p.dehydrated,j!==null))return Kw(t,i,C,c,j,p,s);if(w){w=c.fallback,C=i.mode,p=t.child,j=p.sibling;var R={mode:"hidden",children:c.children};return(C&1)===0&&i.child!==p?(c=i.child,c.childLanes=0,c.pendingProps=R,i.deletions=null):(c=vo(p,R),c.subtreeFlags=p.subtreeFlags&14680064),j!==null?w=vo(j,w):(w=os(w,C,s,null),w.flags|=2),w.return=i,c.return=i,c.sibling=w,i.child=c,c=w,w=i.child,C=t.child.memoizedState,C=C===null?pf(s):{baseLanes:C.baseLanes|s,cachePool:null,transitions:C.transitions},w.memoizedState=C,w.childLanes=t.childLanes&~s,i.memoizedState=hf,c}return w=t.child,t=w.sibling,c=vo(w,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=s),c.return=i,c.sibling=null,t!==null&&(s=i.deletions,s===null?(i.deletions=[t],i.flags|=16):s.push(t)),i.child=c,i.memoizedState=null,c}function mf(t,i){return i=dc({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function Xu(t,i,s,c){return c!==null&&Bd(c),Vs(i,t.child,null,s),t=mf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Kw(t,i,s,c,p,w,C){if(s)return i.flags&256?(i.flags&=-257,c=uf(Error(r(422))),Xu(t,i,C,c)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(w=c.fallback,p=i.mode,c=dc({mode:"visible",children:c.children},p,0,null),w=os(w,p,C,null),w.flags|=2,c.return=i,w.return=i,c.sibling=w,i.child=c,(i.mode&1)!==0&&Vs(i,t.child,null,C),i.child.memoizedState=pf(C),i.memoizedState=hf,w);if((i.mode&1)===0)return Xu(t,i,C,null);if(p.data==="$!"){if(c=p.nextSibling&&p.nextSibling.dataset,c)var j=c.dgst;return c=j,w=Error(r(419)),c=uf(w,c,void 0),Xu(t,i,C,c)}if(j=(C&t.childLanes)!==0,An||j){if(c=rn,c!==null){switch(C&-C){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(c.suspendedLanes|C))!==0?0:p,p!==0&&p!==w.retryLane&&(w.retryLane=p,ki(t,p),Sr(c,t,p,-1))}return Nf(),c=uf(Error(r(421))),Xu(t,i,C,c)}return p.data==="$?"?(i.flags|=128,i.child=t.child,i=nb.bind(null,t),p._reactRetry=i,null):(t=w.treeContext,Kn=so(p.nextSibling),$n=i,Dt=!0,br=null,t!==null&&(Xn[Zn++]=wi,Xn[Zn++]=bi,Xn[Zn++]=Qo,wi=t.id,bi=t.overflow,Qo=i),i=mf(i,c.children),i.flags|=4096,i)}function Cm(t,i,s){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Wd(t.return,i,s)}function yf(t,i,s,c,p){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:p}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=s,w.tailMode=p)}function Im(t,i,s){var c=i.pendingProps,p=c.revealOrder,w=c.tail;if(Tn(t,i,c.children,s),c=Lt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cm(t,s,i);else if(t.tag===19)Cm(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Ot(Lt,c),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(s=i.child,p=null;s!==null;)t=s.alternate,t!==null&&Wu(t)===null&&(p=s),s=s.sibling;s=p,s===null?(p=i.child,i.child=null):(p=s.sibling,s.sibling=null),yf(i,!1,p,s,w);break;case"backwards":for(s=null,p=i.child,i.child=null;p!==null;){if(t=p.alternate,t!==null&&Wu(t)===null){i.child=p;break}t=p.sibling,p.sibling=s,s=p,p=t}yf(i,!0,s,null,w);break;case"together":yf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Zu(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function xi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),ts|=i.lanes,(s&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,s=vo(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=vo(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Vw(t,i,s){switch(i.tag){case 3:xm(i),Ks();break;case 5:Bp(i);break;case 1:Dn(i.type)&&Ru(i);break;case 4:Gd(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,p=i.memoizedProps.value;Ot(Bu,c._currentValue),c._currentValue=p;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ot(Lt,Lt.current&1),i.flags|=128,null):(s&i.child.childLanes)!==0?Em(t,i,s):(Ot(Lt,Lt.current&1),t=xi(t,i,s),t!==null?t.sibling:null);Ot(Lt,Lt.current&1);break;case 19:if(c=(s&i.childLanes)!==0,(t.flags&128)!==0){if(c)return Im(t,i,s);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ot(Lt,Lt.current),c)break;return null;case 22:case 23:return i.lanes=0,bm(t,i,s)}return xi(t,i,s)}var Om,gf,jm,Tm;Om=function(t,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},gf=function(){},jm=function(t,i,s,c){var p=t.memoizedProps;if(p!==c){t=i.stateNode,Zo($r.current);var w=null;switch(s){case"input":p=ft(t,p),c=ft(t,c),w=[];break;case"select":p=le({},p,{value:void 0}),c=le({},c,{value:void 0}),w=[];break;case"textarea":p=ys(t,p),c=ys(t,c),w=[];break;default:typeof p.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Pu)}Me(s,c);var C;s=null;for(Z in p)if(!c.hasOwnProperty(Z)&&p.hasOwnProperty(Z)&&p[Z]!=null)if(Z==="style"){var j=p[Z];for(C in j)j.hasOwnProperty(C)&&(s||(s={}),s[C]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(l.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in c){var R=c[Z];if(j=p!=null?p[Z]:void 0,c.hasOwnProperty(Z)&&R!==j&&(R!=null||j!=null))if(Z==="style")if(j){for(C in j)!j.hasOwnProperty(C)||R&&R.hasOwnProperty(C)||(s||(s={}),s[C]="");for(C in R)R.hasOwnProperty(C)&&j[C]!==R[C]&&(s||(s={}),s[C]=R[C])}else s||(w||(w=[]),w.push(Z,s)),s=R;else Z==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,j=j?j.__html:void 0,R!=null&&j!==R&&(w=w||[]).push(Z,R)):Z==="children"?typeof R!="string"&&typeof R!="number"||(w=w||[]).push(Z,""+R):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(l.hasOwnProperty(Z)?(R!=null&&Z==="onScroll"&&Tt("scroll",t),w||j===R||(w=[])):(w=w||[]).push(Z,R))}s&&(w=w||[]).push("style",s);var Z=w;(i.updateQueue=Z)&&(i.flags|=4)}},Tm=function(t,i,s,c){s!==c&&(i.flags|=4)};function da(t,i){if(!Dt)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function _n(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,c=0;if(i)for(var p=t.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags&14680064,c|=p.flags&14680064,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=s,i}function Ww(t,i,s){var c=i.pendingProps;switch(Ud(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(i),null;case 1:return Dn(i.type)&&Au(),_n(i),null;case 3:return c=i.stateNode,qs(),Nt(Pn),Nt(bn),Jd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(zu(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,br!==null&&(Of(br),br=null))),gf(t,i),_n(i),null;case 5:Yd(i);var p=Zo(sa.current);if(s=i.type,t!==null&&i.stateNode!=null)jm(t,i,s,c,p),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(r(166));return _n(i),null}if(t=Zo($r.current),zu(i)){c=i.stateNode,s=i.type;var w=i.memoizedProps;switch(c[Br]=i,c[ta]=w,t=(i.mode&1)!==0,s){case"dialog":Tt("cancel",c),Tt("close",c);break;case"iframe":case"object":case"embed":Tt("load",c);break;case"video":case"audio":for(p=0;p<Xl.length;p++)Tt(Xl[p],c);break;case"source":Tt("error",c);break;case"img":case"image":case"link":Tt("error",c),Tt("load",c);break;case"details":Tt("toggle",c);break;case"input":vt(c,w),Tt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!w.multiple},Tt("invalid",c);break;case"textarea":Mi(c,w),Tt("invalid",c)}Me(s,w),p=null;for(var C in w)if(w.hasOwnProperty(C)){var j=w[C];C==="children"?typeof j=="string"?c.textContent!==j&&(w.suppressHydrationWarning!==!0&&Nu(c.textContent,j,t),p=["children",j]):typeof j=="number"&&c.textContent!==""+j&&(w.suppressHydrationWarning!==!0&&Nu(c.textContent,j,t),p=["children",""+j]):l.hasOwnProperty(C)&&j!=null&&C==="onScroll"&&Tt("scroll",c)}switch(s){case"input":_t(c),Fn(c,w,!0);break;case"textarea":_t(c),Ui(c);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(c.onclick=Pu)}c=p,i.updateQueue=c,c!==null&&(i.flags|=4)}else{C=p.nodeType===9?p:p.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cr(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=C.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=C.createElement(s,{is:c.is}):(t=C.createElement(s),s==="select"&&(C=t,c.multiple?C.multiple=!0:c.size&&(C.size=c.size))):t=C.createElementNS(t,s),t[Br]=i,t[ta]=c,Om(t,i,!1,!1),i.stateNode=t;e:{switch(C=ti(s,c),s){case"dialog":Tt("cancel",t),Tt("close",t),p=c;break;case"iframe":case"object":case"embed":Tt("load",t),p=c;break;case"video":case"audio":for(p=0;p<Xl.length;p++)Tt(Xl[p],t);p=c;break;case"source":Tt("error",t),p=c;break;case"img":case"image":case"link":Tt("error",t),Tt("load",t),p=c;break;case"details":Tt("toggle",t),p=c;break;case"input":vt(t,c),p=ft(t,c),Tt("invalid",t);break;case"option":p=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},p=le({},c,{value:void 0}),Tt("invalid",t);break;case"textarea":Mi(t,c),p=ys(t,c),Tt("invalid",t);break;default:p=c}Me(s,p),j=p;for(w in j)if(j.hasOwnProperty(w)){var R=j[w];w==="style"?gs(t,R):w==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Fi(t,R)):w==="children"?typeof R=="string"?(s!=="textarea"||R!=="")&&Zr(t,R):typeof R=="number"&&Zr(t,""+R):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(l.hasOwnProperty(w)?R!=null&&w==="onScroll"&&Tt("scroll",t):R!=null&&q(t,w,R,C))}switch(s){case"input":_t(t),Fn(t,c,!1);break;case"textarea":_t(t),Ui(t);break;case"option":c.value!=null&&t.setAttribute("value",""+qe(c.value));break;case"select":t.multiple=!!c.multiple,w=c.value,w!=null?an(t,!!c.multiple,w,!1):c.defaultValue!=null&&an(t,!!c.multiple,c.defaultValue,!0);break;default:typeof p.onClick=="function"&&(t.onclick=Pu)}switch(s){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return _n(i),null;case 6:if(t&&i.stateNode!=null)Tm(t,i,t.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(s=Zo(sa.current),Zo($r.current),zu(i)){if(c=i.stateNode,s=i.memoizedProps,c[Br]=i,(w=c.nodeValue!==s)&&(t=$n,t!==null))switch(t.tag){case 3:Nu(c.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nu(c.nodeValue,s,(t.mode&1)!==0)}w&&(i.flags|=4)}else c=(s.nodeType===9?s:s.ownerDocument).createTextNode(c),c[Br]=i,i.stateNode=c}return _n(i),null;case 13:if(Nt(Lt),c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dt&&Kn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Dp(),Ks(),i.flags|=98560,w=!1;else if(w=zu(i),c!==null&&c.dehydrated!==null){if(t===null){if(!w)throw Error(r(318));if(w=i.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Br]=i}else Ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;_n(i),w=!1}else br!==null&&(Of(br),br=null),w=!0;if(!w)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=s,i):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(Lt.current&1)!==0?Ht===0&&(Ht=3):Nf())),i.updateQueue!==null&&(i.flags|=4),_n(i),null);case 4:return qs(),gf(t,i),t===null&&Zl(i.stateNode.containerInfo),_n(i),null;case 10:return Vd(i.type._context),_n(i),null;case 17:return Dn(i.type)&&Au(),_n(i),null;case 19:if(Nt(Lt),w=i.memoizedState,w===null)return _n(i),null;if(c=(i.flags&128)!==0,C=w.rendering,C===null)if(c)da(w,!1);else{if(Ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(C=Wu(t),C!==null){for(i.flags|=128,da(w,!1),c=C.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=s,s=i.child;s!==null;)w=s,t=c,w.flags&=14680066,C=w.alternate,C===null?(w.childLanes=0,w.lanes=t,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=C.childLanes,w.lanes=C.lanes,w.child=C.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=C.memoizedProps,w.memoizedState=C.memoizedState,w.updateQueue=C.updateQueue,w.type=C.type,t=C.dependencies,w.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Ot(Lt,Lt.current&1|2),i.child}t=t.sibling}w.tail!==null&&wt()>Js&&(i.flags|=128,c=!0,da(w,!1),i.lanes=4194304)}else{if(!c)if(t=Wu(C),t!==null){if(i.flags|=128,c=!0,s=t.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),da(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!Dt)return _n(i),null}else 2*wt()-w.renderingStartTime>Js&&s!==1073741824&&(i.flags|=128,c=!0,da(w,!1),i.lanes=4194304);w.isBackwards?(C.sibling=i.child,i.child=C):(s=w.last,s!==null?s.sibling=C:i.child=C,w.last=C)}return w.tail!==null?(i=w.tail,w.rendering=i,w.tail=i.sibling,w.renderingStartTime=wt(),i.sibling=null,s=Lt.current,Ot(Lt,c?s&1|2:s&1),i):(_n(i),null);case 22:case 23:return Tf(),c=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(Vn&1073741824)!==0&&(_n(i),i.subtreeFlags&6&&(i.flags|=8192)):_n(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function Hw(t,i){switch(Ud(i),i.tag){case 1:return Dn(i.type)&&Au(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return qs(),Nt(Pn),Nt(bn),Jd(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return Yd(i),null;case 13:if(Nt(Lt),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Nt(Lt),null;case 4:return qs(),null;case 10:return Vd(i.type._context),null;case 22:case 23:return Tf(),null;case 24:return null;default:return null}}var ec=!1,xn=!1,qw=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Ys(t,i){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(c){Ut(t,i,c)}else s.current=null}function vf(t,i,s){try{s()}catch(c){Ut(t,i,c)}}var Nm=!1;function Gw(t,i){if(jd=$o,t=K(),$(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var p=c.anchorOffset,w=c.focusNode;c=c.focusOffset;try{s.nodeType,w.nodeType}catch{s=null;break e}var C=0,j=-1,R=-1,Z=0,oe=0,de=t,ie=null;t:for(;;){for(var je;de!==s||p!==0&&de.nodeType!==3||(j=C+p),de!==w||c!==0&&de.nodeType!==3||(R=C+c),de.nodeType===3&&(C+=de.nodeValue.length),(je=de.firstChild)!==null;)ie=de,de=je;for(;;){if(de===t)break t;if(ie===s&&++Z===p&&(j=C),ie===w&&++oe===c&&(R=C),(je=de.nextSibling)!==null)break;de=ie,ie=de.parentNode}de=je}s=j===-1||R===-1?null:{start:j,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Td={focusedElem:t,selectionRange:s},$o=!1,Ne=i;Ne!==null;)if(i=Ne,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ne=t;else for(;Ne!==null;){i=Ne;try{var Pe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ue=Pe.memoizedProps,zt=Pe.memoizedState,Y=i.stateNode,B=Y.getSnapshotBeforeUpdate(i.elementType===i.type?Ue:kr(i.type,Ue),zt);Y.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var X=i.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(we){Ut(i,i.return,we)}if(t=i.sibling,t!==null){t.return=i.return,Ne=t;break}Ne=i.return}return Pe=Nm,Nm=!1,Pe}function fa(t,i,s){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&t)===t){var w=p.destroy;p.destroy=void 0,w!==void 0&&vf(i,s,w)}p=p.next}while(p!==c)}}function tc(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var c=s.create;s.destroy=c()}s=s.next}while(s!==i)}}function wf(t){var i=t.ref;if(i!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof i=="function"?i(t):i.current=t}}function Pm(t){var i=t.alternate;i!==null&&(t.alternate=null,Pm(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[Br],delete i[ta],delete i[Ad],delete i[Tw],delete i[Nw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dm(t){return t.tag===5||t.tag===3||t.tag===4}function Am(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bf(t,i,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(t,i):s.insertBefore(t,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(t,s)):(i=s,i.appendChild(t)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Pu));else if(c!==4&&(t=t.child,t!==null))for(bf(t,i,s),t=t.sibling;t!==null;)bf(t,i,s),t=t.sibling}function kf(t,i,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(kf(t,i,s),t=t.sibling;t!==null;)kf(t,i,s),t=t.sibling}var dn=null,_r=!1;function ho(t,i,s){for(s=s.child;s!==null;)Rm(t,i,s),s=s.sibling}function Rm(t,i,s){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Lo,s)}catch{}switch(s.tag){case 5:xn||Ys(s,i);case 6:var c=dn,p=_r;dn=null,ho(t,i,s),dn=c,_r=p,dn!==null&&(_r?(t=dn,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):dn.removeChild(s.stateNode));break;case 18:dn!==null&&(_r?(t=dn,s=s.stateNode,t.nodeType===8?Dd(t.parentNode,s):t.nodeType===1&&Dd(t,s),mr(t)):Dd(dn,s.stateNode));break;case 4:c=dn,p=_r,dn=s.stateNode.containerInfo,_r=!0,ho(t,i,s),dn=c,_r=p;break;case 0:case 11:case 14:case 15:if(!xn&&(c=s.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){p=c=c.next;do{var w=p,C=w.destroy;w=w.tag,C!==void 0&&((w&2)!==0||(w&4)!==0)&&vf(s,i,C),p=p.next}while(p!==c)}ho(t,i,s);break;case 1:if(!xn&&(Ys(s,i),c=s.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=s.memoizedProps,c.state=s.memoizedState,c.componentWillUnmount()}catch(j){Ut(s,i,j)}ho(t,i,s);break;case 21:ho(t,i,s);break;case 22:s.mode&1?(xn=(c=xn)||s.memoizedState!==null,ho(t,i,s),xn=c):ho(t,i,s);break;default:ho(t,i,s)}}function Lm(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new qw),i.forEach(function(c){var p=rb.bind(null,t,c);s.has(c)||(s.add(c),c.then(p,p))})}}function xr(t,i){var s=i.deletions;if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];try{var w=t,C=i,j=C;e:for(;j!==null;){switch(j.tag){case 5:dn=j.stateNode,_r=!1;break e;case 3:dn=j.stateNode.containerInfo,_r=!0;break e;case 4:dn=j.stateNode.containerInfo,_r=!0;break e}j=j.return}if(dn===null)throw Error(r(160));Rm(w,C,p),dn=null,_r=!1;var R=p.alternate;R!==null&&(R.return=null),p.return=null}catch(Z){Ut(p,i,Z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Mm(i,t),i=i.sibling}function Mm(t,i){var s=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xr(i,t),Vr(t),c&4){try{fa(3,t,t.return),tc(3,t)}catch(Ue){Ut(t,t.return,Ue)}try{fa(5,t,t.return)}catch(Ue){Ut(t,t.return,Ue)}}break;case 1:xr(i,t),Vr(t),c&512&&s!==null&&Ys(s,s.return);break;case 5:if(xr(i,t),Vr(t),c&512&&s!==null&&Ys(s,s.return),t.flags&32){var p=t.stateNode;try{Zr(p,"")}catch(Ue){Ut(t,t.return,Ue)}}if(c&4&&(p=t.stateNode,p!=null)){var w=t.memoizedProps,C=s!==null?s.memoizedProps:w,j=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{j==="input"&&w.type==="radio"&&w.name!=null&&gn(p,w),ti(j,C);var Z=ti(j,w);for(C=0;C<R.length;C+=2){var oe=R[C],de=R[C+1];oe==="style"?gs(p,de):oe==="dangerouslySetInnerHTML"?Fi(p,de):oe==="children"?Zr(p,de):q(p,oe,de,Z)}switch(j){case"input":cr(p,w);break;case"textarea":Tl(p,w);break;case"select":var ie=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!w.multiple;var je=w.value;je!=null?an(p,!!w.multiple,je,!1):ie!==!!w.multiple&&(w.defaultValue!=null?an(p,!!w.multiple,w.defaultValue,!0):an(p,!!w.multiple,w.multiple?[]:"",!1))}p[ta]=w}catch(Ue){Ut(t,t.return,Ue)}}break;case 6:if(xr(i,t),Vr(t),c&4){if(t.stateNode===null)throw Error(r(162));p=t.stateNode,w=t.memoizedProps;try{p.nodeValue=w}catch(Ue){Ut(t,t.return,Ue)}}break;case 3:if(xr(i,t),Vr(t),c&4&&s!==null&&s.memoizedState.isDehydrated)try{mr(i.containerInfo)}catch(Ue){Ut(t,t.return,Ue)}break;case 4:xr(i,t),Vr(t);break;case 13:xr(i,t),Vr(t),p=t.child,p.flags&8192&&(w=p.memoizedState!==null,p.stateNode.isHidden=w,!w||p.alternate!==null&&p.alternate.memoizedState!==null||(Sf=wt())),c&4&&Lm(t);break;case 22:if(oe=s!==null&&s.memoizedState!==null,t.mode&1?(xn=(Z=xn)||oe,xr(i,t),xn=Z):xr(i,t),Vr(t),c&8192){if(Z=t.memoizedState!==null,(t.stateNode.isHidden=Z)&&!oe&&(t.mode&1)!==0)for(Ne=t,oe=t.child;oe!==null;){for(de=Ne=oe;Ne!==null;){switch(ie=Ne,je=ie.child,ie.tag){case 0:case 11:case 14:case 15:fa(4,ie,ie.return);break;case 1:Ys(ie,ie.return);var Pe=ie.stateNode;if(typeof Pe.componentWillUnmount=="function"){c=ie,s=ie.return;try{i=c,Pe.props=i.memoizedProps,Pe.state=i.memoizedState,Pe.componentWillUnmount()}catch(Ue){Ut(c,s,Ue)}}break;case 5:Ys(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Fm(de);continue}}je!==null?(je.return=ie,Ne=je):Fm(de)}oe=oe.sibling}e:for(oe=null,de=t;;){if(de.tag===5){if(oe===null){oe=de;try{p=de.stateNode,Z?(w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(j=de.stateNode,R=de.memoizedProps.style,C=R!=null&&R.hasOwnProperty("display")?R.display:null,j.style.display=Po("display",C))}catch(Ue){Ut(t,t.return,Ue)}}}else if(de.tag===6){if(oe===null)try{de.stateNode.nodeValue=Z?"":de.memoizedProps}catch(Ue){Ut(t,t.return,Ue)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===t)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===t)break e;for(;de.sibling===null;){if(de.return===null||de.return===t)break e;oe===de&&(oe=null),de=de.return}oe===de&&(oe=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:xr(i,t),Vr(t),c&4&&Lm(t);break;case 21:break;default:xr(i,t),Vr(t)}}function Vr(t){var i=t.flags;if(i&2){try{e:{for(var s=t.return;s!==null;){if(Dm(s)){var c=s;break e}s=s.return}throw Error(r(160))}switch(c.tag){case 5:var p=c.stateNode;c.flags&32&&(Zr(p,""),c.flags&=-33);var w=Am(t);kf(t,w,p);break;case 3:case 4:var C=c.stateNode.containerInfo,j=Am(t);bf(t,j,C);break;default:throw Error(r(161))}}catch(R){Ut(t,t.return,R)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Yw(t,i,s){Ne=t,Um(t)}function Um(t,i,s){for(var c=(t.mode&1)!==0;Ne!==null;){var p=Ne,w=p.child;if(p.tag===22&&c){var C=p.memoizedState!==null||ec;if(!C){var j=p.alternate,R=j!==null&&j.memoizedState!==null||xn;j=ec;var Z=xn;if(ec=C,(xn=R)&&!Z)for(Ne=p;Ne!==null;)C=Ne,R=C.child,C.tag===22&&C.memoizedState!==null?Bm(p):R!==null?(R.return=C,Ne=R):Bm(p);for(;w!==null;)Ne=w,Um(w),w=w.sibling;Ne=p,ec=j,xn=Z}zm(t)}else(p.subtreeFlags&8772)!==0&&w!==null?(w.return=p,Ne=w):zm(t)}}function zm(t){for(;Ne!==null;){var i=Ne;if((i.flags&8772)!==0){var s=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:xn||tc(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!xn)if(s===null)c.componentDidMount();else{var p=i.elementType===i.type?s.memoizedProps:kr(i.type,s.memoizedProps);c.componentDidUpdate(p,s.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var w=i.updateQueue;w!==null&&Fp(i,w,c);break;case 3:var C=i.updateQueue;if(C!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}Fp(i,C,s)}break;case 5:var j=i.stateNode;if(s===null&&i.flags&4){s=j;var R=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&s.focus();break;case"img":R.src&&(s.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Z=i.alternate;if(Z!==null){var oe=Z.memoizedState;if(oe!==null){var de=oe.dehydrated;de!==null&&mr(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}xn||i.flags&512&&wf(i)}catch(ie){Ut(i,i.return,ie)}}if(i===t){Ne=null;break}if(s=i.sibling,s!==null){s.return=i.return,Ne=s;break}Ne=i.return}}function Fm(t){for(;Ne!==null;){var i=Ne;if(i===t){Ne=null;break}var s=i.sibling;if(s!==null){s.return=i.return,Ne=s;break}Ne=i.return}}function Bm(t){for(;Ne!==null;){var i=Ne;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{tc(4,i)}catch(R){Ut(i,s,R)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var p=i.return;try{c.componentDidMount()}catch(R){Ut(i,p,R)}}var w=i.return;try{wf(i)}catch(R){Ut(i,w,R)}break;case 5:var C=i.return;try{wf(i)}catch(R){Ut(i,C,R)}}}catch(R){Ut(i,i.return,R)}if(i===t){Ne=null;break}var j=i.sibling;if(j!==null){j.return=i.return,Ne=j;break}Ne=i.return}}var Qw=Math.ceil,nc=se.ReactCurrentDispatcher,_f=se.ReactCurrentOwner,nr=se.ReactCurrentBatchConfig,mt=0,rn=null,Bt=null,fn=0,Vn=0,Qs=lo(0),Ht=0,ha=null,ts=0,rc=0,xf=0,pa=null,Rn=null,Sf=0,Js=1/0,Si=null,ic=!1,Ef=null,po=null,oc=!1,mo=null,sc=0,ma=0,Cf=null,lc=-1,ac=0;function Nn(){return(mt&6)!==0?wt():lc!==-1?lc:lc=wt()}function yo(t){return(t.mode&1)===0?1:(mt&2)!==0&&fn!==0?fn&-fn:Dw.transition!==null?(ac===0&&(ac=ui()),ac):(t=pt,t!==0||(t=window.event,t=t===void 0?16:Vo(t.type)),t)}function Sr(t,i,s,c){if(50<ma)throw ma=0,Cf=null,Error(r(185));ci(t,s,c),((mt&2)===0||t!==rn)&&(t===rn&&((mt&2)===0&&(rc|=s),Ht===4&&go(t,fn)),Ln(t,c),s===1&&mt===0&&(i.mode&1)===0&&(Js=wt()+500,Lu&&uo()))}function Ln(t,i){var s=t.callbackNode;zo(t,i);var c=Uo(t,t===rn?fn:0);if(c===0)s!==null&&bs(s),t.callbackNode=null,t.callbackPriority=0;else if(i=c&-c,t.callbackPriority!==i){if(s!=null&&bs(s),i===1)t.tag===0?Pw(Km.bind(null,t)):Op(Km.bind(null,t)),Ow(function(){(mt&6)===0&&uo()}),s=null;else{switch(Rl(c)){case 1:s=Ar;break;case 4:s=Ro;break;case 16:s=Wi;break;case 536870912:s=Rr;break;default:s=Wi}s=Jm(s,$m.bind(null,t))}t.callbackPriority=i,t.callbackNode=s}}function $m(t,i){if(lc=-1,ac=0,(mt&6)!==0)throw Error(r(327));var s=t.callbackNode;if(Xs()&&t.callbackNode!==s)return null;var c=Uo(t,t===rn?fn:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||i)i=uc(t,c);else{i=c;var p=mt;mt|=2;var w=Wm();(rn!==t||fn!==i)&&(Si=null,Js=wt()+500,rs(t,i));do try{Zw();break}catch(j){Vm(t,j)}while(!0);Kd(),nc.current=w,mt=p,Bt!==null?i=0:(rn=null,fn=0,i=Ht)}if(i!==0){if(i===2&&(p=ai(t),p!==0&&(c=p,i=If(t,p))),i===1)throw s=ha,rs(t,0),go(t,c),Ln(t,wt()),s;if(i===6)go(t,c);else{if(p=t.current.alternate,(c&30)===0&&!Jw(p)&&(i=uc(t,c),i===2&&(w=ai(t),w!==0&&(c=w,i=If(t,w))),i===1))throw s=ha,rs(t,0),go(t,c),Ln(t,wt()),s;switch(t.finishedWork=p,t.finishedLanes=c,i){case 0:case 1:throw Error(r(345));case 2:is(t,Rn,Si);break;case 3:if(go(t,c),(c&130023424)===c&&(i=Sf+500-wt(),10<i)){if(Uo(t,0)!==0)break;if(p=t.suspendedLanes,(p&c)!==c){Nn(),t.pingedLanes|=t.suspendedLanes&p;break}t.timeoutHandle=Pd(is.bind(null,t,Rn,Si),i);break}is(t,Rn,Si);break;case 4:if(go(t,c),(c&4194240)===c)break;for(i=t.eventTimes,p=-1;0<c;){var C=31-Qe(c);w=1<<C,C=i[C],C>p&&(p=C),c&=~w}if(c=p,c=wt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Qw(c/1960))-c,10<c){t.timeoutHandle=Pd(is.bind(null,t,Rn,Si),c);break}is(t,Rn,Si);break;case 5:is(t,Rn,Si);break;default:throw Error(r(329))}}}return Ln(t,wt()),t.callbackNode===s?$m.bind(null,t):null}function If(t,i){var s=pa;return t.current.memoizedState.isDehydrated&&(rs(t,i).flags|=256),t=uc(t,i),t!==2&&(i=Rn,Rn=s,i!==null&&Of(i)),t}function Of(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function Jw(t){for(var i=t;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var c=0;c<s.length;c++){var p=s[c],w=p.getSnapshot;p=p.value;try{if(!A(w(),p))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function go(t,i){for(i&=~xf,i&=~rc,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var s=31-Qe(i),c=1<<s;t[s]=-1,i&=~c}}function Km(t){if((mt&6)!==0)throw Error(r(327));Xs();var i=Uo(t,0);if((i&1)===0)return Ln(t,wt()),null;var s=uc(t,i);if(t.tag!==0&&s===2){var c=ai(t);c!==0&&(i=c,s=If(t,c))}if(s===1)throw s=ha,rs(t,0),go(t,i),Ln(t,wt()),s;if(s===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,is(t,Rn,Si),Ln(t,wt()),null}function jf(t,i){var s=mt;mt|=1;try{return t(i)}finally{mt=s,mt===0&&(Js=wt()+500,Lu&&uo())}}function ns(t){mo!==null&&mo.tag===0&&(mt&6)===0&&Xs();var i=mt;mt|=1;var s=nr.transition,c=pt;try{if(nr.transition=null,pt=1,t)return t()}finally{pt=c,nr.transition=s,mt=i,(mt&6)===0&&uo()}}function Tf(){Vn=Qs.current,Nt(Qs)}function rs(t,i){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,Iw(s)),Bt!==null)for(s=Bt.return;s!==null;){var c=s;switch(Ud(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Au();break;case 3:qs(),Nt(Pn),Nt(bn),Jd();break;case 5:Yd(c);break;case 4:qs();break;case 13:Nt(Lt);break;case 19:Nt(Lt);break;case 10:Vd(c.type._context);break;case 22:case 23:Tf()}s=s.return}if(rn=t,Bt=t=vo(t.current,null),fn=Vn=i,Ht=0,ha=null,xf=rc=ts=0,Rn=pa=null,Xo!==null){for(i=0;i<Xo.length;i++)if(s=Xo[i],c=s.interleaved,c!==null){s.interleaved=null;var p=c.next,w=s.pending;if(w!==null){var C=w.next;w.next=p,c.next=C}s.pending=c}Xo=null}return t}function Vm(t,i){do{var s=Bt;try{if(Kd(),Hu.current=Qu,qu){for(var c=Mt.memoizedState;c!==null;){var p=c.queue;p!==null&&(p.pending=null),c=c.next}qu=!1}if(es=0,nn=Wt=Mt=null,la=!1,aa=0,_f.current=null,s===null||s.return===null){Ht=1,ha=i,Bt=null;break}e:{var w=t,C=s.return,j=s,R=i;if(i=fn,j.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var Z=R,oe=j,de=oe.tag;if((oe.mode&1)===0&&(de===0||de===11||de===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var je=mm(C);if(je!==null){je.flags&=-257,ym(je,C,j,w,i),je.mode&1&&pm(w,Z,i),i=je,R=Z;var Pe=i.updateQueue;if(Pe===null){var Ue=new Set;Ue.add(R),i.updateQueue=Ue}else Pe.add(R);break e}else{if((i&1)===0){pm(w,Z,i),Nf();break e}R=Error(r(426))}}else if(Dt&&j.mode&1){var zt=mm(C);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),ym(zt,C,j,w,i),Bd(Gs(R,j));break e}}w=R=Gs(R,j),Ht!==4&&(Ht=2),pa===null?pa=[w]:pa.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,i&=-i,w.lanes|=i;var Y=fm(w,R,i);zp(w,Y);break e;case 1:j=R;var B=w.type,X=w.stateNode;if((w.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(po===null||!po.has(X)))){w.flags|=65536,i&=-i,w.lanes|=i;var we=hm(w,j,i);zp(w,we);break e}}w=w.return}while(w!==null)}qm(s)}catch(Fe){i=Fe,Bt===s&&s!==null&&(Bt=s=s.return);continue}break}while(!0)}function Wm(){var t=nc.current;return nc.current=Qu,t===null?Qu:t}function Nf(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),rn===null||(ts&268435455)===0&&(rc&268435455)===0||go(rn,fn)}function uc(t,i){var s=mt;mt|=2;var c=Wm();(rn!==t||fn!==i)&&(Si=null,rs(t,i));do try{Xw();break}catch(p){Vm(t,p)}while(!0);if(Kd(),mt=s,nc.current=c,Bt!==null)throw Error(r(261));return rn=null,fn=0,Ht}function Xw(){for(;Bt!==null;)Hm(Bt)}function Zw(){for(;Bt!==null&&!At();)Hm(Bt)}function Hm(t){var i=Qm(t.alternate,t,Vn);t.memoizedProps=t.pendingProps,i===null?qm(t):Bt=i,_f.current=null}function qm(t){var i=t;do{var s=i.alternate;if(t=i.return,(i.flags&32768)===0){if(s=Ww(s,i,Vn),s!==null){Bt=s;return}}else{if(s=Hw(s,i),s!==null){s.flags&=32767,Bt=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ht=6,Bt=null;return}}if(i=i.sibling,i!==null){Bt=i;return}Bt=i=t}while(i!==null);Ht===0&&(Ht=5)}function is(t,i,s){var c=pt,p=nr.transition;try{nr.transition=null,pt=1,eb(t,i,s,c)}finally{nr.transition=p,pt=c}return null}function eb(t,i,s,c){do Xs();while(mo!==null);if((mt&6)!==0)throw Error(r(327));s=t.finishedWork;var p=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var w=s.lanes|s.childLanes;if(_s(t,w),t===rn&&(Bt=rn=null,fn=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||oc||(oc=!0,Jm(Wi,function(){return Xs(),null})),w=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||w){w=nr.transition,nr.transition=null;var C=pt;pt=1;var j=mt;mt|=4,_f.current=null,Gw(t,s),Mm(s,t),W(Td),$o=!!jd,Td=jd=null,t.current=s,Yw(s),li(),mt=j,pt=C,nr.transition=w}else t.current=s;if(oc&&(oc=!1,mo=t,sc=p),w=t.pendingLanes,w===0&&(po=null),cu(s.stateNode),Ln(t,wt()),i!==null)for(c=t.onRecoverableError,s=0;s<i.length;s++)p=i[s],c(p.value,{componentStack:p.stack,digest:p.digest});if(ic)throw ic=!1,t=Ef,Ef=null,t;return(sc&1)!==0&&t.tag!==0&&Xs(),w=t.pendingLanes,(w&1)!==0?t===Cf?ma++:(ma=0,Cf=t):ma=0,uo(),null}function Xs(){if(mo!==null){var t=Rl(sc),i=nr.transition,s=pt;try{if(nr.transition=null,pt=16>t?16:t,mo===null)var c=!1;else{if(t=mo,mo=null,sc=0,(mt&6)!==0)throw Error(r(331));var p=mt;for(mt|=4,Ne=t.current;Ne!==null;){var w=Ne,C=w.child;if((Ne.flags&16)!==0){var j=w.deletions;if(j!==null){for(var R=0;R<j.length;R++){var Z=j[R];for(Ne=Z;Ne!==null;){var oe=Ne;switch(oe.tag){case 0:case 11:case 15:fa(8,oe,w)}var de=oe.child;if(de!==null)de.return=oe,Ne=de;else for(;Ne!==null;){oe=Ne;var ie=oe.sibling,je=oe.return;if(Pm(oe),oe===Z){Ne=null;break}if(ie!==null){ie.return=je,Ne=ie;break}Ne=je}}}var Pe=w.alternate;if(Pe!==null){var Ue=Pe.child;if(Ue!==null){Pe.child=null;do{var zt=Ue.sibling;Ue.sibling=null,Ue=zt}while(Ue!==null)}}Ne=w}}if((w.subtreeFlags&2064)!==0&&C!==null)C.return=w,Ne=C;else e:for(;Ne!==null;){if(w=Ne,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:fa(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Ne=Y;break e}Ne=w.return}}var B=t.current;for(Ne=B;Ne!==null;){C=Ne;var X=C.child;if((C.subtreeFlags&2064)!==0&&X!==null)X.return=C,Ne=X;else e:for(C=B;Ne!==null;){if(j=Ne,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:tc(9,j)}}catch(Fe){Ut(j,j.return,Fe)}if(j===C){Ne=null;break e}var we=j.sibling;if(we!==null){we.return=j.return,Ne=we;break e}Ne=j.return}}if(mt=p,uo(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Lo,t)}catch{}c=!0}return c}finally{pt=s,nr.transition=i}}return!1}function Gm(t,i,s){i=Gs(s,i),i=fm(t,i,1),t=fo(t,i,1),i=Nn(),t!==null&&(ci(t,1,i),Ln(t,i))}function Ut(t,i,s){if(t.tag===3)Gm(t,t,s);else for(;i!==null;){if(i.tag===3){Gm(i,t,s);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(po===null||!po.has(c))){t=Gs(s,t),t=hm(i,t,1),i=fo(i,t,1),t=Nn(),i!==null&&(ci(i,1,t),Ln(i,t));break}}i=i.return}}function tb(t,i,s){var c=t.pingCache;c!==null&&c.delete(i),i=Nn(),t.pingedLanes|=t.suspendedLanes&s,rn===t&&(fn&s)===s&&(Ht===4||Ht===3&&(fn&130023424)===fn&&500>wt()-Sf?rs(t,0):xf|=s),Ln(t,i)}function Ym(t,i){i===0&&((t.mode&1)===0?i=1:(i=Mo,Mo<<=1,(Mo&130023424)===0&&(Mo=4194304)));var s=Nn();t=ki(t,i),t!==null&&(ci(t,i,s),Ln(t,s))}function nb(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Ym(t,s)}function rb(t,i){var s=0;switch(t.tag){case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(s=p.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(i),Ym(t,s)}var Qm;Qm=function(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps||Pn.current)An=!0;else{if((t.lanes&s)===0&&(i.flags&128)===0)return An=!1,Vw(t,i,s);An=(t.flags&131072)!==0}else An=!1,Dt&&(i.flags&1048576)!==0&&jp(i,Uu,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Zu(t,i),t=i.pendingProps;var p=Fs(i,bn.current);Hs(i,s),p=ef(null,i,c,t,p,s);var w=tf();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Dn(c)?(w=!0,Ru(i)):w=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,qd(i),p.updater=Ju,i.stateNode=p,p._reactInternals=i,af(i,c,t,s),i=ff(null,i,c,!0,w,s)):(i.tag=0,Dt&&w&&Md(i),Tn(null,i,p,s),i=i.child),i;case 16:c=i.elementType;e:{switch(Zu(t,i),t=i.pendingProps,p=c._init,c=p(c._payload),i.type=c,p=i.tag=ob(c),t=kr(c,t),p){case 0:i=df(null,i,c,t,s);break e;case 1:i=_m(null,i,c,t,s);break e;case 11:i=gm(null,i,c,t,s);break e;case 14:i=vm(null,i,c,kr(c.type,t),s);break e}throw Error(r(306,c,""))}return i;case 0:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:kr(c,p),df(t,i,c,p,s);case 1:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:kr(c,p),_m(t,i,c,p,s);case 3:e:{if(xm(i),t===null)throw Error(r(387));c=i.pendingProps,w=i.memoizedState,p=w.element,Up(t,i),Vu(i,c,null,s);var C=i.memoizedState;if(c=C.element,w.isDehydrated)if(w={element:c,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){p=Gs(Error(r(423)),i),i=Sm(t,i,c,s,p);break e}else if(c!==p){p=Gs(Error(r(424)),i),i=Sm(t,i,c,s,p);break e}else for(Kn=so(i.stateNode.containerInfo.firstChild),$n=i,Dt=!0,br=null,s=Lp(i,null,c,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ks(),c===p){i=xi(t,i,s);break e}Tn(t,i,c,s)}i=i.child}return i;case 5:return Bp(i),t===null&&Fd(i),c=i.type,p=i.pendingProps,w=t!==null?t.memoizedProps:null,C=p.children,Nd(c,p)?C=null:w!==null&&Nd(c,w)&&(i.flags|=32),km(t,i),Tn(t,i,C,s),i.child;case 6:return t===null&&Fd(i),null;case 13:return Em(t,i,s);case 4:return Gd(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=Vs(i,null,c,s):Tn(t,i,c,s),i.child;case 11:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:kr(c,p),gm(t,i,c,p,s);case 7:return Tn(t,i,i.pendingProps,s),i.child;case 8:return Tn(t,i,i.pendingProps.children,s),i.child;case 12:return Tn(t,i,i.pendingProps.children,s),i.child;case 10:e:{if(c=i.type._context,p=i.pendingProps,w=i.memoizedProps,C=p.value,Ot(Bu,c._currentValue),c._currentValue=C,w!==null)if(A(w.value,C)){if(w.children===p.children&&!Pn.current){i=xi(t,i,s);break e}}else for(w=i.child,w!==null&&(w.return=i);w!==null;){var j=w.dependencies;if(j!==null){C=w.child;for(var R=j.firstContext;R!==null;){if(R.context===c){if(w.tag===1){R=_i(-1,s&-s),R.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var oe=Z.pending;oe===null?R.next=R:(R.next=oe.next,oe.next=R),Z.pending=R}}w.lanes|=s,R=w.alternate,R!==null&&(R.lanes|=s),Wd(w.return,s,i),j.lanes|=s;break}R=R.next}}else if(w.tag===10)C=w.type===i.type?null:w.child;else if(w.tag===18){if(C=w.return,C===null)throw Error(r(341));C.lanes|=s,j=C.alternate,j!==null&&(j.lanes|=s),Wd(C,s,i),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===i){C=null;break}if(w=C.sibling,w!==null){w.return=C.return,C=w;break}C=C.return}w=C}Tn(t,i,p.children,s),i=i.child}return i;case 9:return p=i.type,c=i.pendingProps.children,Hs(i,s),p=er(p),c=c(p),i.flags|=1,Tn(t,i,c,s),i.child;case 14:return c=i.type,p=kr(c,i.pendingProps),p=kr(c.type,p),vm(t,i,c,p,s);case 15:return wm(t,i,i.type,i.pendingProps,s);case 17:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:kr(c,p),Zu(t,i),i.tag=1,Dn(c)?(t=!0,Ru(i)):t=!1,Hs(i,s),cm(i,c,p),af(i,c,p,s),ff(null,i,c,!0,t,s);case 19:return Im(t,i,s);case 22:return bm(t,i,s)}throw Error(r(156,i.tag))};function Jm(t,i){return Dl(t,i)}function ib(t,i,s,c){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(t,i,s,c){return new ib(t,i,s,c)}function Pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ob(t){if(typeof t=="function")return Pf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ze)return 11;if(t===Be)return 14}return 2}function vo(t,i){var s=t.alternate;return s===null?(s=rr(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function cc(t,i,s,c,p,w){var C=2;if(c=t,typeof t=="function")Pf(t)&&(C=1);else if(typeof t=="string")C=5;else e:switch(t){case Ee:return os(s.children,p,w,i);case be:C=8,p|=8;break;case Re:return t=rr(12,s,i,p|2),t.elementType=Re,t.lanes=w,t;case We:return t=rr(13,s,i,p),t.elementType=We,t.lanes=w,t;case He:return t=rr(19,s,i,p),t.elementType=He,t.lanes=w,t;case me:return dc(s,p,w,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tt:C=10;break e;case pe:C=9;break e;case ze:C=11;break e;case Be:C=14;break e;case he:C=16,c=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return i=rr(C,s,i,p),i.elementType=t,i.type=c,i.lanes=w,i}function os(t,i,s,c){return t=rr(7,t,c,i),t.lanes=s,t}function dc(t,i,s,c){return t=rr(22,t,c,i),t.elementType=me,t.lanes=s,t.stateNode={isHidden:!1},t}function Df(t,i,s){return t=rr(6,t,null,i),t.lanes=s,t}function Af(t,i,s){return i=rr(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function sb(t,i,s,c,p){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fo(0),this.expirationTimes=Fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fo(0),this.identifierPrefix=c,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Rf(t,i,s,c,p,w,C,j,R){return t=new sb(t,i,s,j,R),i===1?(i=1,w===!0&&(i|=8)):i=0,w=rr(3,null,null,i),t.current=w,w.stateNode=t,w.memoizedState={element:c,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},qd(w),t}function lb(t,i,s){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:c==null?null:""+c,children:t,containerInfo:i,implementation:s}}function Xm(t){if(!t)return ao;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(r(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Dn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(t.tag===1){var s=t.type;if(Dn(s))return Cp(t,s,i)}return i}function Zm(t,i,s,c,p,w,C,j,R){return t=Rf(s,c,!0,t,p,w,C,j,R),t.context=Xm(null),s=t.current,c=Nn(),p=yo(s),w=_i(c,p),w.callback=i??null,fo(s,w,p),t.current.lanes=p,ci(t,p,c),Ln(t,c),t}function fc(t,i,s,c){var p=i.current,w=Nn(),C=yo(p);return s=Xm(s),i.context===null?i.context=s:i.pendingContext=s,i=_i(w,C),i.payload={element:t},c=c===void 0?null:c,c!==null&&(i.callback=c),t=fo(p,i,C),t!==null&&(Sr(t,p,C,w),Ku(t,p,C)),C}function hc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ey(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Lf(t,i){ey(t,i),(t=t.alternate)&&ey(t,i)}function ab(){return null}var ty=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mf(t){this._internalRoot=t}pc.prototype.render=Mf.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));fc(t,i,null,null)},pc.prototype.unmount=Mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;ns(function(){fc(null,t,null,null)}),i[gi]=null}};function pc(t){this._internalRoot=t}pc.prototype.unstable_scheduleHydration=function(t){if(t){var i=pu();t={blockedOn:null,target:t,priority:i};for(var s=0;s<$t.length&&i!==0&&i<$t[s].priority;s++);$t.splice(s,0,t),s===0&&yu(t)}};function Uf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ny(){}function ub(t,i,s,c,p){if(p){if(typeof c=="function"){var w=c;c=function(){var Z=hc(C);w.call(Z)}}var C=Zm(i,c,t,0,null,!1,!1,"",ny);return t._reactRootContainer=C,t[gi]=C.current,Zl(t.nodeType===8?t.parentNode:t),ns(),C}for(;p=t.lastChild;)t.removeChild(p);if(typeof c=="function"){var j=c;c=function(){var Z=hc(R);j.call(Z)}}var R=Rf(t,0,!1,null,null,!1,!1,"",ny);return t._reactRootContainer=R,t[gi]=R.current,Zl(t.nodeType===8?t.parentNode:t),ns(function(){fc(i,R,s,c)}),R}function yc(t,i,s,c,p){var w=s._reactRootContainer;if(w){var C=w;if(typeof p=="function"){var j=p;p=function(){var R=hc(C);j.call(R)}}fc(i,C,t,p)}else C=ub(s,i,t,p,c);return hc(C)}hu=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var s=Hi(i.pendingLanes);s!==0&&(xs(i,s|1),Ln(i,wt()),(mt&6)===0&&(Js=wt()+500,uo()))}break;case 13:ns(function(){var c=ki(t,1);if(c!==null){var p=Nn();Sr(c,t,1,p)}}),Lf(t,1)}},ht=function(t){if(t.tag===13){var i=ki(t,134217728);if(i!==null){var s=Nn();Sr(i,t,134217728,s)}Lf(t,134217728)}},Ll=function(t){if(t.tag===13){var i=yo(t),s=ki(t,i);if(s!==null){var c=Nn();Sr(s,t,i,c)}Lf(t,i)}},pu=function(){return pt},mu=function(t,i){var s=pt;try{return pt=t,i()}finally{pt=s}},Ce=function(t,i,s){switch(i){case"input":if(cr(t,s),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var c=s[i];if(c!==t&&c.form===t.form){var p=Du(c);if(!p)throw Error(r(90));Ve(c),cr(c,p)}}}break;case"textarea":Tl(t,s);break;case"select":i=s.value,i!=null&&an(t,!!s.multiple,i,!1)}},su=jf,lu=ns;var cb={usingClientEntryPoint:!1,Events:[na,Us,Du,Nl,ws,jf]},ya={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},db={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pl(t),t===null?null:t.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||ab,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Lo=gc.inject(db),In=gc}catch{}}return Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cb,Mn.createPortal=function(t,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uf(i))throw Error(r(200));return lb(t,i,null,s)},Mn.createRoot=function(t,i){if(!Uf(t))throw Error(r(299));var s=!1,c="",p=ty;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=Rf(t,1,!1,null,null,s,!1,c,p),t[gi]=i.current,Zl(t.nodeType===8?t.parentNode:t),new Mf(i)},Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Pl(i),t=t===null?null:t.stateNode,t},Mn.flushSync=function(t){return ns(t)},Mn.hydrate=function(t,i,s){if(!mc(i))throw Error(r(200));return yc(null,t,i,!0,s)},Mn.hydrateRoot=function(t,i,s){if(!Uf(t))throw Error(r(405));var c=s!=null&&s.hydratedSources||null,p=!1,w="",C=ty;if(s!=null&&(s.unstable_strictMode===!0&&(p=!0),s.identifierPrefix!==void 0&&(w=s.identifierPrefix),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),i=Zm(i,null,t,1,s??null,p,!1,w,C),t[gi]=i.current,Zl(t),c)for(t=0;t<c.length;t++)s=c[t],p=s._getVersion,p=p(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,p]:i.mutableSourceEagerHydrationData.push(s,p);return new pc(i)},Mn.render=function(t,i,s){if(!mc(i))throw Error(r(200));return yc(null,t,i,!1,s)},Mn.unmountComponentAtNode=function(t){if(!mc(t))throw Error(r(40));return t._reactRootContainer?(ns(function(){yc(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1},Mn.unstable_batchedUpdates=jf,Mn.unstable_renderSubtreeIntoContainer=function(t,i,s,c){if(!mc(s))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return yc(t,i,s,!1,c)},Mn.version="18.3.1-next-f1338f8080-20240426",Mn}var cy;function _b(){if(cy)return Bf.exports;cy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bf.exports=kb(),Bf.exports}var dy;function xb(){if(dy)return vc;dy=1;var n=_b();return vc.createRoot=n.createRoot,vc.hydrateRoot=n.hydrateRoot,vc}var Sb=xb(),Tc={exports:{}},Eb=Tc.exports,fy;function Cb(){return fy||(fy=1,(function(n,e){(function(r,o){n.exports=o()})(Eb,function(){var r=function(u,d){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,b){m.__proto__=b}||function(m,b){for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(m[_]=b[_])})(u,d)},o=function(){return(o=Object.assign||function(u){for(var d,m=1,b=arguments.length;m<b;m++)for(var _ in d=arguments[m])Object.prototype.hasOwnProperty.call(d,_)&&(u[_]=d[_]);return u}).apply(this,arguments)};function l(u,d,m){for(var b,_=0,E=d.length;_<E;_++)!b&&_ in d||((b=b||Array.prototype.slice.call(d,0,_))[_]=d[_]);return u.concat(b||Array.prototype.slice.call(d))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:mb,f=Object.keys,h=Array.isArray;function g(u,d){return typeof d!="object"||f(d).forEach(function(m){u[m]=d[m]}),u}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var y=Object.getPrototypeOf,v={}.hasOwnProperty;function k(u,d){return v.call(u,d)}function x(u,d){typeof d=="function"&&(d=d(y(u))),(typeof Reflect>"u"?f:Reflect.ownKeys)(d).forEach(function(m){I(u,m,d[m])})}var S=Object.defineProperty;function I(u,d,m,b){S(u,d,g(m&&k(m,"get")&&typeof m.get=="function"?{get:m.get,set:m.set,configurable:!0}:{value:m,configurable:!0,writable:!0},b))}function T(u){return{from:function(d){return u.prototype=Object.create(d.prototype),I(u.prototype,"constructor",u),{extend:x.bind(null,u.prototype)}}}}var z=Object.getOwnPropertyDescriptor,ne=[].slice;function ee(u,d,m){return ne.call(u,d,m)}function q(u,d){return d(u)}function se(u){if(!u)throw new Error("Assertion Failed")}function Se(u){a.setImmediate?setImmediate(u):setTimeout(u,0)}function fe(u,d){if(typeof d=="string"&&k(u,d))return u[d];if(!d)return u;if(typeof d!="string"){for(var m=[],b=0,_=d.length;b<_;++b){var E=fe(u,d[b]);m.push(E)}return m}var O=d.indexOf(".");if(O!==-1){var N=u[d.substr(0,O)];return N==null?void 0:fe(N,d.substr(O+1))}}function Ee(u,d,m){if(u&&d!==void 0&&!("isFrozen"in Object&&Object.isFrozen(u)))if(typeof d!="string"&&"length"in d){se(typeof m!="string"&&"length"in m);for(var b=0,_=d.length;b<_;++b)Ee(u,d[b],m[b])}else{var E,O,N=d.indexOf(".");N!==-1?(E=d.substr(0,N),(O=d.substr(N+1))===""?m===void 0?h(u)&&!isNaN(parseInt(E))?u.splice(E,1):delete u[E]:u[E]=m:Ee(N=!(N=u[E])||!k(u,E)?u[E]={}:N,O,m)):m===void 0?h(u)&&!isNaN(parseInt(d))?u.splice(d,1):delete u[d]:u[d]=m}}function be(u){var d,m={};for(d in u)k(u,d)&&(m[d]=u[d]);return m}var Re=[].concat;function tt(u){return Re.apply([],u)}var Cr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(tt([8,16,32,64].map(function(u){return["Int","Uint","Float"].map(function(d){return d+u+"Array"})}))).filter(function(u){return a[u]}),pe=new Set(Cr.map(function(u){return a[u]})),ze=null;function We(u){return ze=new WeakMap,u=(function d(m){if(!m||typeof m!="object")return m;var b=ze.get(m);if(b)return b;if(h(m)){b=[],ze.set(m,b);for(var _=0,E=m.length;_<E;++_)b.push(d(m[_]))}else if(pe.has(m.constructor))b=m;else{var O,N=y(m);for(O in b=N===Object.prototype?{}:Object.create(N),ze.set(m,b),m)k(m,O)&&(b[O]=d(m[O]))}return b})(u),ze=null,u}var He={}.toString;function Be(u){return He.call(u).slice(8,-1)}var he=typeof Symbol<"u"?Symbol.iterator:"@@iterator",me=typeof he=="symbol"?function(u){var d;return u!=null&&(d=u[he])&&d.apply(u)}:function(){return null};function F(u,d){return d=u.indexOf(d),0<=d&&u.splice(d,1),0<=d}var ue={};function le(u){var d,m,b,_;if(arguments.length===1){if(h(u))return u.slice();if(this===ue&&typeof u=="string")return[u];if(_=me(u)){for(m=[];!(b=_.next()).done;)m.push(b.value);return m}if(u==null)return[u];if(typeof(d=u.length)!="number")return[u];for(m=new Array(d);d--;)m[d]=u[d];return m}for(d=arguments.length,m=new Array(d);d--;)m[d]=arguments[d];return m}var D=typeof Symbol<"u"?function(u){return u[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ui=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],jn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ui),Q={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ye(u,d){this.name=u,this.message=d}function Oe(u,d){return u+". Errors: "+Object.keys(d).map(function(m){return d[m].toString()}).filter(function(m,b,_){return _.indexOf(m)===b}).join(`
`)}function Ke(u,d,m,b){this.failures=d,this.failedKeys=b,this.successCount=m,this.message=Oe(u,d)}function $e(u,d){this.name="BulkError",this.failures=Object.keys(d).map(function(m){return d[m]}),this.failuresByPos=d,this.message=Oe(u,this.failures)}T(ye).from(Error).extend({toString:function(){return this.name+": "+this.message}}),T(Ke).from(ye),T($e).from(ye);var Le=jn.reduce(function(u,d){return u[d]=d+"Error",u},{}),qe=ye,ae=jn.reduce(function(u,d){var m=d+"Error";function b(_,E){this.name=m,_?typeof _=="string"?(this.message="".concat(_).concat(E?`
 `+E:""),this.inner=E||null):typeof _=="object"&&(this.message="".concat(_.name," ").concat(_.message),this.inner=_):(this.message=Q[d]||m,this.inner=null)}return T(b).from(qe),u[d]=b,u},{});ae.Syntax=SyntaxError,ae.Type=TypeError,ae.Range=RangeError;var et=Ui.reduce(function(u,d){return u[d+"Error"]=ae[d],u},{}),_t=jn.reduce(function(u,d){return["Syntax","Type","Range"].indexOf(d)===-1&&(u[d+"Error"]=ae[d]),u},{});function Ve(){}function ot(u){return u}function ft(u,d){return u==null||u===ot?d:function(m){return d(u(m))}}function vt(u,d){return function(){u.apply(this,arguments),d.apply(this,arguments)}}function gn(u,d){return u===Ve?d:function(){var m=u.apply(this,arguments);m!==void 0&&(arguments[0]=m);var b=this.onsuccess,_=this.onerror;this.onsuccess=null,this.onerror=null;var E=d.apply(this,arguments);return b&&(this.onsuccess=this.onsuccess?vt(b,this.onsuccess):b),_&&(this.onerror=this.onerror?vt(_,this.onerror):_),E!==void 0?E:m}}function cr(u,d){return u===Ve?d:function(){u.apply(this,arguments);var m=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?vt(m,this.onsuccess):m),b&&(this.onerror=this.onerror?vt(b,this.onerror):b)}}function Fn(u,d){return u===Ve?d:function(m){var b=u.apply(this,arguments);g(m,b);var _=this.onsuccess,E=this.onerror;return this.onsuccess=null,this.onerror=null,m=d.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?vt(_,this.onsuccess):_),E&&(this.onerror=this.onerror?vt(E,this.onerror):E),b===void 0?m===void 0?void 0:m:g(b,m)}}function jl(u,d){return u===Ve?d:function(){return d.apply(this,arguments)!==!1&&u.apply(this,arguments)}}function Xr(u,d){return u===Ve?d:function(){var m=u.apply(this,arguments);if(m&&typeof m.then=="function"){for(var b=this,_=arguments.length,E=new Array(_);_--;)E[_]=arguments[_];return m.then(function(){return d.apply(b,E)})}return d.apply(this,arguments)}}_t.ModifyError=Ke,_t.DexieError=ye,_t.BulkError=$e;var an=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ys(u){an=u}var Mi={},Tl=100,Cr=typeof Promise>"u"?[]:(function(){var u=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[u,y(u),u];var d=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[d,y(d),u]})(),Ui=Cr[0],jn=Cr[1],Cr=Cr[2],jn=jn&&jn.then,dr=Ui&&Ui.constructor,zi=!!Cr,Fi=function(u,d){ti.push([u,d]),Ir&&(queueMicrotask(lu),Ir=!1)},Zr=!0,Ir=!0,ei=[],Po=[],gs=ot,Or={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ve,pgp:!1,env:{},finalize:Ve},Me=Or,ti=[],fr=0,Bi=[];function Ce(u){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=Me;if(typeof u!="function"){if(u!==Mi)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&vs(this,this._value))}this._state=null,this._value=null,++d.ref,(function m(b,_){try{_(function(E){if(b._state===null){if(E===b)throw new TypeError("A promise cannot be resolved with itself.");var O=b._lib&&Tr();E&&typeof E.then=="function"?m(b,function(N,L){E instanceof Ce?E._then(N,L):E.then(N,L)}):(b._state=!0,b._value=E,Nl(b)),O&&ri()}},vs.bind(null,b))}catch(E){vs(b,E)}})(this,u)}var jr={get:function(){var u=Me,d=Ki;function m(b,_){var E=this,O=!u.global&&(u!==Me||d!==Ki),N=O&&!vn(),L=new Ce(function(A,V){ws(E,new ni(Dl(b,u,O,N),Dl(_,u,O,N),A,V,u))});return this._consoleTask&&(L._consoleTask=this._consoleTask),L}return m.prototype=Mi,m},set:function(u){I(this,"then",u&&u.prototype===Mi?jr:{get:function(){return u},set:jr.set})}};function ni(u,d,m,b,_){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof d=="function"?d:null,this.resolve=m,this.reject=b,this.psd=_}function vs(u,d){var m,b;Po.push(d),u._state===null&&(m=u._lib&&Tr(),d=gs(d),u._state=!1,u._value=d,b=u,ei.some(function(_){return _._value===b._value})||ei.push(b),Nl(u),m&&ri())}function Nl(u){var d=u._listeners;u._listeners=[];for(var m=0,b=d.length;m<b;++m)ws(u,d[m]);var _=u._PSD;--_.ref||_.finalize(),fr===0&&(++fr,Fi(function(){--fr==0&&ii()},[]))}function ws(u,d){if(u._state!==null){var m=u._state?d.onFulfilled:d.onRejected;if(m===null)return(u._state?d.resolve:d.reject)(u._value);++d.psd.ref,++fr,Fi(su,[m,u,d])}else u._listeners.push(d)}function su(u,d,m){try{var b,_=d._value;!d._state&&Po.length&&(Po=[]),b=an&&d._consoleTask?d._consoleTask.run(function(){return u(_)}):u(_),d._state||Po.indexOf(_)!==-1||(function(E){for(var O=ei.length;O;)if(ei[--O]._value===E._value)return ei.splice(O,1)})(d),m.resolve(b)}catch(E){m.reject(E)}finally{--fr==0&&ii(),--m.psd.ref||m.psd.finalize()}}function lu(){Dr(Or,function(){Tr()&&ri()})}function Tr(){var u=Zr;return Ir=Zr=!1,u}function ri(){var u,d,m;do for(;0<ti.length;)for(u=ti,ti=[],m=u.length,d=0;d<m;++d){var b=u[d];b[0].apply(null,b[1])}while(0<ti.length);Ir=Zr=!0}function ii(){var u=ei;ei=[],u.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)});for(var d=Bi.slice(0),m=d.length;m;)d[--m]()}function $i(u){return new Ce(Mi,!1,u)}function bt(u,d){var m=Me;return function(){var b=Tr(),_=Me;try{return Pr(m,!0),u.apply(this,arguments)}catch(E){d&&d(E)}finally{Pr(_,!1),b&&ri()}}}x(Ce.prototype,{then:jr,_then:function(u,d){ws(this,new ni(null,null,u,d,Me))},catch:function(u){if(arguments.length===1)return this.then(null,u);var d=u,m=arguments[1];return typeof d=="function"?this.then(null,function(b){return(b instanceof d?m:$i)(b)}):this.then(null,function(b){return(b&&b.name===d?m:$i)(b)})},finally:function(u){return this.then(function(d){return Ce.resolve(u()).then(function(){return d})},function(d){return Ce.resolve(u()).then(function(){return $i(d)})})},timeout:function(u,d){var m=this;return u<1/0?new Ce(function(b,_){var E=setTimeout(function(){return _(new ae.Timeout(d))},u);m.then(b,_).finally(clearTimeout.bind(null,E))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&I(Ce.prototype,Symbol.toStringTag,"Dexie.Promise"),Or.env=Pl(),x(Ce,{all:function(){var u=le.apply(null,arguments).map(Ao);return new Ce(function(d,m){u.length===0&&d([]);var b=u.length;u.forEach(function(_,E){return Ce.resolve(_).then(function(O){u[E]=O,--b||d(u)},m)})})},resolve:function(u){return u instanceof Ce?u:u&&typeof u.then=="function"?new Ce(function(d,m){u.then(d,m)}):new Ce(Mi,!0,u)},reject:$i,race:function(){var u=le.apply(null,arguments).map(Ao);return new Ce(function(d,m){u.map(function(b){return Ce.resolve(b).then(d,m)})})},PSD:{get:function(){return Me},set:function(u){return Me=u}},totalEchoes:{get:function(){return Ki}},newPSD:Nr,usePSD:Dr,scheduler:{get:function(){return Fi},set:function(u){Fi=u}},rejectionMapper:{get:function(){return gs},set:function(u){gs=u}},follow:function(u,d){return new Ce(function(m,b){return Nr(function(_,E){var O=Me;O.unhandleds=[],O.onunhandled=E,O.finalize=vt(function(){var N,L=this;N=function(){L.unhandleds.length===0?_():E(L.unhandleds[0])},Bi.push(function A(){N(),Bi.splice(Bi.indexOf(A),1)}),++fr,Fi(function(){--fr==0&&ii()},[])},O.finalize),u()},d,m,b)})}}),dr&&(dr.allSettled&&I(Ce,"allSettled",function(){var u=le.apply(null,arguments).map(Ao);return new Ce(function(d){u.length===0&&d([]);var m=u.length,b=new Array(m);u.forEach(function(_,E){return Ce.resolve(_).then(function(O){return b[E]={status:"fulfilled",value:O}},function(O){return b[E]={status:"rejected",reason:O}}).then(function(){return--m||d(b)})})})}),dr.any&&typeof AggregateError<"u"&&I(Ce,"any",function(){var u=le.apply(null,arguments).map(Ao);return new Ce(function(d,m){u.length===0&&m(new AggregateError([]));var b=u.length,_=new Array(b);u.forEach(function(E,O){return Ce.resolve(E).then(function(N){return d(N)},function(N){_[O]=N,--b||m(new AggregateError(_))})})})}),dr.withResolvers&&(Ce.withResolvers=dr.withResolvers));var Ft={awaits:0,echoes:0,id:0},Do=0,oi=[],si=0,Ki=0,kd=0;function Nr(u,d,m,b){var _=Me,E=Object.create(_);return E.parent=_,E.ref=0,E.global=!1,E.id=++kd,Or.env,E.env=zi?{Promise:Ce,PromiseProp:{value:Ce,configurable:!0,writable:!0},all:Ce.all,race:Ce.race,allSettled:Ce.allSettled,any:Ce.any,resolve:Ce.resolve,reject:Ce.reject}:{},d&&g(E,d),++_.ref,E.finalize=function(){--this.parent.ref||this.parent.finalize()},b=Dr(E,u,m,b),E.ref===0&&E.finalize(),b}function Vi(){return Ft.id||(Ft.id=++Do),++Ft.awaits,Ft.echoes+=Tl,Ft.id}function vn(){return!!Ft.awaits&&(--Ft.awaits==0&&(Ft.id=0),Ft.echoes=Ft.awaits*Tl,!0)}function Ao(u){return Ft.echoes&&u&&u.constructor===dr?(Vi(),u.then(function(d){return vn(),d},function(d){return vn(),At(d)})):u}function au(){var u=oi[oi.length-1];oi.pop(),Pr(u,!1)}function Pr(u,d){var m,b=Me;(d?!Ft.echoes||si++&&u===Me:!si||--si&&u===Me)||queueMicrotask(d?(function(_){++Ki,Ft.echoes&&--Ft.echoes!=0||(Ft.echoes=Ft.awaits=Ft.id=0),oi.push(Me),Pr(_,!0)}).bind(null,u):au),u!==Me&&(Me=u,b===Or&&(Or.env=Pl()),zi&&(m=Or.env.Promise,d=u.env,(b.global||u.global)&&(Object.defineProperty(a,"Promise",d.PromiseProp),m.all=d.all,m.race=d.race,m.resolve=d.resolve,m.reject=d.reject,d.allSettled&&(m.allSettled=d.allSettled),d.any&&(m.any=d.any))))}function Pl(){var u=a.Promise;return zi?{Promise:u,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:u.all,race:u.race,allSettled:u.allSettled,any:u.any,resolve:u.resolve,reject:u.reject}:{}}function Dr(u,d,m,b,_){var E=Me;try{return Pr(u,!0),d(m,b,_)}finally{Pr(E,!1)}}function Dl(u,d,m,b){return typeof u!="function"?u:function(){var _=Me;m&&Vi(),Pr(d,!0);try{return u.apply(this,arguments)}finally{Pr(_,!1),b&&queueMicrotask(vn)}}}function bs(u){Promise===dr&&Ft.echoes===0?si===0?u():enqueueNativeMicroTask(u):setTimeout(u,0)}(""+jn).indexOf("[native code]")===-1&&(Vi=vn=Ve);var At=Ce.reject,li="￿",wt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",uu="String expected.",Ar=[],Ro="__dbnames",Wi="readonly",Al="readwrite";function Rr(u,d){return u?d?function(){return u.apply(this,arguments)&&d.apply(this,arguments)}:u:d}var Lo={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function In(u){return typeof u!="string"||/\./.test(u)?function(d){return d}:function(d){return d[u]===void 0&&u in d&&delete(d=We(d))[u],d}}function cu(){throw ae.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Qe(u,d){try{var m=du(u),b=du(d);if(m!==b)return m==="Array"?1:b==="Array"?-1:m==="binary"?1:b==="binary"?-1:m==="string"?1:b==="string"?-1:m==="Date"?1:b!=="Date"?NaN:-1;switch(m){case"number":case"Date":case"string":return d<u?1:u<d?-1:0;case"binary":return(function(_,E){for(var O=_.length,N=E.length,L=O<N?O:N,A=0;A<L;++A)if(_[A]!==E[A])return _[A]<E[A]?-1:1;return O===N?0:O<N?-1:1})(fu(u),fu(d));case"Array":return(function(_,E){for(var O=_.length,N=E.length,L=O<N?O:N,A=0;A<L;++A){var V=Qe(_[A],E[A]);if(V!==0)return V}return O===N?0:O<N?-1:1})(u,d)}}catch{}return NaN}function du(u){var d=typeof u;return d!="object"?d:ArrayBuffer.isView(u)?"binary":(u=Be(u),u==="ArrayBuffer"?"binary":u)}function fu(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):new Uint8Array(u)}function ks(u,d,m){var b=u.schema.yProps;return b?(d&&0<m.numFailures&&(d=d.filter(function(_,E){return!m.failures[E]})),Promise.all(b.map(function(_){return _=_.updatesTable,d?u.db.table(_).where("k").anyOf(d).delete():u.db.table(_).clear()})).then(function(){return m})):m}var Lr=(Mo.prototype.execute=function(u){var d=this["@@propmod"];if(d.add!==void 0){var m=d.add;if(h(m))return l(l([],h(u)?u:[],!0),m).sort();if(typeof m=="number")return(Number(u)||0)+m;if(typeof m=="bigint")try{return BigInt(u)+m}catch{return BigInt(0)+m}throw new TypeError("Invalid term ".concat(m))}if(d.remove!==void 0){var b=d.remove;if(h(b))return h(u)?u.filter(function(_){return!b.includes(_)}).sort():[];if(typeof b=="number")return Number(u)-b;if(typeof b=="bigint")try{return BigInt(u)-b}catch{return BigInt(0)-b}throw new TypeError("Invalid subtrahend ".concat(b))}return m=(m=d.replacePrefix)===null||m===void 0?void 0:m[0],m&&typeof u=="string"&&u.startsWith(m)?d.replacePrefix[1]+u.substring(m.length):u},Mo);function Mo(u){this["@@propmod"]=u}function Hi(u,d){for(var m=f(d),b=m.length,_=!1,E=0;E<b;++E){var O=m[E],N=d[O],L=fe(u,O);N instanceof Lr?(Ee(u,O,N.execute(L)),_=!0):L!==N&&(Ee(u,O,N),_=!0)}return _}var Uo=(St.prototype._trans=function(u,d,m){var b=this._tx||Me.trans,_=this.name,E=an&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(u==="readonly"?"read":"write"," ").concat(this.name));function O(A,V,P){if(!P.schema[_])throw new ae.NotFound("Table "+_+" not part of transaction");return d(P.idbtrans,P)}var N=Tr();try{var L=b&&b.db._novip===this.db._novip?b===Me.trans?b._promise(u,O,m):Nr(function(){return b._promise(u,O,m)},{trans:b,transless:Me.transless||Me}):(function A(V,P,H,U){if(V.idbdb&&(V._state.openComplete||Me.letThrough||V._vip)){var K=V._createTransaction(P,H,V._dbSchema);try{K.create(),V._state.PR1398_maxLoop=3}catch($){return $.name===Le.InvalidState&&V.isOpen()&&0<--V._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),V.close({disableAutoOpen:!1}),V.open().then(function(){return A(V,P,H,U)})):At($)}return K._promise(P,function($,W){return Nr(function(){return Me.trans=K,U($,W,K)})}).then(function($){if(P==="readwrite")try{K.idbtrans.commit()}catch{}return P==="readonly"?$:K._completion.then(function(){return $})})}if(V._state.openComplete)return At(new ae.DatabaseClosed(V._state.dbOpenError));if(!V._state.isBeingOpened){if(!V._state.autoOpen)return At(new ae.DatabaseClosed);V.open().catch(Ve)}return V._state.dbReadyPromise.then(function(){return A(V,P,H,U)})})(this.db,u,[this.name],O);return E&&(L._consoleTask=E,L=L.catch(function(A){return console.trace(A),At(A)})),L}finally{N&&ri()}},St.prototype.get=function(u,d){var m=this;return u&&u.constructor===Object?this.where(u).first(d):u==null?At(new ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return m.core.get({trans:b,key:u}).then(function(_){return m.hook.reading.fire(_)})}).then(d)},St.prototype.where=function(u){if(typeof u=="string")return new this.db.WhereClause(this,u);if(h(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var d=f(u);if(d.length===1)return this.where(d[0]).equals(u[d[0]]);var m=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&d.every(function(A){return 0<=N.keyPath.indexOf(A)})){for(var L=0;L<d.length;++L)if(d.indexOf(N.keyPath[L])===-1)return!1;return!0}return!1}).sort(function(N,L){return N.keyPath.length-L.keyPath.length})[0];if(m&&this.db._maxKey!==li){var E=m.keyPath.slice(0,d.length);return this.where(E).equals(E.map(function(L){return u[L]}))}!m&&an&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var b=this.schema.idxByName;function _(N,L){return Qe(N,L)===0}var O=d.reduce(function(P,L){var A=P[0],V=P[1],P=b[L],H=u[L];return[A||P,A||!P?Rr(V,P&&P.multi?function(U){return U=fe(U,L),h(U)&&U.some(function(K){return _(H,K)})}:function(U){return _(H,fe(U,L))}):V]},[null,null]),E=O[0],O=O[1];return E?this.where(E.name).equals(u[E.keyPath]).filter(O):m?this.filter(O):this.where(d).equals("")},St.prototype.filter=function(u){return this.toCollection().and(u)},St.prototype.count=function(u){return this.toCollection().count(u)},St.prototype.offset=function(u){return this.toCollection().offset(u)},St.prototype.limit=function(u){return this.toCollection().limit(u)},St.prototype.each=function(u){return this.toCollection().each(u)},St.prototype.toArray=function(u){return this.toCollection().toArray(u)},St.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},St.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,h(u)?"[".concat(u.join("+"),"]"):u))},St.prototype.reverse=function(){return this.toCollection().reverse()},St.prototype.mapToClass=function(u){var d,m=this.db,b=this.name;function _(){return d!==null&&d.apply(this,arguments)||this}(this.schema.mappedClass=u).prototype instanceof cu&&((function(L,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function V(){this.constructor=L}r(L,A),L.prototype=A===null?Object.create(A):(V.prototype=A.prototype,new V)})(_,d=u),Object.defineProperty(_.prototype,"db",{get:function(){return m},enumerable:!1,configurable:!0}),_.prototype.table=function(){return b},u=_);for(var E=new Set,O=u.prototype;O;O=y(O))Object.getOwnPropertyNames(O).forEach(function(L){return E.add(L)});function N(L){if(!L)return L;var A,V=Object.create(u.prototype);for(A in L)if(!E.has(A))try{V[A]=L[A]}catch{}return V}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=N,this.hook("reading",N),u},St.prototype.defineClass=function(){return this.mapToClass(function(u){g(this,u)})},St.prototype.add=function(u,d){var m=this,b=this.schema.primKey,_=b.auto,E=b.keyPath,O=u;return E&&_&&(O=In(E)(u)),this._trans("readwrite",function(N){return m.core.mutate({trans:N,type:"add",keys:d!=null?[d]:null,values:[O]})}).then(function(N){return N.numFailures?Ce.reject(N.failures[0]):N.lastResult}).then(function(N){if(E)try{Ee(u,E,N)}catch{}return N})},St.prototype.upsert=function(u,d){var m=this,b=this.schema.primKey.keyPath;return this._trans("readwrite",function(_){return m.core.get({trans:_,key:u}).then(function(E){var O=E??{};return Hi(O,d),b&&Ee(O,b,u),m.core.mutate({trans:_,type:"put",values:[O],keys:[u],upsert:!0,updates:{keys:[u],changeSpecs:[d]}}).then(function(N){return N.numFailures?Ce.reject(N.failures[0]):!!E})})})},St.prototype.update=function(u,d){return typeof u!="object"||h(u)?this.where(":id").equals(u).modify(d):(u=fe(u,this.schema.primKey.keyPath),u===void 0?At(new ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(u).modify(d))},St.prototype.put=function(u,d){var m=this,b=this.schema.primKey,_=b.auto,E=b.keyPath,O=u;return E&&_&&(O=In(E)(u)),this._trans("readwrite",function(N){return m.core.mutate({trans:N,type:"put",values:[O],keys:d!=null?[d]:null})}).then(function(N){return N.numFailures?Ce.reject(N.failures[0]):N.lastResult}).then(function(N){if(E)try{Ee(u,E,N)}catch{}return N})},St.prototype.delete=function(u){var d=this;return this._trans("readwrite",function(m){return d.core.mutate({trans:m,type:"delete",keys:[u]}).then(function(b){return ks(d,[u],b)}).then(function(b){return b.numFailures?Ce.reject(b.failures[0]):void 0})})},St.prototype.clear=function(){var u=this;return this._trans("readwrite",function(d){return u.core.mutate({trans:d,type:"deleteRange",range:Lo}).then(function(m){return ks(u,null,m)})}).then(function(d){return d.numFailures?Ce.reject(d.failures[0]):void 0})},St.prototype.bulkGet=function(u){var d=this;return this._trans("readonly",function(m){return d.core.getMany({keys:u,trans:m}).then(function(b){return b.map(function(_){return d.hook.reading.fire(_)})})})},St.prototype.bulkAdd=function(u,d,m){var b=this,_=Array.isArray(d)?d:void 0,E=(m=m||(_?void 0:d))?m.allKeys:void 0;return this._trans("readwrite",function(O){var A=b.schema.primKey,N=A.auto,A=A.keyPath;if(A&&_)throw new ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(_&&_.length!==u.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var L=u.length,A=A&&N?u.map(In(A)):u;return b.core.mutate({trans:O,type:"add",keys:_,values:A,wantResults:E}).then(function(K){var P=K.numFailures,H=K.results,U=K.lastResult,K=K.failures;if(P===0)return E?H:U;throw new $e("".concat(b.name,".bulkAdd(): ").concat(P," of ").concat(L," operations failed"),K)})})},St.prototype.bulkPut=function(u,d,m){var b=this,_=Array.isArray(d)?d:void 0,E=(m=m||(_?void 0:d))?m.allKeys:void 0;return this._trans("readwrite",function(O){var A=b.schema.primKey,N=A.auto,A=A.keyPath;if(A&&_)throw new ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(_&&_.length!==u.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var L=u.length,A=A&&N?u.map(In(A)):u;return b.core.mutate({trans:O,type:"put",keys:_,values:A,wantResults:E}).then(function(K){var P=K.numFailures,H=K.results,U=K.lastResult,K=K.failures;if(P===0)return E?H:U;throw new $e("".concat(b.name,".bulkPut(): ").concat(P," of ").concat(L," operations failed"),K)})})},St.prototype.bulkUpdate=function(u){var d=this,m=this.core,b=u.map(function(O){return O.key}),_=u.map(function(O){return O.changes}),E=[];return this._trans("readwrite",function(O){return m.getMany({trans:O,keys:b,cache:"clone"}).then(function(N){var L=[],A=[];u.forEach(function(P,H){var U=P.key,K=P.changes,$=N[H];if($){for(var W=0,G=Object.keys(K);W<G.length;W++){var J=G[W],te=K[J];if(J===d.schema.primKey.keyPath){if(Qe(te,U)!==0)throw new ae.Constraint("Cannot update primary key in bulkUpdate()")}else Ee($,J,te)}E.push(H),L.push(U),A.push($)}});var V=L.length;return m.mutate({trans:O,type:"put",keys:L,values:A,updates:{keys:b,changeSpecs:_}}).then(function(P){var H=P.numFailures,U=P.failures;if(H===0)return V;for(var K=0,$=Object.keys(U);K<$.length;K++){var W,G=$[K],J=E[Number(G)];J!=null&&(W=U[G],delete U[G],U[J]=W)}throw new $e("".concat(d.name,".bulkUpdate(): ").concat(H," of ").concat(V," operations failed"),U)})})})},St.prototype.bulkDelete=function(u){var d=this,m=u.length;return this._trans("readwrite",function(b){return d.core.mutate({trans:b,type:"delete",keys:u}).then(function(_){return ks(d,u,_)})}).then(function(O){var _=O.numFailures,E=O.lastResult,O=O.failures;if(_===0)return E;throw new $e("".concat(d.name,".bulkDelete(): ").concat(_," of ").concat(m," operations failed"),O)})},St);function St(){}function zo(u){function d(O,N){if(N){for(var L=arguments.length,A=new Array(L-1);--L;)A[L-1]=arguments[L];return m[O].subscribe.apply(null,A),u}if(typeof O=="string")return m[O]}var m={};d.addEventType=E;for(var b=1,_=arguments.length;b<_;++b)E(arguments[b]);return d;function E(O,N,L){if(typeof O!="object"){var A;N=N||jl;var V={subscribers:[],fire:L=L||Ve,subscribe:function(P){V.subscribers.indexOf(P)===-1&&(V.subscribers.push(P),V.fire=N(V.fire,P))},unsubscribe:function(P){V.subscribers=V.subscribers.filter(function(H){return H!==P}),V.fire=V.subscribers.reduce(N,L)}};return m[O]=d[O]=V}f(A=O).forEach(function(P){var H=A[P];if(h(H))E(P,A[P][0],A[P][1]);else{if(H!=="asap")throw new ae.InvalidArgument("Invalid event config");var U=E(P,ot,function(){for(var K=arguments.length,$=new Array(K);K--;)$[K]=arguments[K];U.subscribers.forEach(function(W){Se(function(){W.apply(null,$)})})})}})}}function ai(u,d){return T(d).from({prototype:u}),d}function ui(u,d){return!(u.filter||u.algorithm||u.or)&&(d?u.justLimit:!u.replayFilter)}function Fo(u,d){u.filter=Rr(u.filter,d)}function ci(u,d,m){var b=u.replayFilter;u.replayFilter=b?function(){return Rr(b(),d())}:d,u.justLimit=m&&!b}function _s(u,d){if(u.isPrimKey)return d.primaryKey;var m=d.getIndexByKeyPath(u.index);if(!m)throw new ae.Schema("KeyPath "+u.index+" on object store "+d.name+" is not indexed");return m}function xs(u,d,m){var b=_s(u,d.schema);return d.openCursor({trans:m,values:!u.keysOnly,reverse:u.dir==="prev",unique:!!u.unique,query:{index:b,range:u.range}})}function pt(u,d,m,b){var _=u.replayFilter?Rr(u.filter,u.replayFilter()):u.filter;if(u.or){var E={},O=function(N,L,A){var V,P;_&&!_(L,A,function(H){return L.stop(H)},function(H){return L.fail(H)})||((P=""+(V=L.primaryKey))=="[object ArrayBuffer]"&&(P=""+new Uint8Array(V)),k(E,P)||(E[P]=!0,d(N,L,A)))};return Promise.all([u.or._iterate(O,m),Rl(xs(u,b,m),u.algorithm,O,!u.keysOnly&&u.valueMapper)])}return Rl(xs(u,b,m),Rr(u.algorithm,_),d,!u.keysOnly&&u.valueMapper)}function Rl(u,d,m,b){var _=bt(b?function(E,O,N){return m(b(E),O,N)}:m);return u.then(function(E){if(E)return E.start(function(){var O=function(){return E.continue()};d&&!d(E,function(N){return O=N},function(N){E.stop(N),O=Ve},function(N){E.fail(N),O=Ve})||_(E.value,E,function(N){return O=N}),O()})})}var hu=(ht.prototype._read=function(u,d){var m=this._ctx;return m.error?m.table._trans(null,At.bind(null,m.error)):m.table._trans("readonly",u).then(d)},ht.prototype._write=function(u){var d=this._ctx;return d.error?d.table._trans(null,At.bind(null,d.error)):d.table._trans("readwrite",u,"locked")},ht.prototype._addAlgorithm=function(u){var d=this._ctx;d.algorithm=Rr(d.algorithm,u)},ht.prototype._iterate=function(u,d){return pt(this._ctx,u,d,this._ctx.table.core)},ht.prototype.clone=function(u){var d=Object.create(this.constructor.prototype),m=Object.create(this._ctx);return u&&g(m,u),d._ctx=m,d},ht.prototype.raw=function(){return this._ctx.valueMapper=null,this},ht.prototype.each=function(u){var d=this._ctx;return this._read(function(m){return pt(d,u,m,d.table.core)})},ht.prototype.count=function(u){var d=this;return this._read(function(m){var b=d._ctx,_=b.table.core;if(ui(b,!0))return _.count({trans:m,query:{index:_s(b,_.schema),range:b.range}}).then(function(O){return Math.min(O,b.limit)});var E=0;return pt(b,function(){return++E,!1},m,_).then(function(){return E})}).then(u)},ht.prototype.sortBy=function(u,d){var m=u.split(".").reverse(),b=m[0],_=m.length-1;function E(L,A){return A?E(L[m[A]],A-1):L[b]}var O=this._ctx.dir==="next"?1:-1;function N(L,A){return Qe(E(L,_),E(A,_))*O}return this.toArray(function(L){return L.sort(N)}).then(d)},ht.prototype.toArray=function(u){var d=this;return this._read(function(m){var b=d._ctx;if(b.dir==="next"&&ui(b,!0)&&0<b.limit){var _=b.valueMapper,E=_s(b,b.table.core.schema);return b.table.core.query({trans:m,limit:b.limit,values:!0,query:{index:E,range:b.range}}).then(function(N){return N=N.result,_?N.map(_):N})}var O=[];return pt(b,function(N){return O.push(N)},m,b.table.core).then(function(){return O})},u)},ht.prototype.offset=function(u){var d=this._ctx;return u<=0||(d.offset+=u,ui(d)?ci(d,function(){var m=u;return function(b,_){return m===0||(m===1?--m:_(function(){b.advance(m),m=0}),!1)}}):ci(d,function(){var m=u;return function(){return--m<0}})),this},ht.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),ci(this._ctx,function(){var d=u;return function(m,b,_){return--d<=0&&b(_),0<=d}},!0),this},ht.prototype.until=function(u,d){return Fo(this._ctx,function(m,b,_){return!u(m.value)||(b(_),d)}),this},ht.prototype.first=function(u){return this.limit(1).toArray(function(d){return d[0]}).then(u)},ht.prototype.last=function(u){return this.reverse().first(u)},ht.prototype.filter=function(u){var d;return Fo(this._ctx,function(m){return u(m.value)}),(d=this._ctx).isMatch=Rr(d.isMatch,u),this},ht.prototype.and=function(u){return this.filter(u)},ht.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},ht.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ht.prototype.desc=function(){return this.reverse()},ht.prototype.eachKey=function(u){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(m,b){u(b.key,b)})},ht.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},ht.prototype.eachPrimaryKey=function(u){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(m,b){u(b.primaryKey,b)})},ht.prototype.keys=function(u){var d=this._ctx;d.keysOnly=!d.isMatch;var m=[];return this.each(function(b,_){m.push(_.key)}).then(function(){return m}).then(u)},ht.prototype.primaryKeys=function(u){var d=this._ctx;if(d.dir==="next"&&ui(d,!0)&&0<d.limit)return this._read(function(b){var _=_s(d,d.table.core.schema);return d.table.core.query({trans:b,values:!1,limit:d.limit,query:{index:_,range:d.range}})}).then(function(b){return b.result}).then(u);d.keysOnly=!d.isMatch;var m=[];return this.each(function(b,_){m.push(_.primaryKey)}).then(function(){return m}).then(u)},ht.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},ht.prototype.firstKey=function(u){return this.limit(1).keys(function(d){return d[0]}).then(u)},ht.prototype.lastKey=function(u){return this.reverse().firstKey(u)},ht.prototype.distinct=function(){var u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];if(!u||!u.multi)return this;var d={};return Fo(this._ctx,function(_){var b=_.primaryKey.toString(),_=k(d,b);return d[b]=!0,!_}),this},ht.prototype.modify=function(u){var d=this,m=this._ctx;return this._write(function(b){var _=typeof u=="function"?u:function($){return Hi($,u)},E=m.table.core,A=E.schema.primaryKey,O=A.outbound,N=A.extractKey,L=200,A=d.db._options.modifyChunkSize;A&&(L=typeof A=="object"?A[E.name]||A["*"]||200:A);function V($,J){var G=J.failures,J=J.numFailures;H+=$-J;for(var te=0,re=f(G);te<re.length;te++){var ge=re[te];P.push(G[ge])}}var P=[],H=0,U=[],K=u===Ll;return d.clone().primaryKeys().then(function($){function W(J){var te=Math.min(L,$.length-J),re=$.slice(J,J+te);return(K?Promise.resolve([]):E.getMany({trans:b,keys:re,cache:"immutable"})).then(function(ge){var _e=[],ce=[],ve=O?[]:null,xe=K?re:[];if(!K)for(var ke=0;ke<te;++ke){var Ie=ge[ke],Ze={value:We(Ie),primKey:$[J+ke]};_.call(Ze,Ze.value,Ze)!==!1&&(Ze.value==null?xe.push($[J+ke]):O||Qe(N(Ie),N(Ze.value))===0?(ce.push(Ze.value),O&&ve.push($[J+ke])):(xe.push($[J+ke]),_e.push(Ze.value)))}return Promise.resolve(0<_e.length&&E.mutate({trans:b,type:"add",values:_e}).then(function(nt){for(var st in nt.failures)xe.splice(parseInt(st),1);V(_e.length,nt)})).then(function(){return(0<ce.length||G&&typeof u=="object")&&E.mutate({trans:b,type:"put",keys:ve,values:ce,criteria:G,changeSpec:typeof u!="function"&&u,isAdditionalChunk:0<J}).then(function(nt){return V(ce.length,nt)})}).then(function(){return(0<xe.length||G&&K)&&E.mutate({trans:b,type:"delete",keys:xe,criteria:G,isAdditionalChunk:0<J}).then(function(nt){return ks(m.table,xe,nt)}).then(function(nt){return V(xe.length,nt)})}).then(function(){return $.length>J+te&&W(J+L)})})}var G=ui(m)&&m.limit===1/0&&(typeof u!="function"||K)&&{index:m.index,range:m.range};return W(0).then(function(){if(0<P.length)throw new Ke("Error modifying one or more objects",P,H,U);return $.length})})})},ht.prototype.delete=function(){var u=this._ctx,d=u.range;return!ui(u)||u.table.schema.yProps||!u.isPrimKey&&d.type!==3?this.modify(Ll):this._write(function(m){var b=u.table.core.schema.primaryKey,_=d;return u.table.core.count({trans:m,query:{index:b,range:_}}).then(function(E){return u.table.core.mutate({trans:m,type:"deleteRange",range:_}).then(function(L){var N=L.failures,L=L.numFailures;if(L)throw new Ke("Could not delete some values",Object.keys(N).map(function(A){return N[A]}),E-L);return E-L})})})},ht);function ht(){}var Ll=function(u,d){return d.value=null};function pu(u,d){return u<d?-1:u===d?0:1}function mu(u,d){return d<u?-1:u===d?0:1}function un(u,d,m){return u=u instanceof qi?new u.Collection(u):u,u._ctx.error=new(m||TypeError)(d),u}function hr(u){return new u.Collection(u,function(){return pr("")}).limit(0)}function Bn(u,d,m,b){var _,E,O,N,L,A,V,P=m.length;if(!m.every(function(K){return typeof K=="string"}))return un(u,uu);function H(K){_=K==="next"?function(W){return W.toUpperCase()}:function(W){return W.toLowerCase()},E=K==="next"?function(W){return W.toLowerCase()}:function(W){return W.toUpperCase()},O=K==="next"?pu:mu;var $=m.map(function(W){return{lower:E(W),upper:_(W)}}).sort(function(W,G){return O(W.lower,G.lower)});N=$.map(function(W){return W.upper}),L=$.map(function(W){return W.lower}),V=(A=K)==="next"?"":b}H("next"),u=new u.Collection(u,function(){return cn(N[0],L[P-1]+b)}),u._ondirectionchange=function(K){H(K)};var U=0;return u._addAlgorithm(function(K,$,W){var G=K.key;if(typeof G!="string")return!1;var J=E(G);if(d(J,L,U))return!0;for(var te=null,re=U;re<P;++re){var ge=(function(_e,ce,ve,xe,ke,Ie){for(var Ze=Math.min(_e.length,xe.length),nt=-1,st=0;st<Ze;++st){var wn=ce[st];if(wn!==xe[st])return ke(_e[st],ve[st])<0?_e.substr(0,st)+ve[st]+ve.substr(st+1):ke(_e[st],xe[st])<0?_e.substr(0,st)+xe[st]+ve.substr(st+1):0<=nt?_e.substr(0,nt)+ce[nt]+ve.substr(nt+1):null;ke(_e[st],wn)<0&&(nt=st)}return Ze<xe.length&&Ie==="next"?_e+ve.substr(_e.length):Ze<_e.length&&Ie==="prev"?_e.substr(0,ve.length):nt<0?null:_e.substr(0,nt)+xe[nt]+ve.substr(nt+1)})(G,J,N[re],L[re],O,A);ge===null&&te===null?U=re+1:(te===null||0<O(te,ge))&&(te=ge)}return $(te!==null?function(){K.continue(te+V)}:W),!1}),u}function cn(u,d,m,b){return{type:2,lower:u,upper:d,lowerOpen:m,upperOpen:b}}function pr(u){return{type:1,lower:u,upper:u}}var qi=(Object.defineProperty(Pt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Pt.prototype.between=function(u,d,m,b){m=m!==!1,b=b===!0;try{return 0<this._cmp(u,d)||this._cmp(u,d)===0&&(m||b)&&(!m||!b)?hr(this):new this.Collection(this,function(){return cn(u,d,!m,!b)})}catch{return un(this,wt)}},Pt.prototype.equals=function(u){return u==null?un(this,wt):new this.Collection(this,function(){return pr(u)})},Pt.prototype.above=function(u){return u==null?un(this,wt):new this.Collection(this,function(){return cn(u,void 0,!0)})},Pt.prototype.aboveOrEqual=function(u){return u==null?un(this,wt):new this.Collection(this,function(){return cn(u,void 0,!1)})},Pt.prototype.below=function(u){return u==null?un(this,wt):new this.Collection(this,function(){return cn(void 0,u,!1,!0)})},Pt.prototype.belowOrEqual=function(u){return u==null?un(this,wt):new this.Collection(this,function(){return cn(void 0,u)})},Pt.prototype.startsWith=function(u){return typeof u!="string"?un(this,uu):this.between(u,u+li,!0,!0)},Pt.prototype.startsWithIgnoreCase=function(u){return u===""?this.startsWith(u):Bn(this,function(d,m){return d.indexOf(m[0])===0},[u],li)},Pt.prototype.equalsIgnoreCase=function(u){return Bn(this,function(d,m){return d===m[0]},[u],"")},Pt.prototype.anyOfIgnoreCase=function(){var u=le.apply(ue,arguments);return u.length===0?hr(this):Bn(this,function(d,m){return m.indexOf(d)!==-1},u,"")},Pt.prototype.startsWithAnyOfIgnoreCase=function(){var u=le.apply(ue,arguments);return u.length===0?hr(this):Bn(this,function(d,m){return m.some(function(b){return d.indexOf(b)===0})},u,li)},Pt.prototype.anyOf=function(){var u=this,d=le.apply(ue,arguments),m=this._cmp;try{d.sort(m)}catch{return un(this,wt)}if(d.length===0)return hr(this);var b=new this.Collection(this,function(){return cn(d[0],d[d.length-1])});b._ondirectionchange=function(E){m=E==="next"?u._ascending:u._descending,d.sort(m)};var _=0;return b._addAlgorithm(function(E,O,N){for(var L=E.key;0<m(L,d[_]);)if(++_===d.length)return O(N),!1;return m(L,d[_])===0||(O(function(){E.continue(d[_])}),!1)}),b},Pt.prototype.notEqual=function(u){return this.inAnyRange([[-1/0,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Pt.prototype.noneOf=function(){var u=le.apply(ue,arguments);if(u.length===0)return new this.Collection(this);try{u.sort(this._ascending)}catch{return un(this,wt)}var d=u.reduce(function(m,b){return m?m.concat([[m[m.length-1][1],b]]):[[-1/0,b]]},null);return d.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},Pt.prototype.inAnyRange=function(G,d){var m=this,b=this._cmp,_=this._ascending,E=this._descending,O=this._min,N=this._max;if(G.length===0)return hr(this);if(!G.every(function(J){return J[0]!==void 0&&J[1]!==void 0&&_(J[0],J[1])<=0}))return un(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ae.InvalidArgument);var L=!d||d.includeLowers!==!1,A=d&&d.includeUppers===!0,V,P=_;function H(J,te){return P(J[0],te[0])}try{(V=G.reduce(function(J,te){for(var re=0,ge=J.length;re<ge;++re){var _e=J[re];if(b(te[0],_e[1])<0&&0<b(te[1],_e[0])){_e[0]=O(_e[0],te[0]),_e[1]=N(_e[1],te[1]);break}}return re===ge&&J.push(te),J},[])).sort(H)}catch{return un(this,wt)}var U=0,K=A?function(J){return 0<_(J,V[U][1])}:function(J){return 0<=_(J,V[U][1])},$=L?function(J){return 0<E(J,V[U][0])}:function(J){return 0<=E(J,V[U][0])},W=K,G=new this.Collection(this,function(){return cn(V[0][0],V[V.length-1][1],!L,!A)});return G._ondirectionchange=function(J){P=J==="next"?(W=K,_):(W=$,E),V.sort(H)},G._addAlgorithm(function(J,te,re){for(var ge,_e=J.key;W(_e);)if(++U===V.length)return te(re),!1;return!K(ge=_e)&&!$(ge)||(m._cmp(_e,V[U][1])===0||m._cmp(_e,V[U][0])===0||te(function(){P===_?J.continue(V[U][0]):J.continue(V[U][1])}),!1)}),G},Pt.prototype.startsWithAnyOf=function(){var u=le.apply(ue,arguments);return u.every(function(d){return typeof d=="string"})?u.length===0?hr(this):this.inAnyRange(u.map(function(d){return[d,d+li]})):un(this,"startsWithAnyOf() only works with strings")},Pt);function Pt(){}function $t(u){return bt(function(d){return Bo(d),u(d.target.error),!1})}function Bo(u){u.stopPropagation&&u.stopPropagation(),u.preventDefault&&u.preventDefault()}var Gi="storagemutated",di="x-storagemutated-1",Mr=zo(null,Gi),yu=(On.prototype._lock=function(){return se(!Me.global),++this._reculock,this._reculock!==1||Me.global||(Me.lockOwnerFor=this),this},On.prototype._unlock=function(){if(se(!Me.global),--this._reculock==0)for(Me.global||(Me.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var u=this._blockedFuncs.shift();try{Dr(u[1],u[0])}catch{}}return this},On.prototype._locked=function(){return this._reculock&&Me.lockOwnerFor!==this},On.prototype.create=function(u){var d=this;if(!this.mode)return this;var m=this.db.idbdb,b=this.db._state.dbOpenError;if(se(!this.idbtrans),!u&&!m)switch(b&&b.name){case"DatabaseClosedError":throw new ae.DatabaseClosed(b);case"MissingAPIError":throw new ae.MissingAPI(b.message,b);default:throw new ae.OpenFailed(b)}if(!this.active)throw new ae.TransactionInactive;return se(this._completion._state===null),(u=this.idbtrans=u||(this.db.core||m).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=bt(function(_){Bo(_),d._reject(u.error)}),u.onabort=bt(function(_){Bo(_),d.active&&d._reject(new ae.Abort(u.error)),d.active=!1,d.on("abort").fire(_)}),u.oncomplete=bt(function(){d.active=!1,d._resolve(),"mutatedParts"in u&&Mr.storagemutated.fire(u.mutatedParts)}),this},On.prototype._promise=function(u,d,m){var b=this;if(u==="readwrite"&&this.mode!=="readwrite")return At(new ae.ReadOnly("Transaction is readonly"));if(!this.active)return At(new ae.TransactionInactive);if(this._locked())return new Ce(function(E,O){b._blockedFuncs.push([function(){b._promise(u,d,m).then(E,O)},Me])});if(m)return Nr(function(){var E=new Ce(function(O,N){b._lock();var L=d(O,N,b);L&&L.then&&L.then(O,N)});return E.finally(function(){return b._unlock()}),E._lib=!0,E});var _=new Ce(function(E,O){var N=d(E,O,b);N&&N.then&&N.then(E,O)});return _._lib=!0,_},On.prototype._root=function(){return this.parent?this.parent._root():this},On.prototype.waitFor=function(u){var d,m=this._root(),b=Ce.resolve(u);m._waitingFor?m._waitingFor=m._waitingFor.then(function(){return b}):(m._waitingFor=b,m._waitingQueue=[],d=m.idbtrans.objectStore(m.storeNames[0]),(function E(){for(++m._spinCount;m._waitingQueue.length;)m._waitingQueue.shift()();m._waitingFor&&(d.get(-1/0).onsuccess=E)})());var _=m._waitingFor;return new Ce(function(E,O){b.then(function(N){return m._waitingQueue.push(bt(E.bind(null,N)))},function(N){return m._waitingQueue.push(bt(O.bind(null,N)))}).finally(function(){m._waitingFor===_&&(m._waitingFor=null)})})},On.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ae.Abort))},On.prototype.table=function(u){var d=this._memoizedTables||(this._memoizedTables={});if(k(d,u))return d[u];var m=this.schema[u];if(!m)throw new ae.NotFound("Table "+u+" not part of transaction");return m=new this.db.Table(u,m,this),m.core=this.db.core.table(u),d[u]=m},On);function On(){}function Ss(u,d,m,b,_,E,O,N){return{name:u,keyPath:d,unique:m,multi:b,auto:_,compound:E,src:(m&&!O?"&":"")+(b?"*":"")+(_?"++":"")+gu(d),type:N}}function gu(u){return typeof u=="string"?u:u?"["+[].join.call(u,"+")+"]":""}function fi(u,d,m){return{name:u,primKey:d,indexes:m,mappedClass:null,idxByName:(b=function(_){return[_.name,_]},m.reduce(function(_,E,O){return O=b(E,O),O&&(_[O[0]]=O[1]),_},{}))};var b}var mr=function(u){try{return u.only([[]]),mr=function(){return[[]]},[[]]}catch{return mr=function(){return li},li}};function Ur(u){return u==null?function(){}:typeof u=="string"?(d=u).split(".").length===1?function(m){return m[d]}:function(m){return fe(m,d)}:function(m){return fe(m,u)};var d}function $o(u){return[].slice.call(u)}var _d=0;function Ko(u){return u==null?":id":typeof u=="string"?u:"[".concat(u.join("+"),"]")}function Ml(u,d,L){function b(W){if(W.type===3)return null;if(W.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var U=W.lower,K=W.upper,$=W.lowerOpen,W=W.upperOpen;return U===void 0?K===void 0?null:d.upperBound(K,!!W):K===void 0?d.lowerBound(U,!!$):d.bound(U,K,!!$,!!W)}function _(H){var U,K=H.name;return{name:K,schema:H,mutate:function($){var W=$.trans,G=$.type,J=$.keys,te=$.values,re=$.range;return new Promise(function(ge,_e){ge=bt(ge);var ce=W.objectStore(K),ve=ce.keyPath==null,xe=G==="put"||G==="add";if(!xe&&G!=="delete"&&G!=="deleteRange")throw new Error("Invalid operation type: "+G);var ke,Ie=(J||te||{length:1}).length;if(J&&te&&J.length!==te.length)throw new Error("Given keys array must have same length as given values array.");if(Ie===0)return ge({numFailures:0,failures:{},results:[],lastResult:void 0});function Ze(Vt){++wn,Bo(Vt)}var nt=[],st=[],wn=0;if(G==="deleteRange"){if(re.type===4)return ge({numFailures:wn,failures:st,results:[],lastResult:void 0});re.type===3?nt.push(ke=ce.clear()):nt.push(ke=ce.delete(b(re)))}else{var ve=xe?ve?[te,J]:[te,null]:[J,null],Xe=ve[0],Kt=ve[1];if(xe)for(var jt=0;jt<Ie;++jt)nt.push(ke=Kt&&Kt[jt]!==void 0?ce[G](Xe[jt],Kt[jt]):ce[G](Xe[jt])),ke.onerror=Ze;else for(jt=0;jt<Ie;++jt)nt.push(ke=ce[G](Xe[jt])),ke.onerror=Ze}function oo(Vt){Vt=Vt.target.result,nt.forEach(function(yi,Jl){return yi.error!=null&&(st[Jl]=yi.error)}),ge({numFailures:wn,failures:st,results:G==="delete"?J:nt.map(function(yi){return yi.result}),lastResult:Vt})}ke.onerror=function(Vt){Ze(Vt),oo(Vt)},ke.onsuccess=oo})},getMany:function($){var W=$.trans,G=$.keys;return new Promise(function(J,te){J=bt(J);for(var re,ge=W.objectStore(K),_e=G.length,ce=new Array(_e),ve=0,xe=0,ke=function(nt){nt=nt.target,ce[nt._pos]=nt.result,++xe===ve&&J(ce)},Ie=$t(te),Ze=0;Ze<_e;++Ze)G[Ze]!=null&&((re=ge.get(G[Ze]))._pos=Ze,re.onsuccess=ke,re.onerror=Ie,++ve);ve===0&&J(ce)})},get:function($){var W=$.trans,G=$.key;return new Promise(function(J,te){J=bt(J);var re=W.objectStore(K).get(G);re.onsuccess=function(ge){return J(ge.target.result)},re.onerror=$t(te)})},query:(U=A,function($){return new Promise(function(W,G){W=bt(W);var J,te,re,ve=$.trans,ge=$.values,_e=$.limit,ke=$.query,ce=_e===1/0?void 0:_e,xe=ke.index,ke=ke.range,ve=ve.objectStore(K),xe=xe.isPrimaryKey?ve:ve.index(xe.name),ke=b(ke);if(_e===0)return W({result:[]});U?((ce=ge?xe.getAll(ke,ce):xe.getAllKeys(ke,ce)).onsuccess=function(Ie){return W({result:Ie.target.result})},ce.onerror=$t(G)):(J=0,te=!ge&&"openKeyCursor"in xe?xe.openKeyCursor(ke):xe.openCursor(ke),re=[],te.onsuccess=function(Ie){var Ze=te.result;return Ze?(re.push(ge?Ze.value:Ze.primaryKey),++J===_e?W({result:re}):void Ze.continue()):W({result:re})},te.onerror=$t(G))})}),openCursor:function($){var W=$.trans,G=$.values,J=$.query,te=$.reverse,re=$.unique;return new Promise(function(ge,_e){ge=bt(ge);var xe=J.index,ce=J.range,ve=W.objectStore(K),ve=xe.isPrimaryKey?ve:ve.index(xe.name),xe=te?re?"prevunique":"prev":re?"nextunique":"next",ke=!G&&"openKeyCursor"in ve?ve.openKeyCursor(b(ce),xe):ve.openCursor(b(ce),xe);ke.onerror=$t(_e),ke.onsuccess=bt(function(Ie){var Ze,nt,st,wn,Xe=ke.result;Xe?(Xe.___id=++_d,Xe.done=!1,Ze=Xe.continue.bind(Xe),nt=(nt=Xe.continuePrimaryKey)&&nt.bind(Xe),st=Xe.advance.bind(Xe),wn=function(){throw new Error("Cursor not stopped")},Xe.trans=W,Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=function(){throw new Error("Cursor not started")},Xe.fail=bt(_e),Xe.next=function(){var Kt=this,jt=1;return this.start(function(){return jt--?Kt.continue():Kt.stop()}).then(function(){return Kt})},Xe.start=function(Kt){function jt(){if(ke.result)try{Kt()}catch(Vt){Xe.fail(Vt)}else Xe.done=!0,Xe.start=function(){throw new Error("Cursor behind last entry")},Xe.stop()}var oo=new Promise(function(Vt,yi){Vt=bt(Vt),ke.onerror=$t(yi),Xe.fail=yi,Xe.stop=function(Jl){Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=wn,Vt(Jl)}});return ke.onsuccess=bt(function(Vt){ke.onsuccess=jt,jt()}),Xe.continue=Ze,Xe.continuePrimaryKey=nt,Xe.advance=st,jt(),oo},ge(Xe)):ge(null)},_e)})},count:function($){var W=$.query,G=$.trans,J=W.index,te=W.range;return new Promise(function(re,ge){var _e=G.objectStore(K),ce=J.isPrimaryKey?_e:_e.index(J.name),_e=b(te),ce=_e?ce.count(_e):ce.count();ce.onsuccess=bt(function(ve){return re(ve.target.result)}),ce.onerror=$t(ge)})}}}var E,O,N,V=(O=L,N=$o((E=u).objectStoreNames),{schema:{name:E.name,tables:N.map(function(H){return O.objectStore(H)}).map(function(H){var U=H.keyPath,W=H.autoIncrement,K=h(U),$={},W={name:H.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:U==null,compound:K,keyPath:U,autoIncrement:W,unique:!0,extractKey:Ur(U)},indexes:$o(H.indexNames).map(function(G){return H.index(G)}).map(function(re){var J=re.name,te=re.unique,ge=re.multiEntry,re=re.keyPath,ge={name:J,compound:h(re),keyPath:re,unique:te,multiEntry:ge,extractKey:Ur(re)};return $[Ko(re)]=ge}),getIndexByKeyPath:function(G){return $[Ko(G)]}};return $[":id"]=W.primaryKey,U!=null&&($[Ko(U)]=W.primaryKey),W})},hasGetAll:0<N.length&&"getAll"in O.objectStore(N[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),L=V.schema,A=V.hasGetAll,V=L.tables.map(_),P={};return V.forEach(function(H){return P[H.name]=H}),{stack:"dbcore",transaction:u.transaction.bind(u),table:function(H){if(!P[H])throw new Error("Table '".concat(H,"' not found"));return P[H]},MIN_KEY:-1/0,MAX_KEY:mr(d),schema:L}}function Es(u,d,m,b){var _=m.IDBKeyRange;return m.indexedDB,{dbcore:(b=Ml(d,_,b),u.dbcore.reduce(function(E,O){return O=O.create,o(o({},E),O(E))},b))}}function Yi(u,b){var m=b.db,b=Es(u._middlewares,m,u._deps,b);u.core=b.dbcore,u.tables.forEach(function(_){var E=_.name;u.core.schema.tables.some(function(O){return O.name===E})&&(_.core=u.core.table(E),u[E]instanceof u.Table&&(u[E].core=_.core))})}function Vo(u,d,m,b){m.forEach(function(_){var E=b[_];d.forEach(function(O){var N=(function L(A,V){return z(A,V)||(A=y(A))&&L(A,V)})(O,_);(!N||"value"in N&&N.value===void 0)&&(O===u.Transaction.prototype||O instanceof u.Transaction?I(O,_,{get:function(){return this.table(_)},set:function(L){S(this,_,{value:L,writable:!0,configurable:!0,enumerable:!0})}}):O[_]=new u.Table(_,E))})})}function Jn(u,d){d.forEach(function(m){for(var b in m)m[b]instanceof u.Table&&delete m[b]})}function Ul(u,d){return u._cfg.version-d._cfg.version}function Cs(u,d,m,b){var _=u._dbSchema;m.objectStoreNames.contains("$meta")&&!_.$meta&&(_.$meta=fi("$meta",Zi("")[0],[]),u._storeNames.push("$meta"));var E=u._createTransaction("readwrite",u._storeNames,_);E.create(m),E._completion.catch(b);var O=E._reject.bind(E),N=Me.transless||Me;Nr(function(){return Me.trans=E,Me.transless=N,d!==0?(Yi(u,m),A=d,((L=E).storeNames.includes("$meta")?L.table("$meta").get("version").then(function(V){return V??A}):Ce.resolve(A)).then(function(V){return H=V,U=E,K=m,$=[],V=(P=u)._versions,W=P._dbSchema=yr(0,P.idbdb,K),(V=V.filter(function(G){return G._cfg.version>=H})).length!==0?(V.forEach(function(G){$.push(function(){var J=W,te=G._cfg.dbschema;Xi(P,J,K),Xi(P,te,K),W=P._dbSchema=te;var re=Qi(J,te);re.add.forEach(function(xe){Ji(K,xe[0],xe[1].primKey,xe[1].indexes)}),re.change.forEach(function(xe){if(xe.recreate)throw new ae.Upgrade("Not yet support for changing primary key");var ke=K.objectStore(xe.name);xe.add.forEach(function(Ie){return en(ke,Ie)}),xe.change.forEach(function(Ie){ke.deleteIndex(Ie.name),en(ke,Ie)}),xe.del.forEach(function(Ie){return ke.deleteIndex(Ie)})});var ge=G._cfg.contentUpgrade;if(ge&&G._cfg.version>H){Yi(P,K),U._memoizedTables={};var _e=be(te);re.del.forEach(function(xe){_e[xe]=J[xe]}),Jn(P,[P.Transaction.prototype]),Vo(P,[P.Transaction.prototype],f(_e),_e),U.schema=_e;var ce,ve=D(ge);return ve&&Vi(),re=Ce.follow(function(){var xe;(ce=ge(U))&&ve&&(xe=vn.bind(null,null),ce.then(xe,xe))}),ce&&typeof ce.then=="function"?Ce.resolve(ce):re.then(function(){return ce})}}),$.push(function(J){var te,re,ge=G._cfg.dbschema;te=ge,re=J,[].slice.call(re.db.objectStoreNames).forEach(function(_e){return te[_e]==null&&re.db.deleteObjectStore(_e)}),Jn(P,[P.Transaction.prototype]),Vo(P,[P.Transaction.prototype],P._storeNames,P._dbSchema),U.schema=P._dbSchema}),$.push(function(J){P.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(P.idbdb.version/10)===G._cfg.version?(P.idbdb.deleteObjectStore("$meta"),delete P._dbSchema.$meta,P._storeNames=P._storeNames.filter(function(te){return te!=="$meta"})):J.objectStore("$meta").put(G._cfg.version,"version"))})}),(function G(){return $.length?Ce.resolve($.shift()(U.idbtrans)).then(G):Ce.resolve()})().then(function(){zl(W,K)})):Ce.resolve();var P,H,U,K,$,W}).catch(O)):(f(_).forEach(function(V){Ji(m,V,_[V].primKey,_[V].indexes)}),Yi(u,m),void Ce.follow(function(){return u.on.populate.fire(E)}).catch(O));var L,A})}function vu(u,d){zl(u._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var m=yr(0,u.idbdb,d);Xi(u,u._dbSchema,d);for(var b=0,_=Qi(m,u._dbSchema).change;b<_.length;b++){var E=(function(O){if(O.change.length||O.recreate)return console.warn("Unable to patch indexes of table ".concat(O.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=d.objectStore(O.name);O.add.forEach(function(L){an&&console.debug("Dexie upgrade patch: Creating missing index ".concat(O.name,".").concat(L.src)),en(N,L)})})(_[b]);if(typeof E=="object")return E.value}}function Qi(u,d){var m,b={del:[],add:[],change:[]};for(m in u)d[m]||b.del.push(m);for(m in d){var _=u[m],E=d[m];if(_){var O={name:m,def:E,recreate:!1,del:[],add:[],change:[]};if(""+(_.primKey.keyPath||"")!=""+(E.primKey.keyPath||"")||_.primKey.auto!==E.primKey.auto)O.recreate=!0,b.change.push(O);else{var N=_.idxByName,L=E.idxByName,A=void 0;for(A in N)L[A]||O.del.push(A);for(A in L){var V=N[A],P=L[A];V?V.src!==P.src&&O.change.push(P):O.add.push(P)}(0<O.del.length||0<O.add.length||0<O.change.length)&&b.change.push(O)}}else b.add.push([m,E])}return b}function Ji(u,d,m,b){var _=u.db.createObjectStore(d,m.keyPath?{keyPath:m.keyPath,autoIncrement:m.auto}:{autoIncrement:m.auto});return b.forEach(function(E){return en(_,E)}),_}function zl(u,d){f(u).forEach(function(m){d.db.objectStoreNames.contains(m)||(an&&console.debug("Dexie: Creating missing table",m),Ji(d,m,u[m].primKey,u[m].indexes))})}function en(u,d){u.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function yr(u,d,m){var b={};return ee(d.objectStoreNames,0).forEach(function(_){for(var E=m.objectStore(_),O=Ss(gu(A=E.keyPath),A||"",!0,!1,!!E.autoIncrement,A&&typeof A!="string",!0),N=[],L=0;L<E.indexNames.length;++L){var V=E.index(E.indexNames[L]),A=V.keyPath,V=Ss(V.name,A,!!V.unique,!!V.multiEntry,!1,A&&typeof A!="string",!1);N.push(V)}b[_]=fi(_,O,N)}),b}function Xi(u,d,m){for(var b=m.db.objectStoreNames,_=0;_<b.length;++_){var E=b[_],O=m.objectStore(E);u._hasGetAll="getAll"in O;for(var N=0;N<O.indexNames.length;++N){var L=O.indexNames[N],A=O.index(L).keyPath,V=typeof A=="string"?A:"["+ee(A).join("+")+"]";!d[E]||(A=d[E].idxByName[V])&&(A.name=L,delete d[E].idxByName[V],d[E].idxByName[L]=A)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u._hasGetAll=!1)}function Zi(u){return u.split(",").map(function(d,m){var E=d.split(":"),b=(_=E[1])===null||_===void 0?void 0:_.trim(),_=(d=E[0].trim()).replace(/([&*]|\+\+)/g,""),E=/^\[/.test(_)?_.match(/^\[(.*)\]$/)[1].split("+"):_;return Ss(_,E||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),h(E),m===0,b)})}var xd=(zr.prototype._createTableSchema=fi,zr.prototype._parseIndexSyntax=Zi,zr.prototype._parseStoresSpec=function(u,d){var m=this;f(u).forEach(function(b){if(u[b]!==null){var _=m._parseIndexSyntax(u[b]),E=_.shift();if(!E)throw new ae.Schema("Invalid schema for table "+b+": "+u[b]);if(E.unique=!0,E.multi)throw new ae.Schema("Primary key cannot be multiEntry*");_.forEach(function(O){if(O.auto)throw new ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!O.keyPath)throw new ae.Schema("Index must have a name and cannot be an empty string")}),_=m._createTableSchema(b,E,_),d[b]=_}})},zr.prototype.stores=function(m){var d=this.db;this._cfg.storesSource=this._cfg.storesSource?g(this._cfg.storesSource,m):m;var m=d._versions,b={},_={};return m.forEach(function(E){g(b,E._cfg.storesSource),_=E._cfg.dbschema={},E._parseStoresSpec(b,_)}),d._dbSchema=_,Jn(d,[d._allTables,d,d.Transaction.prototype]),Vo(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],f(_),_),d._storeNames=f(_),this},zr.prototype.upgrade=function(u){return this._cfg.contentUpgrade=Xr(this._cfg.contentUpgrade||Ve,u),this},zr);function zr(){}function Wo(u,d){var m=u._dbNamesDB;return m||(m=u._dbNamesDB=new vr(Ro,{addons:[],indexedDB:u,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),m.table("dbnames")}function hi(u){return u&&typeof u.databases=="function"}function eo(u){return Nr(function(){return Me.letThrough=!0,u()})}function Is(u){return!("from"in u)}var tn=function(u,d){if(!this){var m=new tn;return u&&"d"in u&&g(m,u),m}g(this,arguments.length?{d:1,from:u,to:1<arguments.length?d:u}:{d:0})};function Ho(u,d,m){var b=Qe(d,m);if(!isNaN(b)){if(0<b)throw RangeError();if(Is(u))return g(u,{from:d,to:m,d:1});var _=u.l,b=u.r;if(Qe(m,u.from)<0)return _?Ho(_,d,m):u.l={from:d,to:m,d:1,l:null,r:null},wu(u);if(0<Qe(d,u.to))return b?Ho(b,d,m):u.r={from:d,to:m,d:1,l:null,r:null},wu(u);Qe(d,u.from)<0&&(u.from=d,u.l=null,u.d=b?b.d+1:1),0<Qe(m,u.to)&&(u.to=m,u.r=null,u.d=u.l?u.l.d+1:1),m=!u.r,_&&!u.l&&qo(u,_),b&&m&&qo(u,b)}}function qo(u,d){Is(d)||(function m(b,L){var E=L.from,O=L.to,N=L.l,L=L.r;Ho(b,E,O),N&&m(b,N),L&&m(b,L)})(u,d)}function Os(u,d){var m=js(d),b=m.next();if(b.done)return!1;for(var _=b.value,E=js(u),O=E.next(_.from),N=O.value;!b.done&&!O.done;){if(Qe(N.from,_.to)<=0&&0<=Qe(N.to,_.from))return!0;Qe(_.from,N.from)<0?_=(b=m.next(N.from)).value:N=(O=E.next(_.from)).value}return!1}function js(u){var d=Is(u)?null:{s:0,n:u};return{next:function(m){for(var b=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,b)for(;d.n.l&&Qe(m,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!b||Qe(m,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function wu(u){var d,m,b=(((d=u.r)===null||d===void 0?void 0:d.d)||0)-(((m=u.l)===null||m===void 0?void 0:m.d)||0),_=1<b?"r":b<-1?"l":"";_&&(d=_=="r"?"l":"r",m=o({},u),b=u[_],u.from=b.from,u.to=b.to,u[_]=b[_],m[_]=b[d],(u[d]=m).d=bu(m)),u.d=bu(u)}function bu(m){var d=m.r,m=m.l;return(d?m?Math.max(d.d,m.d):d.d:m?m.d:0)+1}function Ts(u,d){return f(d).forEach(function(m){u[m]?qo(u[m],d[m]):u[m]=(function b(_){var E,O,N={};for(E in _)k(_,E)&&(O=_[E],N[E]=!O||typeof O!="object"||pe.has(O.constructor)?O:b(O));return N})(d[m])}),u}function Fl(u,d){return u.all||d.all||Object.keys(u).some(function(m){return d[m]&&Os(d[m],u[m])})}x(tn.prototype,((jn={add:function(u){return qo(this,u),this},addKey:function(u){return Ho(this,u,u),this},addKeys:function(u){var d=this;return u.forEach(function(m){return Ho(d,m,m)}),this},hasKey:function(u){var d=js(this).next(u).value;return d&&Qe(d.from,u)<=0&&0<=Qe(d.to,u)}})[he]=function(){return js(this)},jn));var Fr={},Bl={},$l=!1;function Ns(u){Ts(Bl,u),$l||($l=!0,setTimeout(function(){$l=!1,Kl(Bl,!(Bl={}))},0))}function Kl(u,d){d===void 0&&(d=!1);var m=new Set;if(u.all)for(var b=0,_=Object.values(Fr);b<_.length;b++)Ps(O=_[b],u,m,d);else for(var E in u){var O,N=/^idb\:\/\/(.*)\/(.*)\//.exec(E);N&&(E=N[1],N=N[2],(O=Fr["idb://".concat(E,"/").concat(N)])&&Ps(O,u,m,d))}m.forEach(function(L){return L()})}function Ps(u,d,m,b){for(var _=[],E=0,O=Object.entries(u.queries.query);E<O.length;E++){for(var N=O[E],L=N[0],A=[],V=0,P=N[1];V<P.length;V++){var H=P[V];Fl(d,H.obsSet)?H.subscribers.forEach(function(W){return m.add(W)}):b&&A.push(H)}b&&_.push([L,A])}if(b)for(var U=0,K=_;U<K.length;U++){var $=K[U],L=$[0],A=$[1];u.queries.query[L]=A}}function Sd(u){var d=u._state,m=u._deps.indexedDB;if(d.isBeingOpened||u.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?At(d.dbOpenError):u});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var b=d.openCanceller,_=Math.round(10*u.verno),E=!1;function O(){if(d.openCanceller!==b)throw new ae.DatabaseClosed("db.open() was cancelled")}function N(){return new Ce(function(H,U){if(O(),!m)throw new ae.MissingAPI;var K=u.name,$=d.autoSchema||!_?m.open(K):m.open(K,_);if(!$)throw new ae.MissingAPI;$.onerror=$t(U),$.onblocked=bt(u._fireOnBlocked),$.onupgradeneeded=bt(function(W){var G;V=$.transaction,d.autoSchema&&!u._options.allowEmptyDB?($.onerror=Bo,V.abort(),$.result.close(),(G=m.deleteDatabase(K)).onsuccess=G.onerror=bt(function(){U(new ae.NoSuchDatabase("Database ".concat(K," doesnt exist")))})):(V.onerror=$t(U),W=W.oldVersion>Math.pow(2,62)?0:W.oldVersion,P=W<1,u.idbdb=$.result,E&&vu(u,V),Cs(u,W/10,V,U))},U),$.onsuccess=bt(function(){V=null;var W,G,J,te,re,ge=u.idbdb=$.result,_e=ee(ge.objectStoreNames);if(0<_e.length)try{var ce=ge.transaction((te=_e).length===1?te[0]:te,"readonly");if(d.autoSchema)G=ge,J=ce,(W=u).verno=G.version/10,J=W._dbSchema=yr(0,G,J),W._storeNames=ee(G.objectStoreNames,0),Vo(W,[W._allTables],f(J),J);else if(Xi(u,u._dbSchema,ce),((re=Qi(yr(0,(re=u).idbdb,ce),re._dbSchema)).add.length||re.change.some(function(ve){return ve.add.length||ve.change.length}))&&!E)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ge.close(),_=ge.version+1,E=!0,H(N());Yi(u,ce)}catch{}Ar.push(u),ge.onversionchange=bt(function(ve){d.vcFired=!0,u.on("versionchange").fire(ve)}),ge.onclose=bt(function(){u.close({disableAutoOpen:!1})}),P&&(re=u._deps,ce=K,ge=re.indexedDB,re=re.IDBKeyRange,hi(ge)||ce===Ro||Wo(ge,re).put({name:ce}).catch(Ve)),H()},U)}).catch(function(H){switch(H==null?void 0:H.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<_)return _=0,N()}return Ce.reject(H)})}var L,A=d.dbReadyResolve,V=null,P=!1;return Ce.race([b,(typeof navigator>"u"?Ce.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(H){function U(){return indexedDB.databases().finally(H)}L=setInterval(U,100),U()}).finally(function(){return clearInterval(L)}):Promise.resolve()).then(N)]).then(function(){return O(),d.onReadyBeingFired=[],Ce.resolve(eo(function(){return u.on.ready.fire(u.vip)})).then(function H(){if(0<d.onReadyBeingFired.length){var U=d.onReadyBeingFired.reduce(Xr,Ve);return d.onReadyBeingFired=[],Ce.resolve(eo(function(){return U(u.vip)})).then(H)}})}).finally(function(){d.openCanceller===b&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(H){d.dbOpenError=H;try{V&&V.abort()}catch{}return b===d.openCanceller&&u._close(),At(H)}).finally(function(){d.openComplete=!0,A()}).then(function(){var H;return P&&(H={},u.tables.forEach(function(U){U.schema.indexes.forEach(function(K){K.name&&(H["idb://".concat(u.name,"/").concat(U.name,"/").concat(K.name)]=new tn(-1/0,[[[]]]))}),H["idb://".concat(u.name,"/").concat(U.name,"/")]=H["idb://".concat(u.name,"/").concat(U.name,"/:dels")]=new tn(-1/0,[[[]]])}),Mr(Gi).fire(H),Kl(H,!0)),u})}function Vl(u){function d(E){return u.next(E)}var m=_(d),b=_(function(E){return u.throw(E)});function _(E){return function(L){var N=E(L),L=N.value;return N.done?L:L&&typeof L.then=="function"?L.then(m,b):h(L)?Promise.all(L).then(m,b):m(L)}}return _(d)()}function Ds(u,d,m){for(var b=h(u)?u.slice():[u],_=0;_<m;++_)b.push(d);return b}var ku={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(u){return o(o({},u),{table:function(d){var m=u.table(d),b=m.schema,_={},E=[];function O(P,H,U){var K=Ko(P),$=_[K]=_[K]||[],W=P==null?0:typeof P=="string"?1:P.length,G=0<H,G=o(o({},U),{name:G?"".concat(K,"(virtual-from:").concat(U.name,")"):U.name,lowLevelIndex:U,isVirtual:G,keyTail:H,keyLength:W,extractKey:Ur(P),unique:!G&&U.unique});return $.push(G),G.isPrimaryKey||E.push(G),1<W&&O(W===2?P[0]:P.slice(0,W-1),H+1,U),$.sort(function(J,te){return J.keyTail-te.keyTail}),G}d=O(b.primaryKey.keyPath,0,b.primaryKey),_[":id"]=[d];for(var N=0,L=b.indexes;N<L.length;N++){var A=L[N];O(A.keyPath,0,A)}function V(P){var H,U=P.query.index;return U.isVirtual?o(o({},P),{query:{index:U.lowLevelIndex,range:(H=P.query.range,U=U.keyTail,{type:H.type===1?2:H.type,lower:Ds(H.lower,H.lowerOpen?u.MAX_KEY:u.MIN_KEY,U),lowerOpen:!0,upper:Ds(H.upper,H.upperOpen?u.MIN_KEY:u.MAX_KEY,U),upperOpen:!0})}}):P}return o(o({},m),{schema:o(o({},b),{primaryKey:d,indexes:E,getIndexByKeyPath:function(P){return(P=_[Ko(P)])&&P[0]}}),count:function(P){return m.count(V(P))},query:function(P){return m.query(V(P))},openCursor:function(P){var H=P.query.index,U=H.keyTail,K=H.isVirtual,$=H.keyLength;return K?m.openCursor(V(P)).then(function(G){return G&&W(G)}):m.openCursor(P);function W(G){return Object.create(G,{continue:{value:function(J){J!=null?G.continue(Ds(J,P.reverse?u.MAX_KEY:u.MIN_KEY,U)):P.unique?G.continue(G.key.slice(0,$).concat(P.reverse?u.MIN_KEY:u.MAX_KEY,U)):G.continue()}},continuePrimaryKey:{value:function(J,te){G.continuePrimaryKey(Ds(J,u.MAX_KEY,U),te)}},primaryKey:{get:function(){return G.primaryKey}},key:{get:function(){var J=G.key;return $===1?J[0]:J.slice(0,$)}},value:{get:function(){return G.value}}})}}})}})}};function Wl(u,d,m,b){return m=m||{},b=b||"",f(u).forEach(function(_){var E,O,N;k(d,_)?(E=u[_],O=d[_],typeof E=="object"&&typeof O=="object"&&E&&O?(N=Be(E))!==Be(O)?m[b+_]=d[_]:N==="Object"?Wl(E,O,m,b+_+"."):E!==O&&(m[b+_]=d[_]):E!==O&&(m[b+_]=d[_])):m[b+_]=void 0}),f(d).forEach(function(_){k(u,_)||(m[b+_]=d[_])}),m}function Hl(u,d){return d.type==="delete"?d.keys:d.keys||d.values.map(u.extractKey)}var Ed={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(u){return o(o({},u),{table:function(d){var m=u.table(d),b=m.schema.primaryKey;return o(o({},m),{mutate:function(_){var E=Me.trans,O=E.table(d).hook,N=O.deleting,L=O.creating,A=O.updating;switch(_.type){case"add":if(L.fire===Ve)break;return E._promise("readwrite",function(){return V(_)},!0);case"put":if(L.fire===Ve&&A.fire===Ve)break;return E._promise("readwrite",function(){return V(_)},!0);case"delete":if(N.fire===Ve)break;return E._promise("readwrite",function(){return V(_)},!0);case"deleteRange":if(N.fire===Ve)break;return E._promise("readwrite",function(){return(function P(H,U,K){return m.query({trans:H,values:!1,query:{index:b,range:U},limit:K}).then(function($){var W=$.result;return V({type:"delete",keys:W,trans:H}).then(function(G){return 0<G.numFailures?Promise.reject(G.failures[0]):W.length<K?{failures:[],numFailures:0,lastResult:void 0}:P(H,o(o({},U),{lower:W[W.length-1],lowerOpen:!0}),K)})})})(_.trans,_.range,1e4)},!0)}return m.mutate(_);function V(P){var H,U,K,$=Me.trans,W=P.keys||Hl(b,P);if(!W)throw new Error("Keys missing");return(P=P.type==="add"||P.type==="put"?o(o({},P),{keys:W}):o({},P)).type!=="delete"&&(P.values=l([],P.values)),P.keys&&(P.keys=l([],P.keys)),H=m,K=W,((U=P).type==="add"?Promise.resolve([]):H.getMany({trans:U.trans,keys:K,cache:"immutable"})).then(function(G){var J=W.map(function(te,re){var ge,_e,ce,ve=G[re],xe={onerror:null,onsuccess:null};return P.type==="delete"?N.fire.call(xe,te,ve,$):P.type==="add"||ve===void 0?(ge=L.fire.call(xe,te,P.values[re],$),te==null&&ge!=null&&(P.keys[re]=te=ge,b.outbound||Ee(P.values[re],b.keyPath,te))):(ge=Wl(ve,P.values[re]),(_e=A.fire.call(xe,ge,te,ve,$))&&(ce=P.values[re],Object.keys(_e).forEach(function(ke){k(ce,ke)?ce[ke]=_e[ke]:Ee(ce,ke,_e[ke])}))),xe});return m.mutate(P).then(function(te){for(var re=te.failures,ge=te.results,_e=te.numFailures,te=te.lastResult,ce=0;ce<W.length;++ce){var ve=(ge||W)[ce],xe=J[ce];ve==null?xe.onerror&&xe.onerror(re[ce]):xe.onsuccess&&xe.onsuccess(P.type==="put"&&G[ce]?P.values[ce]:ve)}return{failures:re,results:ge,numFailures:_e,lastResult:te}}).catch(function(te){return J.forEach(function(re){return re.onerror&&re.onerror(te)}),Promise.reject(te)})})}}})}})}};function _u(u,d,m){try{if(!d||d.keys.length<u.length)return null;for(var b=[],_=0,E=0;_<d.keys.length&&E<u.length;++_)Qe(d.keys[_],u[E])===0&&(b.push(m?We(d.values[_]):d.values[_]),++E);return b.length===u.length?b:null}catch{return null}}var Cd={stack:"dbcore",level:-1,create:function(u){return{table:function(d){var m=u.table(d);return o(o({},m),{getMany:function(b){if(!b.cache)return m.getMany(b);var _=_u(b.keys,b.trans._cache,b.cache==="clone");return _?Ce.resolve(_):m.getMany(b).then(function(E){return b.trans._cache={keys:b.keys,values:b.cache==="clone"?We(E):E},E})},mutate:function(b){return b.type!=="add"&&(b.trans._cache=null),m.mutate(b)}})}}}};function xu(u,d){return u.trans.mode==="readonly"&&!!u.subscr&&!u.trans.explicit&&u.trans.db._options.cache!=="disabled"&&!d.schema.primaryKey.outbound}function Su(u,d){switch(u){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ql={stack:"dbcore",level:0,name:"Observability",create:function(u){var d=u.schema.name,m=new tn(u.MIN_KEY,u.MAX_KEY);return o(o({},u),{transaction:function(b,_,E){if(Me.subscr&&_!=="readonly")throw new ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Me.querier));return u.transaction(b,_,E)},table:function(b){var _=u.table(b),E=_.schema,O=E.primaryKey,P=E.indexes,N=O.extractKey,L=O.outbound,A=O.autoIncrement&&P.filter(function(U){return U.compound&&U.keyPath.includes(O.keyPath)}),V=o(o({},_),{mutate:function(U){function K(ke){return ke="idb://".concat(d,"/").concat(b,"/").concat(ke),te[ke]||(te[ke]=new tn)}var $,W,G,J=U.trans,te=U.mutatedParts||(U.mutatedParts={}),re=K(""),ge=K(":dels"),_e=U.type,xe=U.type==="deleteRange"?[U.range]:U.type==="delete"?[U.keys]:U.values.length<50?[Hl(O,U).filter(function(ke){return ke}),U.values]:[],ce=xe[0],ve=xe[1],xe=U.trans._cache;return h(ce)?(re.addKeys(ce),(xe=_e==="delete"||ce.length===ve.length?_u(ce,xe):null)||ge.addKeys(ce),(xe||ve)&&($=K,W=xe,G=ve,E.indexes.forEach(function(ke){var Ie=$(ke.name||"");function Ze(st){return st!=null?ke.extractKey(st):null}function nt(st){return ke.multiEntry&&h(st)?st.forEach(function(wn){return Ie.addKey(wn)}):Ie.addKey(st)}(W||G).forEach(function(st,Kt){var Xe=W&&Ze(W[Kt]),Kt=G&&Ze(G[Kt]);Qe(Xe,Kt)!==0&&(Xe!=null&&nt(Xe),Kt!=null&&nt(Kt))})}))):ce?(ve={from:(ve=ce.lower)!==null&&ve!==void 0?ve:u.MIN_KEY,to:(ve=ce.upper)!==null&&ve!==void 0?ve:u.MAX_KEY},ge.add(ve),re.add(ve)):(re.add(m),ge.add(m),E.indexes.forEach(function(ke){return K(ke.name).add(m)})),_.mutate(U).then(function(ke){return!ce||U.type!=="add"&&U.type!=="put"||(re.addKeys(ke.results),A&&A.forEach(function(Ie){for(var Ze=U.values.map(function(Xe){return Ie.extractKey(Xe)}),nt=Ie.keyPath.findIndex(function(Xe){return Xe===O.keyPath}),st=0,wn=ke.results.length;st<wn;++st)Ze[st][nt]=ke.results[st];K(Ie.name).addKeys(Ze)})),J.mutatedParts=Ts(J.mutatedParts||{},te),ke})}}),P=function(K){var $=K.query,K=$.index,$=$.range;return[K,new tn((K=$.lower)!==null&&K!==void 0?K:u.MIN_KEY,($=$.upper)!==null&&$!==void 0?$:u.MAX_KEY)]},H={get:function(U){return[O,new tn(U.key)]},getMany:function(U){return[O,new tn().addKeys(U.keys)]},count:P,query:P,openCursor:P};return f(H).forEach(function(U){V[U]=function(K){var $=Me.subscr,W=!!$,G=xu(Me,_)&&Su(U,K)?K.obsSet={}:$;if(W){var J=function(ve){return ve="idb://".concat(d,"/").concat(b,"/").concat(ve),G[ve]||(G[ve]=new tn)},te=J(""),re=J(":dels"),$=H[U](K),W=$[0],$=$[1];if((U==="query"&&W.isPrimaryKey&&!K.values?re:J(W.name||"")).add($),!W.isPrimaryKey){if(U!=="count"){var ge=U==="query"&&L&&K.values&&_.query(o(o({},K),{values:!1}));return _[U].apply(this,arguments).then(function(ve){if(U==="query"){if(L&&K.values)return ge.then(function(Ze){return Ze=Ze.result,te.addKeys(Ze),ve});var xe=K.values?ve.result.map(N):ve.result;(K.values?te:re).addKeys(xe)}else if(U==="openCursor"){var ke=ve,Ie=K.values;return ke&&Object.create(ke,{key:{get:function(){return re.addKey(ke.primaryKey),ke.key}},primaryKey:{get:function(){var Ze=ke.primaryKey;return re.addKey(Ze),Ze}},value:{get:function(){return Ie&&te.addKey(ke.primaryKey),ke.value}}})}return ve})}re.add(m)}}return _[U].apply(this,arguments)}}),V}})}};function to(u,d,m){if(m.numFailures===0)return d;if(d.type==="deleteRange")return null;var b=d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1;return m.numFailures===b?null:(d=o({},d),h(d.keys)&&(d.keys=d.keys.filter(function(_,E){return!(E in m.failures)})),"values"in d&&h(d.values)&&(d.values=d.values.filter(function(_,E){return!(E in m.failures)})),d)}function Gl(u,d){return m=u,((b=d).lower===void 0||(b.lowerOpen?0<Qe(m,b.lower):0<=Qe(m,b.lower)))&&(u=u,(d=d).upper===void 0||(d.upperOpen?Qe(u,d.upper)<0:Qe(u,d.upper)<=0));var m,b}function Yl(u,d,H,b,_,E){if(!H||H.length===0)return u;var O=d.query.index,N=O.multiEntry,L=d.query.range,A=b.schema.primaryKey.extractKey,V=O.extractKey,P=(O.lowLevelIndex||O).extractKey,H=H.reduce(function(U,K){var $=U,W=[];if(K.type==="add"||K.type==="put")for(var G=new tn,J=K.values.length-1;0<=J;--J){var te,re=K.values[J],ge=A(re);G.hasKey(ge)||(te=V(re),(N&&h(te)?te.some(function(ke){return Gl(ke,L)}):Gl(te,L))&&(G.addKey(ge),W.push(re)))}switch(K.type){case"add":var _e=new tn().addKeys(d.values?U.map(function(Ie){return A(Ie)}):U),$=U.concat(d.values?W.filter(function(Ie){return Ie=A(Ie),!_e.hasKey(Ie)&&(_e.addKey(Ie),!0)}):W.map(function(Ie){return A(Ie)}).filter(function(Ie){return!_e.hasKey(Ie)&&(_e.addKey(Ie),!0)}));break;case"put":var ce=new tn().addKeys(K.values.map(function(Ie){return A(Ie)}));$=U.filter(function(Ie){return!ce.hasKey(d.values?A(Ie):Ie)}).concat(d.values?W:W.map(function(Ie){return A(Ie)}));break;case"delete":var ve=new tn().addKeys(K.keys);$=U.filter(function(Ie){return!ve.hasKey(d.values?A(Ie):Ie)});break;case"deleteRange":var xe=K.range;$=U.filter(function(Ie){return!Gl(A(Ie),xe)})}return $},u);return H===u?u:(H.sort(function(U,K){return Qe(P(U),P(K))||Qe(A(U),A(K))}),d.limit&&d.limit<1/0&&(H.length>d.limit?H.length=d.limit:u.length===d.limit&&H.length<d.limit&&(_.dirty=!0)),E?Object.freeze(H):H)}function Ql(u,d){return Qe(u.lower,d.lower)===0&&Qe(u.upper,d.upper)===0&&!!u.lowerOpen==!!d.lowerOpen&&!!u.upperOpen==!!d.upperOpen}function Eu(u,d){return(function(m,b,_,E){if(m===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;if((b=Qe(m,b))===0){if(_&&E)return 0;if(_)return 1;if(E)return-1}return b})(u.lower,d.lower,u.lowerOpen,d.lowerOpen)<=0&&0<=(function(m,b,_,E){if(m===void 0)return b!==void 0?1:0;if(b===void 0)return-1;if((b=Qe(m,b))===0){if(_&&E)return 0;if(_)return-1;if(E)return 1}return b})(u.upper,d.upper,u.upperOpen,d.upperOpen)}function Cu(u,d,m,b){u.subscribers.add(m),b.addEventListener("abort",function(){var _,E;u.subscribers.delete(m),u.subscribers.size===0&&(_=u,E=d,setTimeout(function(){_.subscribers.size===0&&F(E,_)},3e3))})}var Iu={stack:"dbcore",level:0,name:"Cache",create:function(u){var d=u.schema.name;return o(o({},u),{transaction:function(m,b,_){var E,O,N=u.transaction(m,b,_);return b==="readwrite"&&(O=(E=new AbortController).signal,_=function(L){return function(){if(E.abort(),b==="readwrite"){for(var A=new Set,V=0,P=m;V<P.length;V++){var H=P[V],U=Fr["idb://".concat(d,"/").concat(H)];if(U){var K=u.table(H),$=U.optimisticOps.filter(function(Ie){return Ie.trans===N});if(N._explicit&&L&&N.mutatedParts)for(var W=0,G=Object.values(U.queries.query);W<G.length;W++)for(var J=0,te=(_e=G[W]).slice();J<te.length;J++)Fl((ce=te[J]).obsSet,N.mutatedParts)&&(F(_e,ce),ce.subscribers.forEach(function(Ie){return A.add(Ie)}));else if(0<$.length){U.optimisticOps=U.optimisticOps.filter(function(Ie){return Ie.trans!==N});for(var re=0,ge=Object.values(U.queries.query);re<ge.length;re++)for(var _e,ce,ve,xe=0,ke=(_e=ge[re]).slice();xe<ke.length;xe++)(ce=ke[xe]).res!=null&&N.mutatedParts&&(L&&!ce.dirty?(ve=Object.isFrozen(ce.res),ve=Yl(ce.res,ce.req,$,K,ce,ve),ce.dirty?(F(_e,ce),ce.subscribers.forEach(function(Ie){return A.add(Ie)})):ve!==ce.res&&(ce.res=ve,ce.promise=Ce.resolve({result:ve}))):(ce.dirty&&F(_e,ce),ce.subscribers.forEach(function(Ie){return A.add(Ie)})))}}}A.forEach(function(Ie){return Ie()})}}},N.addEventListener("abort",_(!1),{signal:O}),N.addEventListener("error",_(!1),{signal:O}),N.addEventListener("complete",_(!0),{signal:O})),N},table:function(m){var b=u.table(m),_=b.schema.primaryKey;return o(o({},b),{mutate:function(E){var O=Me.trans;if(_.outbound||O.db._options.cache==="disabled"||O.explicit||O.idbtrans.mode!=="readwrite")return b.mutate(E);var N=Fr["idb://".concat(d,"/").concat(m)];return N?(O=b.mutate(E),E.type!=="add"&&E.type!=="put"||!(50<=E.values.length||Hl(_,E).some(function(L){return L==null}))?(N.optimisticOps.push(E),E.mutatedParts&&Ns(E.mutatedParts),O.then(function(L){0<L.numFailures&&(F(N.optimisticOps,E),(L=to(0,E,L))&&N.optimisticOps.push(L),E.mutatedParts&&Ns(E.mutatedParts))}),O.catch(function(){F(N.optimisticOps,E),E.mutatedParts&&Ns(E.mutatedParts)})):O.then(function(L){var A=to(0,o(o({},E),{values:E.values.map(function(V,P){var H;return L.failures[P]?V:(V=(H=_.keyPath)!==null&&H!==void 0&&H.includes(".")?We(V):o({},V),Ee(V,_.keyPath,L.results[P]),V)})}),L);N.optimisticOps.push(A),queueMicrotask(function(){return E.mutatedParts&&Ns(E.mutatedParts)})}),O):b.mutate(E)},query:function(E){if(!xu(Me,b)||!Su("query",E))return b.query(E);var O=((A=Me.trans)===null||A===void 0?void 0:A.db._options.cache)==="immutable",P=Me,N=P.requery,L=P.signal,A=(function(K,$,W,G){var J=Fr["idb://".concat(K,"/").concat($)];if(!J)return[];if(!($=J.queries[W]))return[null,!1,J,null];var te=$[(G.query?G.query.index.name:null)||""];if(!te)return[null,!1,J,null];switch(W){case"query":var re=te.find(function(ge){return ge.req.limit===G.limit&&ge.req.values===G.values&&Ql(ge.req.query.range,G.query.range)});return re?[re,!0,J,te]:[te.find(function(ge){return("limit"in ge.req?ge.req.limit:1/0)>=G.limit&&(!G.values||ge.req.values)&&Eu(ge.req.query.range,G.query.range)}),!1,J,te];case"count":return re=te.find(function(ge){return Ql(ge.req.query.range,G.query.range)}),[re,!!re,J,te]}})(d,m,"query",E),V=A[0],P=A[1],H=A[2],U=A[3];return V&&P?V.obsSet=E.obsSet:(P=b.query(E).then(function(K){var $=K.result;if(V&&(V.res=$),O){for(var W=0,G=$.length;W<G;++W)Object.freeze($[W]);Object.freeze($)}else K.result=We($);return K}).catch(function(K){return U&&V&&F(U,V),Promise.reject(K)}),V={obsSet:E.obsSet,promise:P,subscribers:new Set,type:"query",req:E,dirty:!1},U?U.push(V):(U=[V],(H=H||(Fr["idb://".concat(d,"/").concat(m)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[E.query.index.name||""]=U)),Cu(V,U,N,L),V.promise.then(function(K){return{result:Yl(K.result,E,H==null?void 0:H.optimisticOps,b,V,O)}})}})}})}};function gr(u,d){return new Proxy(u,{get:function(m,b,_){return b==="db"?d:Reflect.get(m,b,_)}})}var vr=(Rt.prototype.version=function(u){if(isNaN(u)||u<.1)throw new ae.Type("Given version is not a positive number");if(u=Math.round(10*u)/10,this.idbdb||this._state.isBeingOpened)throw new ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var d=this._versions,m=d.filter(function(b){return b._cfg.version===u})[0];return m||(m=new this.Version(u),d.push(m),d.sort(Ul),m.stores({}),this._state.autoSchema=!1,m)},Rt.prototype._whenReady=function(u){var d=this;return this.idbdb&&(this._state.openComplete||Me.letThrough||this._vip)?u():new Ce(function(m,b){if(d._state.openComplete)return b(new ae.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void b(new ae.DatabaseClosed);d.open().catch(Ve)}d._state.dbReadyPromise.then(m,b)}).then(u)},Rt.prototype.use=function(u){var d=u.stack,m=u.create,b=u.level,_=u.name;return _&&this.unuse({stack:d,name:_}),u=this._middlewares[d]||(this._middlewares[d]=[]),u.push({stack:d,create:m,level:b??10,name:_}),u.sort(function(E,O){return E.level-O.level}),this},Rt.prototype.unuse=function(u){var d=u.stack,m=u.name,b=u.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(_){return b?_.create!==b:!!m&&_.name!==m})),this},Rt.prototype.open=function(){var u=this;return Dr(Or,function(){return Sd(u)})},Rt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var u=this._state,d=Ar.indexOf(this);if(0<=d&&Ar.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new Ce(function(m){u.dbReadyResolve=m}),u.openCanceller=new Ce(function(m,b){u.cancelOpen=b}))},Rt.prototype.close=function(m){var d=(m===void 0?{disableAutoOpen:!0}:m).disableAutoOpen,m=this._state;d?(m.isBeingOpened&&m.cancelOpen(new ae.DatabaseClosed),this._close(),m.autoOpen=!1,m.dbOpenError=new ae.DatabaseClosed):(this._close(),m.autoOpen=this._options.autoOpen||m.isBeingOpened,m.openComplete=!1,m.dbOpenError=null)},Rt.prototype.delete=function(u){var d=this;u===void 0&&(u={disableAutoOpen:!0});var m=0<arguments.length&&typeof arguments[0]!="object",b=this._state;return new Ce(function(_,E){function O(){d.close(u);var N=d._deps.indexedDB.deleteDatabase(d.name);N.onsuccess=bt(function(){var L,A,V;L=d._deps,A=d.name,V=L.indexedDB,L=L.IDBKeyRange,hi(V)||A===Ro||Wo(V,L).delete(A).catch(Ve),_()}),N.onerror=$t(E),N.onblocked=d._fireOnBlocked}if(m)throw new ae.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(O):O()})},Rt.prototype.backendDB=function(){return this.idbdb},Rt.prototype.isOpen=function(){return this.idbdb!==null},Rt.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&u.name==="DatabaseClosed"},Rt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Rt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Rt.prototype,"tables",{get:function(){var u=this;return f(this._allTables).map(function(d){return u._allTables[d]})},enumerable:!1,configurable:!0}),Rt.prototype.transaction=function(){var u=(function(d,m,b){var _=arguments.length;if(_<2)throw new ae.InvalidArgument("Too few arguments");for(var E=new Array(_-1);--_;)E[_-1]=arguments[_];return b=E.pop(),[d,tt(E),b]}).apply(this,arguments);return this._transaction.apply(this,u)},Rt.prototype._transaction=function(u,d,m){var b=this,_=Me.trans;_&&_.db===this&&u.indexOf("!")===-1||(_=null);var E,O,N=u.indexOf("?")!==-1;u=u.replace("!","").replace("?","");try{if(O=d.map(function(A){if(A=A instanceof b.Table?A.name:A,typeof A!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return A}),u=="r"||u===Wi)E=Wi;else{if(u!="rw"&&u!=Al)throw new ae.InvalidArgument("Invalid transaction mode: "+u);E=Al}if(_){if(_.mode===Wi&&E===Al){if(!N)throw new ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");_=null}_&&O.forEach(function(A){if(_&&_.storeNames.indexOf(A)===-1){if(!N)throw new ae.SubTransaction("Table "+A+" not included in parent transaction.");_=null}}),N&&_&&!_.active&&(_=null)}}catch(A){return _?_._promise(null,function(V,P){P(A)}):At(A)}var L=(function A(V,P,H,U,K){return Ce.resolve().then(function(){var $=Me.transless||Me,W=V._createTransaction(P,H,V._dbSchema,U);if(W.explicit=!0,$={trans:W,transless:$},U)W.idbtrans=U.idbtrans;else try{W.create(),W.idbtrans._explicit=!0,V._state.PR1398_maxLoop=3}catch(te){return te.name===Le.InvalidState&&V.isOpen()&&0<--V._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),V.close({disableAutoOpen:!1}),V.open().then(function(){return A(V,P,H,null,K)})):At(te)}var G,J=D(K);return J&&Vi(),$=Ce.follow(function(){var te;(G=K.call(W,W))&&(J?(te=vn.bind(null,null),G.then(te,te)):typeof G.next=="function"&&typeof G.throw=="function"&&(G=Vl(G)))},$),(G&&typeof G.then=="function"?Ce.resolve(G).then(function(te){return W.active?te:At(new ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):$.then(function(){return G})).then(function(te){return U&&W._resolve(),W._completion.then(function(){return te})}).catch(function(te){return W._reject(te),At(te)})})}).bind(null,this,E,O,_,m);return _?_._promise(E,L,"lock"):Me.trans?Dr(Me.transless,function(){return b._whenReady(L)}):this._whenReady(L)},Rt.prototype.table=function(u){if(!k(this._allTables,u))throw new ae.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},Rt);function Rt(u,d){var m=this;this._middlewares={},this.verno=0;var b=Rt.dependencies;this._options=d=o({addons:Rt.addons,autoOpen:!0,indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},b=d.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var _,E,O,N,L,A={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ve,dbReadyPromise:null,cancelOpen:Ve,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen};A.dbReadyPromise=new Ce(function(P){A.dbReadyResolve=P}),A.openCanceller=new Ce(function(P,H){A.cancelOpen=H}),this._state=A,this.name=u,this.on=zo(this,"populate","blocked","versionchange","close",{ready:[Xr,Ve]}),this.once=function(P,H){var U=function(){for(var K=[],$=0;$<arguments.length;$++)K[$]=arguments[$];m.on(P).unsubscribe(U),H.apply(m,K)};return m.on(P,U)},this.on.ready.subscribe=q(this.on.ready.subscribe,function(P){return function(H,U){Rt.vip(function(){var K,$=m._state;$.openComplete?($.dbOpenError||Ce.resolve().then(H),U&&P(H)):$.onReadyBeingFired?($.onReadyBeingFired.push(H),U&&P(H)):(P(H),K=m,U||P(function W(){K.on.ready.unsubscribe(H),K.on.ready.unsubscribe(W)}))})}}),this.Collection=(_=this,ai(hu.prototype,function(G,W){this.db=_;var U=Lo,K=null;if(W)try{U=W()}catch(J){K=J}var $=G._ctx,W=$.table,G=W.hook.reading.fire;this._ctx={table:W,index:$.index,isPrimKey:!$.index||W.schema.primKey.keyPath&&$.index===W.schema.primKey.name,range:U,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:K,or:$.or,valueMapper:G!==ot?G:null}})),this.Table=(E=this,ai(Uo.prototype,function(P,H,U){this.db=E,this._tx=U,this.name=P,this.schema=H,this.hook=E._allTables[P]?E._allTables[P].hook:zo(null,{creating:[gn,Ve],reading:[ft,ot],updating:[Fn,Ve],deleting:[cr,Ve]})})),this.Transaction=(O=this,ai(yu.prototype,function(P,H,U,K,$){var W=this;P!=="readonly"&&H.forEach(function(G){G=(G=U[G])===null||G===void 0?void 0:G.yProps,G&&(H=H.concat(G.map(function(J){return J.updatesTable})))}),this.db=O,this.mode=P,this.storeNames=H,this.schema=U,this.chromeTransactionDurability=K,this.idbtrans=null,this.on=zo(this,"complete","error","abort"),this.parent=$||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ce(function(G,J){W._resolve=G,W._reject=J}),this._completion.then(function(){W.active=!1,W.on.complete.fire()},function(G){var J=W.active;return W.active=!1,W.on.error.fire(G),W.parent?W.parent._reject(G):J&&W.idbtrans&&W.idbtrans.abort(),At(G)})})),this.Version=(N=this,ai(xd.prototype,function(P){this.db=N,this._cfg={version:P,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(L=this,ai(qi.prototype,function(P,H,U){if(this.db=L,this._ctx={table:P,index:H===":id"?null:H,or:U},this._cmp=this._ascending=Qe,this._descending=function(K,$){return Qe($,K)},this._max=function(K,$){return 0<Qe(K,$)?K:$},this._min=function(K,$){return Qe(K,$)<0?K:$},this._IDBKeyRange=L._deps.IDBKeyRange,!this._IDBKeyRange)throw new ae.MissingAPI})),this.on("versionchange",function(P){0<P.newVersion?console.warn("Another connection wants to upgrade database '".concat(m.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(m.name,"'. Closing db now to resume the delete request.")),m.close({disableAutoOpen:!1})}),this.on("blocked",function(P){!P.newVersion||P.newVersion<P.oldVersion?console.warn("Dexie.delete('".concat(m.name,"') was blocked")):console.warn("Upgrade '".concat(m.name,"' blocked by other connection holding version ").concat(P.oldVersion/10))}),this._maxKey=mr(d.IDBKeyRange),this._createTransaction=function(P,H,U,K){return new m.Transaction(P,H,U,m._options.chromeTransactionDurability,K)},this._fireOnBlocked=function(P){m.on("blocked").fire(P),Ar.filter(function(H){return H.name===m.name&&H!==m&&!H._state.vcFired}).map(function(H){return H.on("versionchange").fire(P)})},this.use(Cd),this.use(Iu),this.use(ql),this.use(ku),this.use(Ed);var V=new Proxy(this,{get:function(P,H,U){if(H==="_vip")return!0;if(H==="table")return function($){return gr(m.table($),V)};var K=Reflect.get(P,H,U);return K instanceof Uo?gr(K,V):H==="tables"?K.map(function($){return gr($,V)}):H==="_createTransaction"?function(){return gr(K.apply(this,arguments),V)}:K}});this.vip=V,b.forEach(function(P){return P(m)})}var As,jn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ou=(pi.prototype.subscribe=function(u,d,m){return this._subscribe(u&&typeof u!="function"?u:{next:u,error:d,complete:m})},pi.prototype[jn]=function(){return this},pi);function pi(u){this._subscribe=u}try{As={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{As={indexedDB:null,IDBKeyRange:null}}function no(u){var d,m=!1,b=new Ou(function(_){var E=D(u),O,N=!1,L={},A={},V={get closed(){return N},unsubscribe:function(){N||(N=!0,O&&O.abort(),P&&Mr.storagemutated.unsubscribe(U))}};_.start&&_.start(V);var P=!1,H=function(){return bs(K)},U=function($){Ts(L,$),Fl(A,L)&&H()},K=function(){var $,W,G;!N&&As.indexedDB&&(L={},$={},O&&O.abort(),O=new AbortController,G=(function(J){var te=Tr();try{E&&Vi();var re=Nr(u,J);return re=E?re.finally(vn):re}finally{te&&ri()}})(W={subscr:$,signal:O.signal,requery:H,querier:u,trans:null}),Promise.resolve(G).then(function(J){m=!0,d=J,N||W.signal.aborted||(L={},(function(te){for(var re in te)if(k(te,re))return;return 1})(A=$)||P||(Mr(Gi,U),P=!0),bs(function(){return!N&&_.next&&_.next(J)}))},function(J){m=!1,["DatabaseClosedError","AbortError"].includes(J==null?void 0:J.name)||N||bs(function(){N||_.error&&_.error(J)})}))};return setTimeout(H,0),V});return b.hasValue=function(){return m},b.getValue=function(){return d},b}var mi=vr;function ro(u){var d=wr;try{wr=!0,Mr.storagemutated.fire(u),Kl(u,!0)}finally{wr=d}}x(mi,o(o({},_t),{delete:function(u){return new mi(u,{addons:[]}).delete()},exists:function(u){return new mi(u,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(u){try{return d=mi.dependencies,m=d.indexedDB,d=d.IDBKeyRange,(hi(m)?Promise.resolve(m.databases()).then(function(b){return b.map(function(_){return _.name}).filter(function(_){return _!==Ro})}):Wo(m,d).toCollection().primaryKeys()).then(u)}catch{return At(new ae.MissingAPI)}var d,m},defineClass:function(){return function(u){g(this,u)}},ignoreTransaction:function(u){return Me.trans?Dr(Me.transless,u):u()},vip:eo,async:function(u){return function(){try{var d=Vl(u.apply(this,arguments));return d&&typeof d.then=="function"?d:Ce.resolve(d)}catch(m){return At(m)}}},spawn:function(u,d,m){try{var b=Vl(u.apply(m,d||[]));return b&&typeof b.then=="function"?b:Ce.resolve(b)}catch(_){return At(_)}},currentTransaction:{get:function(){return Me.trans||null}},waitFor:function(u,d){return d=Ce.resolve(typeof u=="function"?mi.ignoreTransaction(u):u).timeout(d||6e4),Me.trans?Me.trans.waitFor(d):d},Promise:Ce,debug:{get:function(){return an},set:function(u){ys(u)}},derive:T,extend:g,props:x,override:q,Events:zo,on:Mr,liveQuery:no,extendObservabilitySet:Ts,getByKeyPath:fe,setByKeyPath:Ee,delByKeyPath:function(u,d){typeof d=="string"?Ee(u,d,void 0):"length"in d&&[].map.call(d,function(m){Ee(u,m,void 0)})},shallowClone:be,deepClone:We,getObjectDiff:Wl,cmp:Qe,asap:Se,minKey:-1/0,addons:[],connections:Ar,errnames:Le,dependencies:As,cache:Fr,semVer:"4.2.1",version:"4.2.1".split(".").map(function(u){return parseInt(u)}).reduce(function(u,d,m){return u+d/Math.pow(10,2*m)})})),mi.maxKey=mr(mi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Mr(Gi,function(u){wr||(u=new CustomEvent(di,{detail:u}),wr=!0,dispatchEvent(u),wr=!1)}),addEventListener(di,function(u){u=u.detail,wr||ro(u)}));var io,wr=!1,Rs=function(){};return typeof BroadcastChannel<"u"&&((Rs=function(){(io=new BroadcastChannel(di)).onmessage=function(u){return u.data&&ro(u.data)}})(),typeof io.unref=="function"&&io.unref(),Mr(Gi,function(u){wr||io.postMessage(u)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(u){if(!vr.disableBfCache&&u.persisted){an&&console.debug("Dexie: handling persisted pagehide"),io!=null&&io.close();for(var d=0,m=Ar;d<m.length;d++)m[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(u){!vr.disableBfCache&&u.persisted&&(an&&console.debug("Dexie: handling persisted pageshow"),Rs(),ro({all:new tn(-1/0,[[]])}))})),Ce.rejectionMapper=function(u,d){return!u||u instanceof ye||u instanceof TypeError||u instanceof SyntaxError||!u.name||!et[u.name]?u:(d=new et[u.name](d||u.message,u),"stack"in u&&I(d,"stack",{get:function(){return this.inner.stack}}),d)},ys(an),o(vr,Object.freeze({__proto__:null,Dexie:vr,liveQuery:no,Entity:cu,cmp:Qe,PropModification:Lr,replacePrefix:function(u,d){return new Lr({replacePrefix:[u,d]})},add:function(u){return new Lr({add:u})},remove:function(u){return new Lr({remove:u})},default:vr,RangeSet:tn,mergeRanges:qo,rangesOverlap:Os}),{default:vr}),vr})})(Tc)),Tc.exports}var Ib=Cb();const fh=Kg(Ib),hy=Symbol.for("Dexie"),dt=globalThis[hy]||(globalThis[hy]=fh);if(fh.semVer!==dt.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${fh.semVer} and ${dt.semVer}`);const{liveQuery:So,mergeRanges:yC,rangesOverlap:gC,RangeSet:Ob,cmp:id,Entity:jb,PropModification:py,replacePrefix:vC,add:wC,remove:bC,DexieYProvider:kC}=dt;function Ya(n,e,r){var o,l;typeof n=="function"?(o=e||[],l=r):(o=[],l=e);var a=tl.useRef({hasResult:!1,result:l,error:null}),f=tl.useReducer(function(y){return y+1},0);f[0];var h=f[1],g=tl.useMemo(function(){var y=typeof n=="function"?n():n;if(!y||typeof y.subscribe!="function")throw n===y?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!a.current.hasResult&&typeof window<"u"&&(typeof y.hasValue!="function"||y.hasValue()))if(typeof y.getValue=="function")a.current.result=y.getValue(),a.current.hasResult=!0;else{var v=y.subscribe(function(k){a.current.result=k,a.current.hasResult=!0});typeof v=="function"?v():v.unsubscribe()}return y},o);if(tl.useDebugValue(a.current.result),tl.useEffect(function(){var y=g.subscribe(function(v){var k=a.current;(k.error!==null||k.result!==v)&&(k.error=null,k.result=v,k.hasResult=!0,h())},function(v){var k=a.current;k.error!==v&&(k.error=v,h())});return typeof y=="function"?y:y.unsubscribe.bind(y)},o),a.current.error)throw a.current.error;return a.current.result}function Qa(n,e,r){return Ya(function(){return dt.liveQuery(n)},e||[],r)}function Ja(n,e,r){if(!n)throw new TypeError("Invalid arguments to usePermissions(): undefined or null");var o;if(arguments.length>=3){if(!("transaction"in n))throw new TypeError("Invalid arguments to usePermission(db, table, obj): 1st arg must be a Dexie instance");if(typeof e!="string")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 2nd arg must be string");if(!r||typeof r!="object")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 3rd arg must be an object");o=n}else{if(n instanceof dt)throw new TypeError("Invalid arguments to usePermission(db, table, obj): Missing table and obj arguments.");if(typeof n.table=="function"&&typeof n.db=="object")o=n.db,r=n,e=n.table();else throw new TypeError("Invalid arguments to usePermissions(). Expected usePermissions(entity: DexieCloudEntity) or usePermissions(db: Dexie, table: string, obj: DexieCloudObject)")}if(!("cloud"in o))throw new Error("usePermissions() is only for Dexie Cloud but there's no dexie-cloud-addon active in given db.");if(!("permissions"in o.cloud))throw new Error("usePermissions() requires a newer version of dexie-cloud-addon. Please upgrade it.");return Ya(function(){return o.cloud.permissions(r,e)},[r.realmId,r.owner,e])}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(n){var e=dt.DexieYProvider;e&&e.release(n)});const Pi=Math.floor,Nc=Math.abs,Vg=(n,e)=>n<e?n:e,vl=(n,e)=>n>e?n:e,Wg=n=>n!==0?n<0:1/n<0,my=1,yy=2,Vf=4,Wf=8,Da=32,Ti=64,qn=128,od=31,hh=63,us=127,Tb=2147483647,Hg=Number.MAX_SAFE_INTEGER,Nb=Number.isInteger||(n=>typeof n=="number"&&isFinite(n)&&Pi(n)===n),cs=()=>new Set,Hf=n=>n[n.length-1],Pb=(n,e)=>{for(let r=0;r<e.length;r++)n.push(e[r])},jo=Array.from,Db=Array.isArray,Ab=n=>n.toLowerCase(),Rb=/^\s*/g,Lb=n=>n.replace(Rb,""),Mb=/([A-Z])/g,gy=(n,e)=>Lb(n.replace(Mb,r=>`${e}${Ab(r)}`)),Ub=n=>{const e=unescape(encodeURIComponent(n)),r=e.length,o=new Uint8Array(r);for(let l=0;l<r;l++)o[l]=e.codePointAt(l);return o},Aa=typeof TextEncoder<"u"?new TextEncoder:null,zb=n=>Aa.encode(n),Fb=Aa?zb:Ub;let Sa=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Sa&&Sa.decode(new Uint8Array).length===1&&(Sa=null);class wl{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const bl=()=>new wl,Bb=n=>{let e=n.cpos;for(let r=0;r<n.bufs.length;r++)e+=n.bufs[r].length;return e},Hn=n=>{const e=new Uint8Array(Bb(n));let r=0;for(let o=0;o<n.bufs.length;o++){const l=n.bufs[o];e.set(l,r),r+=l.length}return e.set(new Uint8Array(n.cbuf.buffer,0,n.cpos),r),e},$b=(n,e)=>{const r=n.cbuf.length;r-n.cpos<e&&(n.bufs.push(new Uint8Array(n.cbuf.buffer,0,n.cpos)),n.cbuf=new Uint8Array(vl(r,e)*2),n.cpos=0)},sn=(n,e)=>{const r=n.cbuf.length;n.cpos===r&&(n.bufs.push(n.cbuf),n.cbuf=new Uint8Array(r*2),n.cpos=0),n.cbuf[n.cpos++]=e},ph=sn,it=(n,e)=>{for(;e>us;)sn(n,qn|us&e),e=Pi(e/128);sn(n,us&e)},Hh=(n,e)=>{const r=Wg(e);for(r&&(e=-e),sn(n,(e>hh?qn:0)|(r?Ti:0)|hh&e),e=Pi(e/64);e>0;)sn(n,(e>us?qn:0)|us&e),e=Pi(e/128)},mh=new Uint8Array(3e4),Kb=mh.length/3,Vb=(n,e)=>{if(e.length<Kb){const r=Aa.encodeInto(e,mh).written||0;it(n,r);for(let o=0;o<r;o++)sn(n,mh[o])}else hn(n,Fb(e))},Wb=(n,e)=>{const r=unescape(encodeURIComponent(e)),o=r.length;it(n,o);for(let l=0;l<o;l++)sn(n,r.codePointAt(l))},or=Aa&&Aa.encodeInto?Vb:Wb,Hb=(n,e)=>Xa(n,Hn(e)),Xa=(n,e)=>{const r=n.cbuf.length,o=n.cpos,l=Vg(r-o,e.length),a=e.length-l;n.cbuf.set(e.subarray(0,l),o),n.cpos+=l,a>0&&(n.bufs.push(n.cbuf),n.cbuf=new Uint8Array(vl(r*2,a)),n.cbuf.set(e.subarray(l)),n.cpos=a)},hn=(n,e)=>{it(n,e.byteLength),Xa(n,e)},sd=(n,e)=>{$b(n,e);const r=new DataView(n.cbuf.buffer,n.cpos,e);return n.cpos+=e,r},qb=(n,e)=>sd(n,4).setFloat32(0,e,!1),Gb=(n,e)=>sd(n,8).setFloat64(0,e,!1),Yb=(n,e)=>sd(n,8).setBigInt64(0,e,!1),vy=(n,e)=>sd(n,8).setBigUint64(0,e,!1),wy=new DataView(new ArrayBuffer(4)),Qb=n=>(wy.setFloat32(0,n),wy.getFloat32(0)===n),Eo=(n,e)=>{switch(typeof e){case"string":sn(n,119),or(n,e);break;case"number":Nb(e)&&Nc(e)<=Tb?(sn(n,125),Hh(n,e)):Qb(e)?(sn(n,124),qb(n,e)):(sn(n,123),Gb(n,e));break;case"bigint":sn(n,122),Yb(n,e);break;case"object":if(e===null)sn(n,126);else if(Db(e)){sn(n,117),it(n,e.length);for(let r=0;r<e.length;r++)Eo(n,e[r])}else if(e instanceof Uint8Array)sn(n,116),hn(n,e);else{sn(n,118);const r=Object.keys(e);it(n,r.length);for(let o=0;o<r.length;o++){const l=r[o];or(n,l),Eo(n,e[l])}}break;case"boolean":sn(n,e?120:121);break;default:sn(n,127)}};class by extends wl{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&it(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const ky=n=>{n.count>0&&(Hh(n.encoder,n.count===1?n.s:-n.s),n.count>1&&it(n.encoder,n.count-2))};class Pc{constructor(){this.encoder=new wl,this.s=0,this.count=0}write(e){this.s===e?this.count++:(ky(this),this.count=1,this.s=e)}toUint8Array(){return ky(this),Hn(this.encoder)}}const _y=n=>{if(n.count>0){const e=n.diff*2+(n.count===1?0:1);Hh(n.encoder,e),n.count>1&&it(n.encoder,n.count-2)}};class qf{constructor(){this.encoder=new wl,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(_y(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return _y(this),Hn(this.encoder)}}class Jb{constructor(){this.sarr=[],this.s="",this.lensE=new Pc}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new wl;return this.sarr.push(this.s),this.s="",or(e,this.sarr.join("")),Xa(e,this.lensE.toUint8Array()),Hn(e)}}const To=n=>new Error(n),Gr=()=>{throw To("Method unimplemented")},Yr=()=>{throw To("Unexpected case")},qg=To("Unexpected end of array"),Gg=To("Integer out of Range");class kl{constructor(e){this.arr=e,this.pos=0}}const Za=n=>new kl(n),Yg=n=>n.pos!==n.arr.length,Xb=(n,e)=>{const r=new Uint8Array(n.arr.buffer,n.pos+n.arr.byteOffset,e);return n.pos+=e,r},pn=n=>Xb(n,Ct(n)),ul=n=>n.arr[n.pos++],Ct=n=>{let e=0,r=1;const o=n.arr.length;for(;n.pos<o;){const l=n.arr[n.pos++];if(e=e+(l&us)*r,r*=128,l<qn)return e;if(e>Hg)throw Gg}throw qg},qh=n=>{let e=n.arr[n.pos++],r=e&hh,o=64;const l=(e&Ti)>0?-1:1;if((e&qn)===0)return l*r;const a=n.arr.length;for(;n.pos<a;){if(e=n.arr[n.pos++],r=r+(e&us)*o,o*=128,e<qn)return l*r;if(r>Hg)throw Gg}throw qg},Zb=n=>{let e=Ct(n);if(e===0)return"";{let r=String.fromCodePoint(ul(n));if(--e<100)for(;e--;)r+=String.fromCodePoint(ul(n));else for(;e>0;){const o=e<1e4?e:1e4,l=n.arr.subarray(n.pos,n.pos+o);n.pos+=o,r+=String.fromCodePoint.apply(null,l),e-=o}return decodeURIComponent(escape(r))}},ek=n=>Sa.decode(pn(n)),sr=Sa?ek:Zb,ld=(n,e)=>{const r=new DataView(n.arr.buffer,n.arr.byteOffset+n.pos,e);return n.pos+=e,r},tk=n=>ld(n,4).getFloat32(0,!1),nk=n=>ld(n,8).getFloat64(0,!1),rk=n=>ld(n,8).getBigInt64(0,!1),xy=n=>ld(n,8).getBigUint64(0,!1),ik=[n=>{},n=>null,qh,tk,nk,rk,n=>!1,n=>!0,sr,n=>{const e=Ct(n),r={};for(let o=0;o<e;o++){const l=sr(n);r[l]=Co(n)}return r},n=>{const e=Ct(n),r=[];for(let o=0;o<e;o++)r.push(Co(n));return r},pn],Co=n=>ik[127-ul(n)](n);class Sy extends kl{constructor(e,r){super(e),this.reader=r,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),Yg(this)?this.count=Ct(this)+1:this.count=-1),this.count--,this.s}}class Dc extends kl{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=qh(this);const e=Wg(this.s);this.count=1,e&&(this.s=-this.s,this.count=Ct(this)+2)}return this.count--,this.s}}class Gf extends kl{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=qh(this),r=e&1;this.diff=Pi(e/2),this.count=1,r&&(this.count=Ct(this)+2)}return this.s+=this.diff,this.count--,this.s}}class ok{constructor(e){this.decoder=new Dc(e),this.str=sr(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),r=this.str.slice(this.spos,e);return this.spos=e,r}}var yh=function(n,e){return yh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},yh(n,e)};function Di(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yh(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function sk(n,e,r,o){function l(a){return a instanceof r?a:new r(function(f){f(a)})}return new(r||(r=Promise))(function(a,f){function h(v){try{y(o.next(v))}catch(k){f(k)}}function g(v){try{y(o.throw(v))}catch(k){f(k)}}function y(v){v.done?a(v.value):l(v.value).then(h,g)}y((o=o.apply(n,e||[])).next())})}function Qg(n,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,l,a,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=h(0),f.throw=h(1),f.return=h(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(y){return function(v){return g([y,v])}}function g(y){if(o)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(r=0)),r;)try{if(o=1,l&&(a=y[0]&2?l.return:y[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,y[1])).done)return a;switch(l=0,a&&(y=[y[0]&2,a.value]),y[0]){case 0:case 1:a=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!a||y[1]>a[0]&&y[1]<a[3])){r.label=y[1];break}if(y[0]===6&&r.label<a[1]){r.label=a[1],a=y;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(y);break}a[2]&&r.ops.pop(),r.trys.pop();continue}y=e.call(n,r)}catch(v){y=[6,v],l=0}finally{o=a=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}function cl(n){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&n[e],o=0;if(r)return r.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ds(n,e){var r=typeof Symbol=="function"&&n[Symbol.iterator];if(!r)return n;var o=r.call(n),l,a=[],f;try{for(;(e===void 0||e-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(h){f={error:h}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(f)throw f.error}}return a}function dl(n,e,r){if(r||arguments.length===2)for(var o=0,l=e.length,a;o<l;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return n.concat(a||Array.prototype.slice.call(e))}function ol(n){return this instanceof ol?(this.v=n,this):new ol(n)}function lk(n,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(n,e||[]),l,a=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),l[Symbol.asyncIterator]=function(){return this},l;function f(S){return function(I){return Promise.resolve(I).then(S,k)}}function h(S,I){o[S]&&(l[S]=function(T){return new Promise(function(z,ne){a.push([S,T,z,ne])>1||g(S,T)})},I&&(l[S]=I(l[S])))}function g(S,I){try{y(o[S](I))}catch(T){x(a[0][3],T)}}function y(S){S.value instanceof ol?Promise.resolve(S.value.v).then(v,k):x(a[0][2],S)}function v(S){g("next",S)}function k(S){g("throw",S)}function x(S,I){S(I),a.shift(),a.length&&g(a[0][0],a[0][1])}}function ak(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],r;return e?e.call(n):(n=typeof cl=="function"?cl(n):n[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(a){r[a]=n[a]&&function(f){return new Promise(function(h,g){f=n[a](f),l(h,g,f.done,f.value)})}}function l(a,f,h,g){Promise.resolve(g).then(function(y){a({value:y,done:h})},f)}}function xt(n){return typeof n=="function"}function Gh(n){var e=function(o){Error.call(o),o.stack=new Error().stack},r=n(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Yf=Gh(function(n){return function(r){n(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(o,l){return l+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Fc(n,e){if(n){var r=n.indexOf(e);0<=r&&n.splice(r,1)}}var _l=(function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,r,o,l,a;if(!this.closed){this.closed=!0;var f=this._parentage;if(f)if(this._parentage=null,Array.isArray(f))try{for(var h=cl(f),g=h.next();!g.done;g=h.next()){var y=g.value;y.remove(this)}}catch(T){e={error:T}}finally{try{g&&!g.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}else f.remove(this);var v=this.initialTeardown;if(xt(v))try{v()}catch(T){a=T instanceof Yf?T.errors:[T]}var k=this._finalizers;if(k){this._finalizers=null;try{for(var x=cl(k),S=x.next();!S.done;S=x.next()){var I=S.value;try{Ey(I)}catch(T){a=a??[],T instanceof Yf?a=dl(dl([],ds(a)),ds(T.errors)):a.push(T)}}}catch(T){o={error:T}}finally{try{S&&!S.done&&(l=x.return)&&l.call(x)}finally{if(o)throw o.error}}}if(a)throw new Yf(a)}},n.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)Ey(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},n.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},n.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},n.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&Fc(r,e)},n.prototype.remove=function(e){var r=this._finalizers;r&&Fc(r,e),e instanceof n&&e._removeParent(this)},n.EMPTY=(function(){var e=new n;return e.closed=!0,e})(),n})(),Jg=_l.EMPTY;function Xg(n){return n instanceof _l||n&&"closed"in n&&xt(n.remove)&&xt(n.add)&&xt(n.unsubscribe)}function Ey(n){xt(n)?n():n.unsubscribe()}var uk={Promise:void 0},ck={setTimeout:function(n,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return setTimeout.apply(void 0,dl([n,e],ds(r)))},clearTimeout:function(n){return clearTimeout(n)},delegate:void 0};function Zg(n){ck.setTimeout(function(){throw n})}function Cy(){}function Ac(n){n()}var Yh=(function(n){Di(e,n);function e(r){var o=n.call(this)||this;return o.isStopped=!1,r?(o.destination=r,Xg(r)&&r.add(o)):o.destination=hk,o}return e.create=function(r,o,l){return new fl(r,o,l)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e})(_l),dk=(function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(o){wc(o)}},n.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(o){wc(o)}else wc(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){wc(r)}},n})(),fl=(function(n){Di(e,n);function e(r,o,l){var a=n.call(this)||this,f;return xt(r)||!r?f={next:r??void 0,error:o??void 0,complete:l??void 0}:f=r,a.destination=new dk(f),a}return e})(Yh);function wc(n){Zg(n)}function fk(n){throw n}var hk={closed:!0,next:Cy,error:fk,complete:Cy},Qh=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function xl(n){return n}function pk(n){return n.length===0?xl:n.length===1?n[0]:function(r){return n.reduce(function(o,l){return l(o)},r)}}var Jt=(function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var r=new n;return r.source=this,r.operator=e,r},n.prototype.subscribe=function(e,r,o){var l=this,a=yk(e)?e:new fl(e,r,o);return Ac(function(){var f=l,h=f.operator,g=f.source;a.add(h?h.call(a,g):g?l._subscribe(a):l._trySubscribe(a))}),a},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},n.prototype.forEach=function(e,r){var o=this;return r=Iy(r),new r(function(l,a){var f=new fl({next:function(h){try{e(h)}catch(g){a(g),f.unsubscribe()}},error:a,complete:l});o.subscribe(f)})},n.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},n.prototype[Qh]=function(){return this},n.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return pk(e)(this)},n.prototype.toPromise=function(e){var r=this;return e=Iy(e),new e(function(o,l){var a;r.subscribe(function(f){return a=f},function(f){return l(f)},function(){return o(a)})})},n.create=function(e){return new n(e)},n})();function Iy(n){var e;return(e=n??uk.Promise)!==null&&e!==void 0?e:Promise}function mk(n){return n&&xt(n.next)&&xt(n.error)&&xt(n.complete)}function yk(n){return n&&n instanceof Yh||mk(n)&&Xg(n)}function gk(n){return xt(n==null?void 0:n.lift)}function Qn(n){return function(e){if(gk(e))return e.lift(function(r){try{return n(r,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Yn(n,e,r,o,l){return new vk(n,e,r,o,l)}var vk=(function(n){Di(e,n);function e(r,o,l,a,f,h){var g=n.call(this,r)||this;return g.onFinalize=f,g.shouldUnsubscribe=h,g._next=o?function(y){try{o(y)}catch(v){r.error(v)}}:n.prototype._next,g._error=a?function(y){try{a(y)}catch(v){r.error(v)}finally{this.unsubscribe()}}:n.prototype._error,g._complete=l?function(){try{l()}catch(y){r.error(y)}finally{this.unsubscribe()}}:n.prototype._complete,g}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var o=this.closed;n.prototype.unsubscribe.call(this),!o&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e})(Yh),wk=Gh(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),fs=(function(n){Di(e,n);function e(){var r=n.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var o=new Oy(this,this);return o.operator=r,o},e.prototype._throwIfClosed=function(){if(this.closed)throw new wk},e.prototype.next=function(r){var o=this;Ac(function(){var l,a;if(o._throwIfClosed(),!o.isStopped){o.currentObservers||(o.currentObservers=Array.from(o.observers));try{for(var f=cl(o.currentObservers),h=f.next();!h.done;h=f.next()){var g=h.value;g.next(r)}}catch(y){l={error:y}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(l)throw l.error}}}})},e.prototype.error=function(r){var o=this;Ac(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=r;for(var l=o.observers;l.length;)l.shift().error(r)}})},e.prototype.complete=function(){var r=this;Ac(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var o=r.observers;o.length;)o.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var o=this,l=this,a=l.hasError,f=l.isStopped,h=l.observers;return a||f?Jg:(this.currentObservers=null,h.push(r),new _l(function(){o.currentObservers=null,Fc(h,r)}))},e.prototype._checkFinalizedStatuses=function(r){var o=this,l=o.hasError,a=o.thrownError,f=o.isStopped;l?r.error(a):f&&r.complete()},e.prototype.asObservable=function(){var r=new Jt;return r.source=this,r},e.create=function(r,o){return new Oy(r,o)},e})(Jt),Oy=(function(n){Di(e,n);function e(r,o){var l=n.call(this)||this;return l.destination=r,l.source=o,l}return e.prototype.next=function(r){var o,l;(l=(o=this.destination)===null||o===void 0?void 0:o.next)===null||l===void 0||l.call(o,r)},e.prototype.error=function(r){var o,l;(l=(o=this.destination)===null||o===void 0?void 0:o.error)===null||l===void 0||l.call(o,r)},e.prototype.complete=function(){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||o===void 0||o.call(r)},e.prototype._subscribe=function(r){var o,l;return(l=(o=this.source)===null||o===void 0?void 0:o.subscribe(r))!==null&&l!==void 0?l:Jg},e})(fs),Er=(function(n){Di(e,n);function e(r){var o=n.call(this)||this;return o._value=r,o}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var o=n.prototype._subscribe.call(this,r);return!o.closed&&r.next(this._value),o},e.prototype.getValue=function(){var r=this,o=r.hasError,l=r.thrownError,a=r._value;if(o)throw l;return this._throwIfClosed(),a},e.prototype.next=function(r){n.prototype.next.call(this,this._value=r)},e})(fs),bk={now:function(){return Date.now()}},kk=(function(n){Di(e,n);function e(r,o){return n.call(this)||this}return e.prototype.schedule=function(r,o){return this},e})(_l),jy={setInterval:function(n,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return setInterval.apply(void 0,dl([n,e],ds(r)))},clearInterval:function(n){return clearInterval(n)},delegate:void 0},_k=(function(n){Di(e,n);function e(r,o){var l=n.call(this,r,o)||this;return l.scheduler=r,l.work=o,l.pending=!1,l}return e.prototype.schedule=function(r,o){var l;if(o===void 0&&(o=0),this.closed)return this;this.state=r;var a=this.id,f=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(f,a,o)),this.pending=!0,this.delay=o,this.id=(l=this.id)!==null&&l!==void 0?l:this.requestAsyncId(f,this.id,o),this},e.prototype.requestAsyncId=function(r,o,l){return l===void 0&&(l=0),jy.setInterval(r.flush.bind(r,this),l)},e.prototype.recycleAsyncId=function(r,o,l){if(l===void 0&&(l=0),l!=null&&this.delay===l&&this.pending===!1)return o;o!=null&&jy.clearInterval(o)},e.prototype.execute=function(r,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var l=this._execute(r,o);if(l)return l;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,o){var l=!1,a;try{this.work(r)}catch(f){l=!0,a=f||new Error("Scheduled action threw falsy error")}if(l)return this.unsubscribe(),a},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,o=r.id,l=r.scheduler,a=l.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Fc(a,this),o!=null&&(this.id=this.recycleAsyncId(l,o,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},e})(kk),Ty=(function(){function n(e,r){r===void 0&&(r=n.now),this.schedulerActionCtor=e,this.now=r}return n.prototype.schedule=function(e,r,o){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(o,r)},n.now=bk.now,n})(),xk=(function(n){Di(e,n);function e(r,o){o===void 0&&(o=Ty.now);var l=n.call(this,r,o)||this;return l.actions=[],l._active=!1,l}return e.prototype.flush=function(r){var o=this.actions;if(this._active){o.push(r);return}var l;this._active=!0;do if(l=r.execute(r.state,r.delay))break;while(r=o.shift());if(this._active=!1,l){for(;r=o.shift();)r.unsubscribe();throw l}},e})(Ty),Jh=new xk(_k),Sk=Jh,ev=new Jt(function(n){return n.complete()});function tv(n){return n&&xt(n.schedule)}function Xh(n){return n[n.length-1]}function Ek(n){return xt(Xh(n))?n.pop():void 0}function eu(n){return tv(Xh(n))?n.pop():void 0}function Ck(n,e){return typeof Xh(n)=="number"?n.pop():e}var Zh=(function(n){return n&&typeof n.length=="number"&&typeof n!="function"});function nv(n){return xt(n==null?void 0:n.then)}function rv(n){return xt(n[Qh])}function iv(n){return Symbol.asyncIterator&&xt(n==null?void 0:n[Symbol.asyncIterator])}function ov(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Ik(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sv=Ik();function lv(n){return xt(n==null?void 0:n[sv])}function av(n){return lk(this,arguments,function(){var r,o,l,a;return Qg(this,function(f){switch(f.label){case 0:r=n.getReader(),f.label=1;case 1:f.trys.push([1,,9,10]),f.label=2;case 2:return[4,ol(r.read())];case 3:return o=f.sent(),l=o.value,a=o.done,a?[4,ol(void 0)]:[3,5];case 4:return[2,f.sent()];case 5:return[4,ol(l)];case 6:return[4,f.sent()];case 7:return f.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function uv(n){return xt(n==null?void 0:n.getReader)}function ur(n){if(n instanceof Jt)return n;if(n!=null){if(rv(n))return Ok(n);if(Zh(n))return jk(n);if(nv(n))return Tk(n);if(iv(n))return cv(n);if(lv(n))return Nk(n);if(uv(n))return Pk(n)}throw ov(n)}function Ok(n){return new Jt(function(e){var r=n[Qh]();if(xt(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jk(n){return new Jt(function(e){for(var r=0;r<n.length&&!e.closed;r++)e.next(n[r]);e.complete()})}function Tk(n){return new Jt(function(e){n.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Zg)})}function Nk(n){return new Jt(function(e){var r,o;try{for(var l=cl(n),a=l.next();!a.done;a=l.next()){var f=a.value;if(e.next(f),e.closed)return}}catch(h){r={error:h}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}e.complete()})}function cv(n){return new Jt(function(e){Dk(n,e).catch(function(r){return e.error(r)})})}function Pk(n){return cv(av(n))}function Dk(n,e){var r,o,l,a;return sk(this,void 0,void 0,function(){var f,h;return Qg(this,function(g){switch(g.label){case 0:g.trys.push([0,5,6,11]),r=ak(n),g.label=1;case 1:return[4,r.next()];case 2:if(o=g.sent(),!!o.done)return[3,4];if(f=o.value,e.next(f),e.closed)return[2];g.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return h=g.sent(),l={error:h},[3,11];case 6:return g.trys.push([6,,9,10]),o&&!o.done&&(a=r.return)?[4,a.call(r)]:[3,8];case 7:g.sent(),g.label=8;case 8:return[3,10];case 9:if(l)throw l.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Io(n,e,r,o,l){o===void 0&&(o=0),l===void 0&&(l=!1);var a=e.schedule(function(){r(),l?n.add(this.schedule(null,o)):this.unsubscribe()},o);if(n.add(a),!l)return a}function dv(n,e){return e===void 0&&(e=0),Qn(function(r,o){r.subscribe(Yn(o,function(l){return Io(o,n,function(){return o.next(l)},e)},function(){return Io(o,n,function(){return o.complete()},e)},function(l){return Io(o,n,function(){return o.error(l)},e)}))})}function fv(n,e){return e===void 0&&(e=0),Qn(function(r,o){o.add(n.schedule(function(){return r.subscribe(o)},e))})}function Ak(n,e){return ur(n).pipe(fv(e),dv(e))}function Rk(n,e){return ur(n).pipe(fv(e),dv(e))}function Lk(n,e){return new Jt(function(r){var o=0;return e.schedule(function(){o===n.length?r.complete():(r.next(n[o++]),r.closed||this.schedule())})})}function Mk(n,e){return new Jt(function(r){var o;return Io(r,e,function(){o=n[sv](),Io(r,e,function(){var l,a,f;try{l=o.next(),a=l.value,f=l.done}catch(h){r.error(h);return}f?r.complete():r.next(a)},0,!0)}),function(){return xt(o==null?void 0:o.return)&&o.return()}})}function hv(n,e){if(!n)throw new Error("Iterable cannot be null");return new Jt(function(r){Io(r,e,function(){var o=n[Symbol.asyncIterator]();Io(r,e,function(){o.next().then(function(l){l.done?r.complete():r.next(l.value)})},0,!0)})})}function Uk(n,e){return hv(av(n),e)}function zk(n,e){if(n!=null){if(rv(n))return Ak(n,e);if(Zh(n))return Lk(n,e);if(nv(n))return Rk(n,e);if(iv(n))return hv(n,e);if(lv(n))return Mk(n,e);if(uv(n))return Uk(n,e)}throw ov(n)}function Gn(n,e){return e?zk(n,e):ur(n)}function Ni(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=eu(n);return Gn(n,r)}function Ny(n,e){var r=xt(n)?n:function(){return n},o=function(l){return l.error(r())};return new Jt(o)}var Fk=Gh(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}});function as(n,e){return new Promise(function(r,o){var l=new fl({next:function(a){r(a),l.unsubscribe()},error:o,complete:function(){o(new Fk)}});n.subscribe(l)})}function Bk(n){return n instanceof Date&&!isNaN(n)}function Wn(n,e){return Qn(function(r,o){var l=0;r.subscribe(Yn(o,function(a){o.next(n.call(e,a,l++))}))})}var $k=Array.isArray;function Kk(n,e){return $k(e)?n.apply(void 0,dl([],ds(e))):n(e)}function pv(n){return Wn(function(e){return Kk(n,e)})}var Vk=Array.isArray,Wk=Object.getPrototypeOf,Hk=Object.prototype,qk=Object.keys;function Gk(n){if(n.length===1){var e=n[0];if(Vk(e))return{args:e,keys:null};if(Yk(e)){var r=qk(e);return{args:r.map(function(o){return e[o]}),keys:r}}}return{args:n,keys:null}}function Yk(n){return n&&typeof n=="object"&&Wk(n)===Hk}function Qk(n,e){return n.reduce(function(r,o,l){return r[o]=e[l],r},{})}function Ra(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=eu(n),o=Ek(n),l=Gk(n),a=l.args,f=l.keys;if(a.length===0)return Gn([],r);var h=new Jt(Jk(a,r,f?function(g){return Qk(f,g)}:xl));return o?h.pipe(pv(o)):h}function Jk(n,e,r){return r===void 0&&(r=xl),function(o){Py(e,function(){for(var l=n.length,a=new Array(l),f=l,h=l,g=function(v){Py(e,function(){var k=Gn(n[v],e),x=!1;k.subscribe(Yn(o,function(S){a[v]=S,x||(x=!0,h--),h||o.next(r(a.slice()))},function(){--f||o.complete()}))},o)},y=0;y<l;y++)g(y)},o)}}function Py(n,e,r){n?Io(r,n,e):e()}function Xk(n,e,r,o,l,a,f,h){var g=[],y=0,v=0,k=!1,x=function(){k&&!g.length&&!y&&e.complete()},S=function(T){return y<o?I(T):g.push(T)},I=function(T){y++;var z=!1;ur(r(T,v++)).subscribe(Yn(e,function(ne){e.next(ne)},function(){z=!0},void 0,function(){if(z)try{y--;for(var ne=function(){var ee=g.shift();f||I(ee)};g.length&&y<o;)ne();x()}catch(ee){e.error(ee)}}))};return n.subscribe(Yn(e,S,function(){k=!0,x()})),function(){}}function tu(n,e,r){return r===void 0&&(r=1/0),xt(e)?tu(function(o,l){return Wn(function(a,f){return e(o,a,l,f)})(ur(n(o,l)))},r):(typeof e=="number"&&(r=e),Qn(function(o,l){return Xk(o,l,n,r)}))}function mv(n){return n===void 0&&(n=1/0),tu(xl,n)}function Zk(){return mv(1)}function Dy(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return Zk()(Gn(n,eu(n)))}var e_=["addListener","removeListener"],t_=["addEventListener","removeEventListener"],n_=["on","off"];function qr(n,e,r,o){if(xt(r)&&(o=r,r=void 0),o)return qr(n,e,r).pipe(pv(o));var l=ds(o_(n)?t_.map(function(h){return function(g){return n[h](e,g,r)}}):r_(n)?e_.map(Ay(n,e)):i_(n)?n_.map(Ay(n,e)):[],2),a=l[0],f=l[1];if(!a&&Zh(n))return tu(function(h){return qr(h,e,r)})(ur(n));if(!a)throw new TypeError("Invalid event target");return new Jt(function(h){var g=function(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];return h.next(1<y.length?y:y[0])};return a(g),function(){return f(g)}})}function Ay(n,e){return function(r){return function(o){return n[r](e,o)}}}function r_(n){return xt(n.addListener)&&xt(n.removeListener)}function i_(n){return xt(n.on)&&xt(n.off)}function o_(n){return xt(n.addEventListener)&&xt(n.removeEventListener)}function yv(n,e,r){n===void 0&&(n=0),r===void 0&&(r=Sk);var o=-1;return e!=null&&(tv(e)?r=e:o=e),new Jt(function(l){var a=Bk(n)?+n-r.now():n;a<0&&(a=0);var f=0;return r.schedule(function(){l.closed||(l.next(f++),0<=o?this.schedule(void 0,o):l.complete())},a)})}function ad(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=eu(n),o=Ck(n,1/0),l=n;return l.length?l.length===1?ur(l[0]):mv(o)(Gn(l,r)):ev}function ir(n,e){return Qn(function(r,o){var l=0;r.subscribe(Yn(o,function(a){return n.call(e,a,l++)&&o.next(a)}))})}function gh(n){return Qn(function(e,r){var o=null,l=!1,a;o=e.subscribe(Yn(r,void 0,void 0,function(f){a=ur(n(f,gh(n)(e))),o?(o.unsubscribe(),o=null,a.subscribe(r)):l=!0})),l&&(o.unsubscribe(),o=null,a.subscribe(r))})}function Ry(n,e){return e===void 0&&(e=Jh),Qn(function(r,o){var l=null,a=null,f=null,h=function(){if(l){l.unsubscribe(),l=null;var y=a;a=null,o.next(y)}};function g(){var y=f+n,v=e.now();if(v<y){l=this.schedule(void 0,y-v),o.add(l);return}h()}r.subscribe(Yn(o,function(y){a=y,f=e.now(),l||(l=e.schedule(g,n),o.add(l))},function(){h(),o.complete()},void 0,function(){a=l=null}))})}function nl(n){return n<=0?function(){return ev}:Qn(function(e,r){var o=0;e.subscribe(Yn(r,function(l){++o<=n&&(r.next(l),n<=o&&r.complete())}))})}function s_(n){return Wn(function(){return n})}function l_(n,e){return tu(function(r,o){return ur(n(r,o)).pipe(nl(1),s_(r))})}function gv(n,e){e===void 0&&(e=Jh);var r=yv(n,e);return l_(function(){return r})}function vv(n,e){return e===void 0&&(e=xl),n=n??a_,Qn(function(r,o){var l,a=!0;r.subscribe(Yn(o,function(f){var h=e(f);(a||!n(l,h))&&(a=!1,l=h,o.next(f))}))})}function a_(n,e){return n===e}function u_(n){n===void 0&&(n={});var e=n.connector,r=e===void 0?function(){return new fs}:e,o=n.resetOnError,l=o===void 0?!0:o,a=n.resetOnComplete,f=a===void 0?!0:a,h=n.resetOnRefCountZero,g=h===void 0?!0:h;return function(y){var v,k,x,S=0,I=!1,T=!1,z=function(){k==null||k.unsubscribe(),k=void 0},ne=function(){z(),v=x=void 0,I=T=!1},ee=function(){var q=v;ne(),q==null||q.unsubscribe()};return Qn(function(q,se){S++,!T&&!I&&z();var Se=x=x??r();se.add(function(){S--,S===0&&!T&&!I&&(k=Qf(ee,g))}),Se.subscribe(se),!v&&S>0&&(v=new fl({next:function(fe){return Se.next(fe)},error:function(fe){T=!0,z(),k=Qf(ne,l,fe),Se.error(fe)},complete:function(){I=!0,z(),k=Qf(ne,f),Se.complete()}}),ur(q).subscribe(v))})(y)}}function Qf(n,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e===!0){n();return}if(e!==!1){var l=new fl({next:function(){l.unsubscribe(),n()}});return ur(e.apply(void 0,dl([],ds(r)))).subscribe(l)}}function Ly(n){return ir(function(e,r){return n<=r})}function wv(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=eu(n);return Qn(function(o,l){(r?Dy(n,o,r):Dy(n,o)).subscribe(l)})}function Sn(n,e){return Qn(function(r,o){var l=null,a=0,f=!1,h=function(){return f&&!l&&o.complete()};r.subscribe(Yn(o,function(g){l==null||l.unsubscribe();var y=0,v=a++;ur(n(g,v)).subscribe(l=Yn(o,function(k){return o.next(e?e(g,k,v,y++):k)},function(){l=null,h()}))},function(){f=!0,h()}))})}function vh(n,e,r){var o=xt(n)||e||r?{next:n,error:e,complete:r}:n;return o?Qn(function(l,a){var f;(f=o.subscribe)===null||f===void 0||f.call(o);var h=!0;l.subscribe(Yn(a,function(g){var y;(y=o.next)===null||y===void 0||y.call(o,g),a.next(g)},function(){var g;h=!1,(g=o.complete)===null||g===void 0||g.call(o),a.complete()},function(g){var y;h=!1,(y=o.error)===null||y===void 0||y.call(o,g),a.error(g)},function(){var g,y;h&&((g=o.unsubscribe)===null||g===void 0||g.call(o)),(y=o.finalize)===null||y===void 0||y.call(o)}))}):xl}const zn=()=>new Map,wh=n=>{const e=zn();return n.forEach((r,o)=>{e.set(o,r)}),e},Ai=(n,e,r)=>{let o=n.get(e);return o===void 0&&n.set(e,o=r()),o},c_=(n,e)=>{const r=[];for(const[o,l]of n)r.push(e(l,o));return r},d_=(n,e)=>{for(const[r,o]of n)if(e(o,r))return!0;return!1};class f_{constructor(){this._observers=zn()}on(e,r){return Ai(this._observers,e,cs).add(r),r}once(e,r){const o=(...l)=>{this.off(e,o),r(...l)};this.on(e,o)}off(e,r){const o=this._observers.get(e);o!==void 0&&(o.delete(r),o.size===0&&this._observers.delete(e))}emit(e,r){return jo((this._observers.get(e)||zn()).values()).forEach(o=>o(...r))}destroy(){this._observers=zn()}}class h_{constructor(){this._observers=zn()}on(e,r){Ai(this._observers,e,cs).add(r)}once(e,r){const o=(...l)=>{this.off(e,o),r(...l)};this.on(e,o)}off(e,r){const o=this._observers.get(e);o!==void 0&&(o.delete(r),o.size===0&&this._observers.delete(e))}emit(e,r){return jo((this._observers.get(e)||zn()).values()).forEach(o=>o(...r))}destroy(){this._observers=zn()}}const p_=crypto.getRandomValues.bind(crypto),bv=()=>p_(new Uint32Array(1))[0],m_="10000000-1000-4000-8000"+-1e11,y_=()=>m_.replace(/[018]/g,n=>(n^bv()&15>>n/4).toString(16)),Bc=Date.now,My=n=>new Promise(n);Promise.all.bind(Promise);const Uy=n=>n===void 0?null:n;class g_{constructor(){this.map=new Map}setItem(e,r){this.map.set(e,r)}getItem(e){return this.map.get(e)}}let kv=new g_,v_=!0;try{typeof localStorage<"u"&&localStorage&&(kv=localStorage,v_=!1)}catch{}const w_=kv,b_=Object.assign,_v=Object.keys,k_=(n,e)=>{for(const r in n)e(n[r],r)},zy=n=>_v(n).length,Fy=n=>_v(n).length,__=n=>{for(const e in n)return!1;return!0},x_=(n,e)=>{for(const r in n)if(!e(n[r],r))return!1;return!0},xv=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),S_=(n,e)=>n===e||Fy(n)===Fy(e)&&x_(n,(r,o)=>(r!==void 0||xv(e,o))&&e[o]===r),E_=Object.freeze,Sv=n=>{for(const e in n){const r=n[e];(typeof r=="object"||typeof r=="function")&&Sv(n[e])}return E_(n)},By=Symbol("Equality"),ep=(n,e,r=0)=>{try{for(;r<n.length;r++)n[r](...e)}finally{r<n.length&&ep(n,e,r+1)}},Ea=(n,e)=>{if(n===e)return!0;if(n==null||e==null||n.constructor!==e.constructor)return!1;if(n[By]!=null)return n[By](e);switch(n.constructor){case ArrayBuffer:n=new Uint8Array(n),e=new Uint8Array(e);case Uint8Array:{if(n.byteLength!==e.byteLength)return!1;for(let r=0;r<n.length;r++)if(n[r]!==e[r])return!1;break}case Set:{if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;break}case Map:{if(n.size!==e.size)return!1;for(const r of n.keys())if(!e.has(r)||!Ea(n.get(r),e.get(r)))return!1;break}case Object:if(zy(n)!==zy(e))return!1;for(const r in n)if(!xv(n,r)||!Ea(n[r],e[r]))return!1;break;case Array:if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(!Ea(n[r],e[r]))return!1;break;default:return!1}return!0},C_=(n,e)=>e.includes(n);var Ev={};const La=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let Wr;const I_=()=>{if(Wr===void 0)if(La){Wr=zn();const n=process.argv;let e=null;for(let r=0;r<n.length;r++){const o=n[r];o[0]==="-"?(e!==null&&Wr.set(e,""),e=o):e!==null&&(Wr.set(e,o),e=null)}e!==null&&Wr.set(e,"")}else typeof location=="object"?(Wr=zn(),(location.search||"?").slice(1).split("&").forEach(n=>{if(n.length!==0){const[e,r]=n.split("=");Wr.set(`--${gy(e,"-")}`,r),Wr.set(`-${gy(e,"-")}`,r)}})):Wr=zn();return Wr},bh=n=>I_().has(n),$c=n=>Uy(La?Ev[n.toUpperCase().replaceAll("-","_")]:w_.getItem(n)),Cv=n=>bh("--"+n)||$c(n)!==null;Cv("production");const O_=La&&C_(Ev.FORCE_COLOR,["true","1","2"]),j_=O_||!bh("--no-colors")&&!Cv("no-color")&&(!La||process.stdout.isTTY)&&(!La||bh("--color")||$c("COLORTERM")!==null||($c("TERM")||"").includes("color"));class T_{constructor(e,r){this.left=e,this.right=r}}const Ei=(n,e)=>new T_(n,e);typeof DOMParser<"u"&&new DOMParser;const N_=n=>c_(n,(e,r)=>`${r}:${e};`).join(""),Ri=Symbol,Iv=Ri(),Ov=Ri(),P_=Ri(),D_=Ri(),A_=Ri(),jv=Ri(),R_=Ri(),tp=Ri(),L_=Ri(),M_=n=>{var l;n.length===1&&((l=n[0])==null?void 0:l.constructor)===Function&&(n=n[0]());const e=[],r=[];let o=0;for(;o<n.length;o++){const a=n[o];if(a===void 0)break;if(a.constructor===String||a.constructor===Number)e.push(a);else if(a.constructor===Object)break}for(o>0&&r.push(e.join(""));o<n.length;o++){const a=n[o];a instanceof Symbol||r.push(a)}return r},U_={[Iv]:Ei("font-weight","bold"),[Ov]:Ei("font-weight","normal"),[P_]:Ei("color","blue"),[A_]:Ei("color","green"),[D_]:Ei("color","grey"),[jv]:Ei("color","red"),[R_]:Ei("color","purple"),[tp]:Ei("color","orange"),[L_]:Ei("color","black")},z_=n=>{var f;n.length===1&&((f=n[0])==null?void 0:f.constructor)===Function&&(n=n[0]());const e=[],r=[],o=zn();let l=[],a=0;for(;a<n.length;a++){const h=n[a],g=U_[h];if(g!==void 0)o.set(g.left,g.right);else{if(h===void 0)break;if(h.constructor===String||h.constructor===Number){const y=N_(o);a>0||y.length>0?(e.push("%c"+h),r.push(y)):e.push(h)}else break}}for(a>0&&(l=r,l.unshift(e.join("")));a<n.length;a++){const h=n[a];h instanceof Symbol||l.push(h)}return l},Tv=j_?z_:M_,F_=(...n)=>{console.log(...Tv(n)),Nv.forEach(e=>e.print(n))},B_=(...n)=>{console.warn(...Tv(n)),n.unshift(tp),Nv.forEach(e=>e.print(n))},Nv=cs(),Pv=n=>({[Symbol.iterator](){return this},next:n}),$_=(n,e)=>Pv(()=>{let r;do r=n.next();while(!r.done&&!e(r.value));return r}),Jf=(n,e)=>Pv(()=>{const{done:r,value:o}=n.next();return{done:r,value:r?void 0:e(o)}});class Dv{constructor(e,r){this.clock=e,this.len=r}}class ud{constructor(){this.clients=new Map}}const Av=(n,e,r)=>e.clients.forEach((o,l)=>{const a=n.doc.store.clients.get(l);if(a!=null){const f=a[a.length-1],h=f.id.clock+f.length;for(let g=0,y=o[g];g<o.length&&y.clock<h;y=o[++g])Kv(n,a,y.clock,y.len,r)}}),K_=(n,e)=>{let r=0,o=n.length-1;for(;r<=o;){const l=Pi((r+o)/2),a=n[l],f=a.clock;if(f<=e){if(e<f+a.len)return l;r=l+1}else o=l-1}return null},Rv=(n,e)=>{const r=n.clients.get(e.client);return r!==void 0&&K_(r,e.clock)!==null},np=n=>{n.clients.forEach(e=>{e.sort((l,a)=>l.clock-a.clock);let r,o;for(r=1,o=1;r<e.length;r++){const l=e[o-1],a=e[r];l.clock+l.len>=a.clock?l.len=vl(l.len,a.clock+a.len-l.clock):(o<r&&(e[o]=a),o++)}e.length=o})},V_=n=>{const e=new ud;for(let r=0;r<n.length;r++)n[r].clients.forEach((o,l)=>{if(!e.clients.has(l)){const a=o.slice();for(let f=r+1;f<n.length;f++)Pb(a,n[f].clients.get(l)||[]);e.clients.set(l,a)}});return np(e),e},Kc=(n,e,r,o)=>{Ai(n.clients,e,()=>[]).push(new Dv(r,o))},rp=(n,e)=>{it(n.restEncoder,e.clients.size),jo(e.clients.entries()).sort((r,o)=>o[0]-r[0]).forEach(([r,o])=>{n.resetDsCurVal(),it(n.restEncoder,r);const l=o.length;it(n.restEncoder,l);for(let a=0;a<l;a++){const f=o[a];n.writeDsClock(f.clock),n.writeDsLen(f.len)}})},W_=n=>{const e=new ud,r=Ct(n.restDecoder);for(let o=0;o<r;o++){n.resetDsCurVal();const l=Ct(n.restDecoder),a=Ct(n.restDecoder);if(a>0){const f=Ai(e.clients,l,()=>[]);for(let h=0;h<a;h++)f.push(new Dv(n.readDsClock(),n.readDsLen()))}}return e},$y=(n,e,r)=>{const o=new ud,l=Ct(n.restDecoder);for(let a=0;a<l;a++){n.resetDsCurVal();const f=Ct(n.restDecoder),h=Ct(n.restDecoder),g=r.clients.get(f)||[],y=ln(r,f);for(let v=0;v<h;v++){const k=n.readDsClock(),x=k+n.readDsLen();if(k<y){y<x&&Kc(o,f,y,x-y);let S=Qr(g,k),I=g[S];for(!I.deleted&&I.id.clock<k&&(g.splice(S+1,0,Qc(e,I,k-I.id.clock)),S++);S<g.length&&(I=g[S++],I.id.clock<x);)I.deleted||(x<I.id.clock+I.length&&g.splice(S,0,Qc(e,I,x-I.id.clock)),I.delete(e))}else Kc(o,f,k,x-k)}}if(o.clients.size>0){const a=new cd;return it(a.restEncoder,0),rp(a,o),a.toUint8Array()}return null},Lv=bv;class Sl extends f_{constructor({guid:e=y_(),collectionid:r=null,gc:o=!0,gcFilter:l=()=>!0,meta:a=null,autoLoad:f=!1,shouldLoad:h=!0}={}){super(),this.gc=o,this.gcFilter=l,this.clientID=Lv(),this.guid=e,this.collectionid=r,this.share=new Map,this.store=new Bv,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=h,this.autoLoad=f,this.meta=a,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=My(y=>{this.on("load",()=>{this.isLoaded=!0,y(this)})});const g=()=>My(y=>{const v=k=>{(k===void 0||k===!0)&&(this.off("sync",v),y())};this.on("sync",v)});this.on("sync",y=>{y===!1&&this.isSynced&&(this.whenSynced=g()),this.isSynced=y===void 0||y===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=g()}load(){const e=this._item;e!==null&&!this.shouldLoad&&It(e.parent.doc,r=>{r.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(jo(this.subdocs).map(e=>e.guid))}transact(e,r=null){return It(this,e,r)}get(e,r=yn){const o=Ai(this.share,e,()=>{const a=new r;return a._integrate(this,null),a}),l=o.constructor;if(r!==yn&&l!==r)if(l===yn){const a=new r;a._map=o._map,o._map.forEach(f=>{for(;f!==null;f=f.left)f.parent=a}),a._start=o._start;for(let f=a._start;f!==null;f=f.right)f.parent=a;return a._length=o._length,this.share.set(e,a),a._integrate(this,null),a}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return o}getArray(e=""){return this.get(e,ll)}getText(e=""){return this.get(e,pl)}getMap(e=""){return this.get(e,hl)}getXmlElement(e=""){return this.get(e,ml)}getXmlFragment(e=""){return this.get(e,hs)}toJSON(){const e={};return this.share.forEach((r,o)=>{e[o]=r.toJSON()}),e}destroy(){this.isDestroyed=!0,jo(this.subdocs).forEach(r=>r.destroy());const e=this._item;if(e!==null){this._item=null;const r=e.content;r.doc=new Sl({guid:this.guid,...r.opts,shouldLoad:!1}),r.doc._item=e,It(e.parent.doc,o=>{const l=r.doc;e.deleted||o.subdocsAdded.add(l),o.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class H_{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Ct(this.restDecoder),this.dsCurrVal}readDsLen(){const e=Ct(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Ma extends H_{constructor(e){super(e),this.keys=[],Ct(e),this.keyClockDecoder=new Gf(pn(e)),this.clientDecoder=new Dc(pn(e)),this.leftClockDecoder=new Gf(pn(e)),this.rightClockDecoder=new Gf(pn(e)),this.infoDecoder=new Sy(pn(e),ul),this.stringDecoder=new ok(pn(e)),this.parentInfoDecoder=new Sy(pn(e),ul),this.typeRefDecoder=new Dc(pn(e)),this.lenDecoder=new Dc(pn(e))}readLeftID(){return new sl(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new sl(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Co(this.restDecoder)}readBuf(){return pn(this.restDecoder)}readJSON(){return Co(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const r=this.stringDecoder.read();return this.keys.push(r),r}}}class q_{constructor(){this.restEncoder=bl()}toUint8Array(){return Hn(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){it(this.restEncoder,e)}writeDsLen(e){it(this.restEncoder,e)}}class G_ extends q_{writeLeftID(e){it(this.restEncoder,e.client),it(this.restEncoder,e.clock)}writeRightID(e){it(this.restEncoder,e.client),it(this.restEncoder,e.clock)}writeClient(e){it(this.restEncoder,e)}writeInfo(e){ph(this.restEncoder,e)}writeString(e){or(this.restEncoder,e)}writeParentInfo(e){it(this.restEncoder,e?1:0)}writeTypeRef(e){it(this.restEncoder,e)}writeLen(e){it(this.restEncoder,e)}writeAny(e){Eo(this.restEncoder,e)}writeBuf(e){hn(this.restEncoder,e)}writeJSON(e){or(this.restEncoder,JSON.stringify(e))}writeKey(e){or(this.restEncoder,e)}}class Mv{constructor(){this.restEncoder=bl(),this.dsCurrVal=0}toUint8Array(){return Hn(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const r=e-this.dsCurrVal;this.dsCurrVal=e,it(this.restEncoder,r)}writeDsLen(e){e===0&&Yr(),it(this.restEncoder,e-1),this.dsCurrVal+=e}}class cd extends Mv{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new qf,this.clientEncoder=new Pc,this.leftClockEncoder=new qf,this.rightClockEncoder=new qf,this.infoEncoder=new by(ph),this.stringEncoder=new Jb,this.parentInfoEncoder=new by(ph),this.typeRefEncoder=new Pc,this.lenEncoder=new Pc}toUint8Array(){const e=bl();return it(e,0),hn(e,this.keyClockEncoder.toUint8Array()),hn(e,this.clientEncoder.toUint8Array()),hn(e,this.leftClockEncoder.toUint8Array()),hn(e,this.rightClockEncoder.toUint8Array()),hn(e,Hn(this.infoEncoder)),hn(e,this.stringEncoder.toUint8Array()),hn(e,Hn(this.parentInfoEncoder)),hn(e,this.typeRefEncoder.toUint8Array()),hn(e,this.lenEncoder.toUint8Array()),Xa(e,Hn(this.restEncoder)),Hn(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Eo(this.restEncoder,e)}writeBuf(e){hn(this.restEncoder,e)}writeJSON(e){Eo(this.restEncoder,e)}writeKey(e){const r=this.keyMap.get(e);r===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(r)}}const Y_=(n,e,r,o)=>{o=vl(o,e[0].id.clock);const l=Qr(e,o);it(n.restEncoder,e.length-l),n.writeClient(r),it(n.restEncoder,o);const a=e[l];a.write(n,o-a.id.clock);for(let f=l+1;f<e.length;f++)e[f].write(n,0)},Uv=(n,e,r)=>{const o=new Map;r.forEach((l,a)=>{ln(e,a)>l&&o.set(a,l)}),ip(e).forEach((l,a)=>{r.has(a)||o.set(a,0)}),it(n.restEncoder,o.size),jo(o.entries()).sort((l,a)=>a[0]-l[0]).forEach(([l,a])=>{Y_(n,e.clients.get(l),l,a)})},Q_=(n,e)=>{const r=zn(),o=Ct(n.restDecoder);for(let l=0;l<o;l++){const a=Ct(n.restDecoder),f=new Array(a),h=n.readClient();let g=Ct(n.restDecoder);r.set(h,{i:0,refs:f});for(let y=0;y<a;y++){const v=n.readInfo();switch(od&v){case 0:{const k=n.readLen();f[y]=new lr(yt(h,g),k),g+=k;break}case 10:{const k=Ct(n.restDecoder);f[y]=new ar(yt(h,g),k),g+=k;break}default:{const k=(v&(Ti|qn))===0,x=new Qt(yt(h,g),null,(v&qn)===qn?n.readLeftID():null,null,(v&Ti)===Ti?n.readRightID():null,k?n.readParentInfo()?e.get(n.readString()):n.readLeftID():null,k&&(v&Da)===Da?n.readString():null,c0(n,v));f[y]=x,g+=x.length}}}}return r},J_=(n,e,r)=>{const o=[];let l=jo(r.keys()).sort((S,I)=>S-I);if(l.length===0)return null;const a=()=>{if(l.length===0)return null;let S=r.get(l[l.length-1]);for(;S.refs.length===S.i;)if(l.pop(),l.length>0)S=r.get(l[l.length-1]);else return null;return S};let f=a();if(f===null)return null;const h=new Bv,g=new Map,y=(S,I)=>{const T=g.get(S);(T==null||T>I)&&g.set(S,I)};let v=f.refs[f.i++];const k=new Map,x=()=>{for(const S of o){const I=S.id.client,T=r.get(I);T?(T.i--,h.clients.set(I,T.refs.slice(T.i)),r.delete(I),T.i=0,T.refs=[]):h.clients.set(I,[S]),l=l.filter(z=>z!==I)}o.length=0};for(;;){if(v.constructor!==ar){const I=Ai(k,v.id.client,()=>ln(e,v.id.client))-v.id.clock;if(I<0)o.push(v),y(v.id.client,v.id.clock-1),x();else{const T=v.getMissing(n,e);if(T!==null){o.push(v);const z=r.get(T)||{refs:[],i:0};if(z.refs.length===z.i)y(T,ln(e,T)),x();else{v=z.refs[z.i++];continue}}else(I===0||I<v.length)&&(v.integrate(n,I),k.set(v.id.client,v.id.clock+v.length))}}if(o.length>0)v=o.pop();else if(f!==null&&f.i<f.refs.length)v=f.refs[f.i++];else{if(f=a(),f===null)break;v=f.refs[f.i++]}}if(h.clients.size>0){const S=new cd;return Uv(S,h,new Map),it(S.restEncoder,0),{missing:g,update:S.toUint8Array()}}return null},X_=(n,e)=>Uv(n,e.doc.store,e.beforeState),Z_=(n,e,r,o=new Ma(n))=>It(e,l=>{l.local=!1;let a=!1;const f=l.doc,h=f.store,g=Q_(o,f),y=J_(l,h,g),v=h.pendingStructs;if(v){for(const[x,S]of v.missing)if(S<ln(h,x)){a=!0;break}if(y){for(const[x,S]of y.missing){const I=v.missing.get(x);(I==null||I>S)&&v.missing.set(x,S)}v.update=Vc([v.update,y.update])}}else h.pendingStructs=y;const k=$y(o,l,h);if(h.pendingDs){const x=new Ma(Za(h.pendingDs));Ct(x.restDecoder);const S=$y(x,l,h);k&&S?h.pendingDs=Vc([k,S]):h.pendingDs=k||S}else h.pendingDs=k;if(a){const x=h.pendingStructs.update;h.pendingStructs=null,zv(l.doc,x)}},r,!1),zv=(n,e,r,o=Ma)=>{const l=Za(e);Z_(l,n,r,new o(l))};class e1{constructor(){this.l=[]}}const Ky=()=>new e1,Vy=(n,e)=>n.l.push(e),Wy=(n,e)=>{const r=n.l,o=r.length;n.l=r.filter(l=>e!==l),o===n.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Fv=(n,e,r)=>ep(n.l,[e,r]);class sl{constructor(e,r){this.client=e,this.clock=r}}const bc=(n,e)=>n===e||n!==null&&e!==null&&n.client===e.client&&n.clock===e.clock,yt=(n,e)=>new sl(n,e),t1=n=>{for(const[e,r]of n.doc.share.entries())if(r===n)return e;throw Yr()},rl=(n,e)=>e===void 0?!n.deleted:e.sv.has(n.id.client)&&(e.sv.get(n.id.client)||0)>n.id.clock&&!Rv(e.ds,n.id),kh=(n,e)=>{const r=Ai(n.meta,kh,cs),o=n.doc.store;r.has(e)||(e.sv.forEach((l,a)=>{l<ln(o,a)&&No(n,yt(a,l))}),Av(n,e.ds,l=>{}),r.add(e))};class Bv{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const ip=n=>{const e=new Map;return n.clients.forEach((r,o)=>{const l=r[r.length-1];e.set(o,l.id.clock+l.length)}),e},ln=(n,e)=>{const r=n.clients.get(e);if(r===void 0)return 0;const o=r[r.length-1];return o.id.clock+o.length},$v=(n,e)=>{let r=n.clients.get(e.id.client);if(r===void 0)r=[],n.clients.set(e.id.client,r);else{const o=r[r.length-1];if(o.id.clock+o.length!==e.id.clock)throw Yr()}r.push(e)},Qr=(n,e)=>{let r=0,o=n.length-1,l=n[o],a=l.id.clock;if(a===e)return o;let f=Pi(e/(a+l.length-1)*o);for(;r<=o;){if(l=n[f],a=l.id.clock,a<=e){if(e<a+l.length)return f;r=f+1}else o=f-1;f=Pi((r+o)/2)}throw Yr()},n1=(n,e)=>{const r=n.clients.get(e.client);return r[Qr(r,e.clock)]},Xf=n1,_h=(n,e,r)=>{const o=Qr(e,r),l=e[o];return l.id.clock<r&&l instanceof Qt?(e.splice(o+1,0,Qc(n,l,r-l.id.clock)),o+1):o},No=(n,e)=>{const r=n.doc.store.clients.get(e.client);return r[_h(n,r,e.clock)]},Hy=(n,e,r)=>{const o=e.clients.get(r.client),l=Qr(o,r.clock),a=o[l];return r.clock!==a.id.clock+a.length-1&&a.constructor!==lr&&o.splice(l+1,0,Qc(n,a,r.clock-a.id.clock+1)),a},r1=(n,e,r)=>{const o=n.clients.get(e.id.client);o[Qr(o,e.id.clock)]=r},Kv=(n,e,r,o,l)=>{if(o===0)return;const a=r+o;let f=_h(n,e,r),h;do h=e[f++],a<h.id.clock+h.length&&_h(n,e,a),l(h);while(f<e.length&&e[f].id.clock<a)};class i1{constructor(e,r,o){this.doc=e,this.deleteSet=new ud,this.beforeState=ip(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=r,this.meta=new Map,this.local=o,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const qy=(n,e)=>e.deleteSet.clients.size===0&&!d_(e.afterState,(r,o)=>e.beforeState.get(o)!==r)?!1:(np(e.deleteSet),X_(n,e),rp(n,e.deleteSet),!0),Gy=(n,e,r)=>{const o=e._item;(o===null||o.id.clock<(n.beforeState.get(o.id.client)||0)&&!o.deleted)&&Ai(n.changed,e,cs).add(r)},Rc=(n,e)=>{let r=n[e],o=n[e-1],l=e;for(;l>0;r=o,o=n[--l-1]){if(o.deleted===r.deleted&&o.constructor===r.constructor&&o.mergeWith(r)){r instanceof Qt&&r.parentSub!==null&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,o);continue}break}const a=e-l;return a&&n.splice(e+1-a,a),a},o1=(n,e,r)=>{for(const[o,l]of n.clients.entries()){const a=e.clients.get(o);for(let f=l.length-1;f>=0;f--){const h=l[f],g=h.clock+h.len;for(let y=Qr(a,h.clock),v=a[y];y<a.length&&v.id.clock<g;v=a[++y]){const k=a[y];if(h.clock+h.len<=k.id.clock)break;k instanceof Qt&&k.deleted&&!k.keep&&r(k)&&k.gc(e,!1)}}}},s1=(n,e)=>{n.clients.forEach((r,o)=>{const l=e.clients.get(o);for(let a=r.length-1;a>=0;a--){const f=r[a],h=Vg(l.length-1,1+Qr(l,f.clock+f.len-1));for(let g=h,y=l[g];g>0&&y.id.clock>=f.clock;y=l[g])g-=1+Rc(l,g)}})},Vv=(n,e)=>{if(e<n.length){const r=n[e],o=r.doc,l=o.store,a=r.deleteSet,f=r._mergeStructs;try{np(a),r.afterState=ip(r.doc.store),o.emit("beforeObserverCalls",[r,o]);const h=[];r.changed.forEach((g,y)=>h.push(()=>{(y._item===null||!y._item.deleted)&&y._callObserver(r,g)})),h.push(()=>{r.changedParentTypes.forEach((g,y)=>{y._dEH.l.length>0&&(y._item===null||!y._item.deleted)&&(g=g.filter(v=>v.target._item===null||!v.target._item.deleted),g.forEach(v=>{v.currentTarget=y,v._path=null}),g.sort((v,k)=>v.path.length-k.path.length),Fv(y._dEH,g,r))})}),h.push(()=>o.emit("afterTransaction",[r,o])),ep(h,[]),r._needFormattingCleanup&&S1(r)}finally{o.gc&&o1(a,l,o.gcFilter),s1(a,l),r.afterState.forEach((v,k)=>{const x=r.beforeState.get(k)||0;if(x!==v){const S=l.clients.get(k),I=vl(Qr(S,x),1);for(let T=S.length-1;T>=I;)T-=1+Rc(S,T)}});for(let v=f.length-1;v>=0;v--){const{client:k,clock:x}=f[v].id,S=l.clients.get(k),I=Qr(S,x);I+1<S.length&&Rc(S,I+1)>1||I>0&&Rc(S,I)}if(!r.local&&r.afterState.get(o.clientID)!==r.beforeState.get(o.clientID)&&(F_(tp,Iv,"[yjs] ",Ov,jv,"Changed the client-id because another client seems to be using it."),o.clientID=Lv()),o.emit("afterTransactionCleanup",[r,o]),o._observers.has("update")){const v=new G_;qy(v,r)&&o.emit("update",[v.toUint8Array(),r.origin,o,r])}if(o._observers.has("updateV2")){const v=new cd;qy(v,r)&&o.emit("updateV2",[v.toUint8Array(),r.origin,o,r])}const{subdocsAdded:h,subdocsLoaded:g,subdocsRemoved:y}=r;(h.size>0||y.size>0||g.size>0)&&(h.forEach(v=>{v.clientID=o.clientID,v.collectionid==null&&(v.collectionid=o.collectionid),o.subdocs.add(v)}),y.forEach(v=>o.subdocs.delete(v)),o.emit("subdocs",[{loaded:g,added:h,removed:y},o,r]),y.forEach(v=>v.destroy())),n.length<=e+1?(o._transactionCleanups=[],o.emit("afterAllTransactions",[o,n])):Vv(n,e+1)}}},It=(n,e,r=null,o=!0)=>{const l=n._transactionCleanups;let a=!1,f=null;n._transaction===null&&(a=!0,n._transaction=new i1(n,r,o),l.push(n._transaction),l.length===1&&n.emit("beforeAllTransactions",[n]),n.emit("beforeTransaction",[n._transaction,n]));try{f=e(n._transaction)}finally{if(a){const h=n._transaction===l[0];n._transaction=null,h&&Vv(l,0)}}return f};function*l1(n){const e=Ct(n.restDecoder);for(let r=0;r<e;r++){const o=Ct(n.restDecoder),l=n.readClient();let a=Ct(n.restDecoder);for(let f=0;f<o;f++){const h=n.readInfo();if(h===10){const g=Ct(n.restDecoder);yield new ar(yt(l,a),g),a+=g}else if((od&h)!==0){const g=(h&(Ti|qn))===0,y=new Qt(yt(l,a),null,(h&qn)===qn?n.readLeftID():null,null,(h&Ti)===Ti?n.readRightID():null,g?n.readParentInfo()?n.readString():n.readLeftID():null,g&&(h&Da)===Da?n.readString():null,c0(n,h));yield y,a+=y.length}else{const g=n.readLen();yield new lr(yt(l,a),g),a+=g}}}}class Wv{constructor(e,r){this.gen=l1(e),this.curr=null,this.done=!1,this.filterSkips=r,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===ar);return this.curr}}class a1{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const Hv=(n,e=Mv,r=Ma)=>{const o=new e,l=new Wv(new r(Za(n)),!1);let a=l.curr;if(a!==null){let f=0,h=a.id.client,g=a.id.clock!==0,y=g?0:a.id.clock+a.length;for(;a!==null;a=l.next())h!==a.id.client&&(y!==0&&(f++,it(o.restEncoder,h),it(o.restEncoder,y)),h=a.id.client,y=0,g=a.id.clock!==0),a.constructor===ar&&(g=!0),g||(y=a.id.clock+a.length);y!==0&&(f++,it(o.restEncoder,h),it(o.restEncoder,y));const v=bl();return it(v,f),Hb(v,o.restEncoder),o.restEncoder=v,o.toUint8Array()}else return it(o.restEncoder,0),o.toUint8Array()},u1=(n,e)=>{if(n.constructor===lr){const{client:r,clock:o}=n.id;return new lr(yt(r,o+e),n.length-e)}else if(n.constructor===ar){const{client:r,clock:o}=n.id;return new ar(yt(r,o+e),n.length-e)}else{const r=n,{client:o,clock:l}=r.id;return new Qt(yt(o,l+e),null,yt(o,l+e-1),null,r.rightOrigin,r.parent,r.parentSub,r.content.splice(e))}},Vc=(n,e=Ma,r=cd)=>{if(n.length===1)return n[0];const o=n.map(v=>new e(Za(v)));let l=o.map(v=>new Wv(v,!0)),a=null;const f=new r,h=new a1(f);for(;l=l.filter(x=>x.curr!==null),l.sort((x,S)=>{if(x.curr.id.client===S.curr.id.client){const I=x.curr.id.clock-S.curr.id.clock;return I===0?x.curr.constructor===S.curr.constructor?0:x.curr.constructor===ar?1:-1:I}else return S.curr.id.client-x.curr.id.client}),l.length!==0;){const v=l[0],k=v.curr.id.client;if(a!==null){let x=v.curr,S=!1;for(;x!==null&&x.id.clock+x.length<=a.struct.id.clock+a.struct.length&&x.id.client>=a.struct.id.client;)x=v.next(),S=!0;if(x===null||x.id.client!==k||S&&x.id.clock>a.struct.id.clock+a.struct.length)continue;if(k!==a.struct.id.client)va(h,a.struct,a.offset),a={struct:x,offset:0},v.next();else if(a.struct.id.clock+a.struct.length<x.id.clock)if(a.struct.constructor===ar)a.struct.length=x.id.clock+x.length-a.struct.id.clock;else{va(h,a.struct,a.offset);const I=x.id.clock-a.struct.id.clock-a.struct.length;a={struct:new ar(yt(k,a.struct.id.clock+a.struct.length),I),offset:0}}else{const I=a.struct.id.clock+a.struct.length-x.id.clock;I>0&&(a.struct.constructor===ar?a.struct.length-=I:x=u1(x,I)),a.struct.mergeWith(x)||(va(h,a.struct,a.offset),a={struct:x,offset:0},v.next())}}else a={struct:v.curr,offset:0},v.next();for(let x=v.curr;x!==null&&x.id.client===k&&x.id.clock===a.struct.id.clock+a.struct.length&&x.constructor!==ar;x=v.next())va(h,a.struct,a.offset),a={struct:x,offset:0}}a!==null&&(va(h,a.struct,a.offset),a=null),c1(h);const g=o.map(v=>W_(v)),y=V_(g);return rp(f,y),f.toUint8Array()},qv=n=>{n.written>0&&(n.clientStructs.push({written:n.written,restEncoder:Hn(n.encoder.restEncoder)}),n.encoder.restEncoder=bl(),n.written=0)},va=(n,e,r)=>{n.written>0&&n.currClient!==e.id.client&&qv(n),n.written===0&&(n.currClient=e.id.client,n.encoder.writeClient(e.id.client),it(n.encoder.restEncoder,e.id.clock+r)),e.write(n.encoder,r),n.written++},c1=n=>{qv(n);const e=n.encoder.restEncoder;it(e,n.clientStructs.length);for(let r=0;r<n.clientStructs.length;r++){const o=n.clientStructs[r];it(e,o.written),Xa(e,o.restEncoder)}},Yy="You must not compute changes after the event-handler fired.";class dd{constructor(e,r){this.target=e,this.currentTarget=e,this.transaction=r,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=d1(this.currentTarget,this.target))}deletes(e){return Rv(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw To(Yy);const e=new Map,r=this.target;this.transaction.changed.get(r).forEach(l=>{if(l!==null){const a=r._map.get(l);let f,h;if(this.adds(a)){let g=a.left;for(;g!==null&&this.adds(g);)g=g.left;if(this.deletes(a))if(g!==null&&this.deletes(g))f="delete",h=Hf(g.content.getContent());else return;else g!==null&&this.deletes(g)?(f="update",h=Hf(g.content.getContent())):(f="add",h=void 0)}else if(this.deletes(a))f="delete",h=Hf(a.content.getContent());else return;e.set(l,{action:f,oldValue:h})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw To(Yy);const r=this.target,o=cs(),l=cs(),a=[];if(e={added:o,deleted:l,delta:a,keys:this.keys},this.transaction.changed.get(r).has(null)){let h=null;const g=()=>{h&&a.push(h)};for(let y=r._start;y!==null;y=y.right)y.deleted?this.deletes(y)&&!this.adds(y)&&((h===null||h.delete===void 0)&&(g(),h={delete:0}),h.delete+=y.length,l.add(y)):this.adds(y)?((h===null||h.insert===void 0)&&(g(),h={insert:[]}),h.insert=h.insert.concat(y.content.getContent()),o.add(y)):((h===null||h.retain===void 0)&&(g(),h={retain:0}),h.retain+=y.length);h!==null&&h.retain===void 0&&g()}this._changes=e}return e}}const d1=(n,e)=>{const r=[];for(;e._item!==null&&e!==n;){if(e._item.parentSub!==null)r.unshift(e._item.parentSub);else{let o=0,l=e._item.parent._start;for(;l!==e._item&&l!==null;)!l.deleted&&l.countable&&(o+=l.length),l=l.right;r.unshift(o)}e=e._item.parent}return r},Cn=()=>{B_("Invalid access: Add Yjs type to a document before reading data.")},Gv=80;let op=0;class f1{constructor(e,r){e.marker=!0,this.p=e,this.index=r,this.timestamp=op++}}const h1=n=>{n.timestamp=op++},Yv=(n,e,r)=>{n.p.marker=!1,n.p=e,e.marker=!0,n.index=r,n.timestamp=op++},p1=(n,e,r)=>{if(n.length>=Gv){const o=n.reduce((l,a)=>l.timestamp<a.timestamp?l:a);return Yv(o,e,r),o}else{const o=new f1(e,r);return n.push(o),o}},fd=(n,e)=>{if(n._start===null||e===0||n._searchMarker===null)return null;const r=n._searchMarker.length===0?null:n._searchMarker.reduce((a,f)=>Nc(e-a.index)<Nc(e-f.index)?a:f);let o=n._start,l=0;for(r!==null&&(o=r.p,l=r.index,h1(r));o.right!==null&&l<e;){if(!o.deleted&&o.countable){if(e<l+o.length)break;l+=o.length}o=o.right}for(;o.left!==null&&l>e;)o=o.left,!o.deleted&&o.countable&&(l-=o.length);for(;o.left!==null&&o.left.id.client===o.id.client&&o.left.id.clock+o.left.length===o.id.clock;)o=o.left,!o.deleted&&o.countable&&(l-=o.length);return r!==null&&Nc(r.index-l)<o.parent.length/Gv?(Yv(r,o,l),r):p1(n._searchMarker,o,l)},Ua=(n,e,r)=>{for(let o=n.length-1;o>=0;o--){const l=n[o];if(r>0){let a=l.p;for(a.marker=!1;a&&(a.deleted||!a.countable);)a=a.left,a&&!a.deleted&&a.countable&&(l.index-=a.length);if(a===null||a.marker===!0){n.splice(o,1);continue}l.p=a,a.marker=!0}(e<l.index||r>0&&e===l.index)&&(l.index=vl(e,l.index+r))}},hd=(n,e,r)=>{const o=n,l=e.changedParentTypes;for(;Ai(l,n,()=>[]).push(r),n._item!==null;)n=n._item.parent;Fv(o._eH,r,e)};class yn{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Ky(),this._dEH=Ky(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,r){this.doc=e,this._item=r}_copy(){throw Gr()}clone(){throw Gr()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,r){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Vy(this._eH,e)}observeDeep(e){Vy(this._dEH,e)}unobserve(e){Wy(this._eH,e)}unobserveDeep(e){Wy(this._dEH,e)}toJSON(){}}const Qv=(n,e,r)=>{n.doc??Cn(),e<0&&(e=n._length+e),r<0&&(r=n._length+r);let o=r-e;const l=[];let a=n._start;for(;a!==null&&o>0;){if(a.countable&&!a.deleted){const f=a.content.getContent();if(f.length<=e)e-=f.length;else{for(let h=e;h<f.length&&o>0;h++)l.push(f[h]),o--;e=0}}a=a.right}return l},Jv=n=>{n.doc??Cn();const e=[];let r=n._start;for(;r!==null;){if(r.countable&&!r.deleted){const o=r.content.getContent();for(let l=0;l<o.length;l++)e.push(o[l])}r=r.right}return e},za=(n,e)=>{let r=0,o=n._start;for(n.doc??Cn();o!==null;){if(o.countable&&!o.deleted){const l=o.content.getContent();for(let a=0;a<l.length;a++)e(l[a],r++,n)}o=o.right}},Xv=(n,e)=>{const r=[];return za(n,(o,l)=>{r.push(e(o,l,n))}),r},m1=n=>{let e=n._start,r=null,o=0;return{[Symbol.iterator](){return this},next:()=>{if(r===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};r=e.content.getContent(),o=0,e=e.right}const l=r[o++];return r.length<=o&&(r=null),{done:!1,value:l}}}},Zv=(n,e)=>{n.doc??Cn();const r=fd(n,e);let o=n._start;for(r!==null&&(o=r.p,e-=r.index);o!==null;o=o.right)if(!o.deleted&&o.countable){if(e<o.length)return o.content.getContent()[e];e-=o.length}},Wc=(n,e,r,o)=>{let l=r;const a=n.doc,f=a.clientID,h=a.store,g=r===null?e._start:r.right;let y=[];const v=()=>{y.length>0&&(l=new Qt(yt(f,ln(h,f)),l,l&&l.lastId,g,g&&g.id,e,null,new ps(y)),l.integrate(n,0),y=[])};o.forEach(k=>{if(k===null)y.push(k);else switch(k.constructor){case Number:case Object:case Boolean:case Array:case String:y.push(k);break;default:switch(v(),k.constructor){case Uint8Array:case ArrayBuffer:l=new Qt(yt(f,ln(h,f)),l,l&&l.lastId,g,g&&g.id,e,null,new nu(new Uint8Array(k))),l.integrate(n,0);break;case Sl:l=new Qt(yt(f,ln(h,f)),l,l&&l.lastId,g,g&&g.id,e,null,new ru(k)),l.integrate(n,0);break;default:if(k instanceof yn)l=new Qt(yt(f,ln(h,f)),l,l&&l.lastId,g,g&&g.id,e,null,new Li(k)),l.integrate(n,0);else throw new Error("Unexpected content type in insert operation")}}}),v()},e0=()=>To("Length exceeded!"),t0=(n,e,r,o)=>{if(r>e._length)throw e0();if(r===0)return e._searchMarker&&Ua(e._searchMarker,r,o.length),Wc(n,e,null,o);const l=r,a=fd(e,r);let f=e._start;for(a!==null&&(f=a.p,r-=a.index,r===0&&(f=f.prev,r+=f&&f.countable&&!f.deleted?f.length:0));f!==null;f=f.right)if(!f.deleted&&f.countable){if(r<=f.length){r<f.length&&No(n,yt(f.id.client,f.id.clock+r));break}r-=f.length}return e._searchMarker&&Ua(e._searchMarker,l,o.length),Wc(n,e,f,o)},y1=(n,e,r)=>{let l=(e._searchMarker||[]).reduce((a,f)=>f.index>a.index?f:a,{index:0,p:e._start}).p;if(l)for(;l.right;)l=l.right;return Wc(n,e,l,r)},n0=(n,e,r,o)=>{if(o===0)return;const l=r,a=o,f=fd(e,r);let h=e._start;for(f!==null&&(h=f.p,r-=f.index);h!==null&&r>0;h=h.right)!h.deleted&&h.countable&&(r<h.length&&No(n,yt(h.id.client,h.id.clock+r)),r-=h.length);for(;o>0&&h!==null;)h.deleted||(o<h.length&&No(n,yt(h.id.client,h.id.clock+o)),h.delete(n),o-=h.length),h=h.right;if(o>0)throw e0();e._searchMarker&&Ua(e._searchMarker,l,-a+o)},Hc=(n,e,r)=>{const o=e._map.get(r);o!==void 0&&o.delete(n)},sp=(n,e,r,o)=>{const l=e._map.get(r)||null,a=n.doc,f=a.clientID;let h;if(o==null)h=new ps([o]);else switch(o.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:h=new ps([o]);break;case Uint8Array:h=new nu(o);break;case Sl:h=new ru(o);break;default:if(o instanceof yn)h=new Li(o);else throw new Error("Unexpected content type")}new Qt(yt(f,ln(a.store,f)),l,l&&l.lastId,null,null,e,r,h).integrate(n,0)},lp=(n,e)=>{n.doc??Cn();const r=n._map.get(e);return r!==void 0&&!r.deleted?r.content.getContent()[r.length-1]:void 0},r0=n=>{const e={};return n.doc??Cn(),n._map.forEach((r,o)=>{r.deleted||(e[o]=r.content.getContent()[r.length-1])}),e},i0=(n,e)=>{n.doc??Cn();const r=n._map.get(e);return r!==void 0&&!r.deleted},g1=(n,e)=>{const r={};return n._map.forEach((o,l)=>{let a=o;for(;a!==null&&(!e.sv.has(a.id.client)||a.id.clock>=(e.sv.get(a.id.client)||0));)a=a.left;a!==null&&rl(a,e)&&(r[l]=a.content.getContent()[a.length-1])}),r},kc=n=>(n.doc??Cn(),$_(n._map.entries(),e=>!e[1].deleted));class v1 extends dd{}class ll extends yn{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const r=new ll;return r.push(e),r}_integrate(e,r){super._integrate(e,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ll}clone(){const e=new ll;return e.insert(0,this.toArray().map(r=>r instanceof yn?r.clone():r)),e}get length(){return this.doc??Cn(),this._length}_callObserver(e,r){super._callObserver(e,r),hd(this,e,new v1(this,e))}insert(e,r){this.doc!==null?It(this.doc,o=>{t0(o,this,e,r)}):this._prelimContent.splice(e,0,...r)}push(e){this.doc!==null?It(this.doc,r=>{y1(r,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,r=1){this.doc!==null?It(this.doc,o=>{n0(o,this,e,r)}):this._prelimContent.splice(e,r)}get(e){return Zv(this,e)}toArray(){return Jv(this)}slice(e=0,r=this.length){return Qv(this,e,r)}toJSON(){return this.map(e=>e instanceof yn?e.toJSON():e)}map(e){return Xv(this,e)}forEach(e){za(this,e)}[Symbol.iterator](){return m1(this)}_write(e){e.writeTypeRef(K1)}}const w1=n=>new ll;class b1 extends dd{constructor(e,r,o){super(e,r),this.keysChanged=o}}class hl extends yn{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,r){super._integrate(e,r),this._prelimContent.forEach((o,l)=>{this.set(l,o)}),this._prelimContent=null}_copy(){return new hl}clone(){const e=new hl;return this.forEach((r,o)=>{e.set(o,r instanceof yn?r.clone():r)}),e}_callObserver(e,r){hd(this,e,new b1(this,e,r))}toJSON(){this.doc??Cn();const e={};return this._map.forEach((r,o)=>{if(!r.deleted){const l=r.content.getContent()[r.length-1];e[o]=l instanceof yn?l.toJSON():l}}),e}get size(){return[...kc(this)].length}keys(){return Jf(kc(this),e=>e[0])}values(){return Jf(kc(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Jf(kc(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??Cn(),this._map.forEach((r,o)=>{r.deleted||e(r.content.getContent()[r.length-1],o,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?It(this.doc,r=>{Hc(r,this,e)}):this._prelimContent.delete(e)}set(e,r){return this.doc!==null?It(this.doc,o=>{sp(o,this,e,r)}):this._prelimContent.set(e,r),r}get(e){return lp(this,e)}has(e){return i0(this,e)}clear(){this.doc!==null?It(this.doc,e=>{this.forEach(function(r,o,l){Hc(e,l,o)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(V1)}}const k1=n=>new hl,_o=(n,e)=>n===e||typeof n=="object"&&typeof e=="object"&&n&&e&&S_(n,e);class xh{constructor(e,r,o,l){this.left=e,this.right=r,this.index=o,this.currentAttributes=l}forward(){switch(this.right===null&&Yr(),this.right.content.constructor){case Xt:this.right.deleted||El(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Qy=(n,e,r)=>{for(;e.right!==null&&r>0;){switch(e.right.content.constructor){case Xt:e.right.deleted||El(e.currentAttributes,e.right.content);break;default:e.right.deleted||(r<e.right.length&&No(n,yt(e.right.id.client,e.right.id.clock+r)),e.index+=e.right.length,r-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},_c=(n,e,r,o)=>{const l=new Map,a=o?fd(e,r):null;if(a){const f=new xh(a.p.left,a.p,a.index,l);return Qy(n,f,r-a.index)}else{const f=new xh(null,e._start,0,l);return Qy(n,f,r)}},o0=(n,e,r,o)=>{for(;r.right!==null&&(r.right.deleted===!0||r.right.content.constructor===Xt&&_o(o.get(r.right.content.key),r.right.content.value));)r.right.deleted||o.delete(r.right.content.key),r.forward();const l=n.doc,a=l.clientID;o.forEach((f,h)=>{const g=r.left,y=r.right,v=new Qt(yt(a,ln(l.store,a)),g,g&&g.lastId,y,y&&y.id,e,null,new Xt(h,f));v.integrate(n,0),r.right=v,r.forward()})},El=(n,e)=>{const{key:r,value:o}=e;o===null?n.delete(r):n.set(r,o)},s0=(n,e)=>{for(;n.right!==null;){if(!(n.right.deleted||n.right.content.constructor===Xt&&_o(e[n.right.content.key]??null,n.right.content.value)))break;n.forward()}},l0=(n,e,r,o)=>{const l=n.doc,a=l.clientID,f=new Map;for(const h in o){const g=o[h],y=r.currentAttributes.get(h)??null;if(!_o(y,g)){f.set(h,y);const{left:v,right:k}=r;r.right=new Qt(yt(a,ln(l.store,a)),v,v&&v.lastId,k,k&&k.id,e,null,new Xt(h,g)),r.right.integrate(n,0),r.forward()}}return f},Zf=(n,e,r,o,l)=>{r.currentAttributes.forEach((x,S)=>{l[S]===void 0&&(l[S]=null)});const a=n.doc,f=a.clientID;s0(r,l);const h=l0(n,e,r,l),g=o.constructor===String?new Jr(o):o instanceof yn?new Li(o):new ms(o);let{left:y,right:v,index:k}=r;e._searchMarker&&Ua(e._searchMarker,r.index,g.getLength()),v=new Qt(yt(f,ln(a.store,f)),y,y&&y.lastId,v,v&&v.id,e,null,g),v.integrate(n,0),r.right=v,r.index=k,r.forward(),o0(n,e,r,h)},Jy=(n,e,r,o,l)=>{const a=n.doc,f=a.clientID;s0(r,l);const h=l0(n,e,r,l);e:for(;r.right!==null&&(o>0||h.size>0&&(r.right.deleted||r.right.content.constructor===Xt));){if(!r.right.deleted)switch(r.right.content.constructor){case Xt:{const{key:g,value:y}=r.right.content,v=l[g];if(v!==void 0){if(_o(v,y))h.delete(g);else{if(o===0)break e;h.set(g,y)}r.right.delete(n)}else r.currentAttributes.set(g,y);break}default:o<r.right.length&&No(n,yt(r.right.id.client,r.right.id.clock+o)),o-=r.right.length;break}r.forward()}if(o>0){let g="";for(;o>0;o--)g+=`
`;r.right=new Qt(yt(f,ln(a.store,f)),r.left,r.left&&r.left.lastId,r.right,r.right&&r.right.id,e,null,new Jr(g)),r.right.integrate(n,0),r.forward()}o0(n,e,r,h)},a0=(n,e,r,o,l)=>{let a=e;const f=zn();for(;a&&(!a.countable||a.deleted);){if(!a.deleted&&a.content.constructor===Xt){const y=a.content;f.set(y.key,y)}a=a.right}let h=0,g=!1;for(;e!==a;){if(r===e&&(g=!0),!e.deleted){const y=e.content;switch(y.constructor){case Xt:{const{key:v,value:k}=y,x=o.get(v)??null;(f.get(v)!==y||x===k)&&(e.delete(n),h++,!g&&(l.get(v)??null)===k&&x!==k&&(x===null?l.delete(v):l.set(v,x))),!g&&!e.deleted&&El(l,y);break}}}e=e.right}return h},_1=(n,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const r=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Xt){const o=e.content.key;r.has(o)?e.delete(n):r.add(o)}e=e.left}},x1=n=>{let e=0;return It(n.doc,r=>{let o=n._start,l=n._start,a=zn();const f=wh(a);for(;l;){if(l.deleted===!1)switch(l.content.constructor){case Xt:El(f,l.content);break;default:e+=a0(r,o,l,a,f),a=wh(f),o=l;break}l=l.right}}),e},S1=n=>{const e=new Set,r=n.doc;for(const[o,l]of n.afterState.entries()){const a=n.beforeState.get(o)||0;l!==a&&Kv(n,r.store.clients.get(o),a,l,f=>{!f.deleted&&f.content.constructor===Xt&&f.constructor!==lr&&e.add(f.parent)})}It(r,o=>{Av(n,n.deleteSet,l=>{if(l instanceof lr||!l.parent._hasFormatting||e.has(l.parent))return;const a=l.parent;l.content.constructor===Xt?e.add(a):_1(o,l)});for(const l of e)x1(l)})},Xy=(n,e,r)=>{const o=r,l=wh(e.currentAttributes),a=e.right;for(;r>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Li:case ms:case Jr:r<e.right.length&&No(n,yt(e.right.id.client,e.right.id.clock+r)),r-=e.right.length,e.right.delete(n);break}e.forward()}a&&a0(n,a,e.right,l,e.currentAttributes);const f=(e.left||e.right).parent;return f._searchMarker&&Ua(f._searchMarker,e.index,-o+r),e};class E1 extends dd{constructor(e,r,o){super(e,r),this.childListChanged=!1,this.keysChanged=new Set,o.forEach(l=>{l===null?this.childListChanged=!0:this.keysChanged.add(l)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,r=[];It(e,o=>{const l=new Map,a=new Map;let f=this.target._start,h=null;const g={};let y="",v=0,k=0;const x=()=>{if(h!==null){let S=null;switch(h){case"delete":k>0&&(S={delete:k}),k=0;break;case"insert":(typeof y=="object"||y.length>0)&&(S={insert:y},l.size>0&&(S.attributes={},l.forEach((I,T)=>{I!==null&&(S.attributes[T]=I)}))),y="";break;case"retain":v>0&&(S={retain:v},__(g)||(S.attributes=b_({},g))),v=0;break}S&&r.push(S),h=null}};for(;f!==null;){switch(f.content.constructor){case Li:case ms:this.adds(f)?this.deletes(f)||(x(),h="insert",y=f.content.getContent()[0],x()):this.deletes(f)?(h!=="delete"&&(x(),h="delete"),k+=1):f.deleted||(h!=="retain"&&(x(),h="retain"),v+=1);break;case Jr:this.adds(f)?this.deletes(f)||(h!=="insert"&&(x(),h="insert"),y+=f.content.str):this.deletes(f)?(h!=="delete"&&(x(),h="delete"),k+=f.length):f.deleted||(h!=="retain"&&(x(),h="retain"),v+=f.length);break;case Xt:{const{key:S,value:I}=f.content;if(this.adds(f)){if(!this.deletes(f)){const T=l.get(S)??null;_o(T,I)?I!==null&&f.delete(o):(h==="retain"&&x(),_o(I,a.get(S)??null)?delete g[S]:g[S]=I)}}else if(this.deletes(f)){a.set(S,I);const T=l.get(S)??null;_o(T,I)||(h==="retain"&&x(),g[S]=T)}else if(!f.deleted){a.set(S,I);const T=g[S];T!==void 0&&(_o(T,I)?T!==null&&f.delete(o):(h==="retain"&&x(),I===null?delete g[S]:g[S]=I))}f.deleted||(h==="insert"&&x(),El(l,f.content));break}}f=f.right}for(x();r.length>0;){const S=r[r.length-1];if(S.retain!==void 0&&S.attributes===void 0)r.pop();else break}}),this._delta=r}return this._delta}}class pl extends yn{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Cn(),this._length}_integrate(e,r){super._integrate(e,r);try{this._pending.forEach(o=>o())}catch(o){console.error(o)}this._pending=null}_copy(){return new pl}clone(){const e=new pl;return e.applyDelta(this.toDelta()),e}_callObserver(e,r){super._callObserver(e,r);const o=new E1(this,e,r);hd(this,e,o),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??Cn();let e="",r=this._start;for(;r!==null;)!r.deleted&&r.countable&&r.content.constructor===Jr&&(e+=r.content.str),r=r.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:r=!0}={}){this.doc!==null?It(this.doc,o=>{const l=new xh(null,this._start,0,new Map);for(let a=0;a<e.length;a++){const f=e[a];if(f.insert!==void 0){const h=!r&&typeof f.insert=="string"&&a===e.length-1&&l.right===null&&f.insert.slice(-1)===`
`?f.insert.slice(0,-1):f.insert;(typeof h!="string"||h.length>0)&&Zf(o,this,l,h,f.attributes||{})}else f.retain!==void 0?Jy(o,this,l,f.retain,f.attributes||{}):f.delete!==void 0&&Xy(o,l,f.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,r,o){this.doc??Cn();const l=[],a=new Map,f=this.doc;let h="",g=this._start;function y(){if(h.length>0){const k={};let x=!1;a.forEach((I,T)=>{x=!0,k[T]=I});const S={insert:h};x&&(S.attributes=k),l.push(S),h=""}}const v=()=>{for(;g!==null;){if(rl(g,e)||r!==void 0&&rl(g,r))switch(g.content.constructor){case Jr:{const k=a.get("ychange");e!==void 0&&!rl(g,e)?(k===void 0||k.user!==g.id.client||k.type!=="removed")&&(y(),a.set("ychange",o?o("removed",g.id):{type:"removed"})):r!==void 0&&!rl(g,r)?(k===void 0||k.user!==g.id.client||k.type!=="added")&&(y(),a.set("ychange",o?o("added",g.id):{type:"added"})):k!==void 0&&(y(),a.delete("ychange")),h+=g.content.str;break}case Li:case ms:{y();const k={insert:g.content.getContent()[0]};if(a.size>0){const x={};k.attributes=x,a.forEach((S,I)=>{x[I]=S})}l.push(k);break}case Xt:rl(g,e)&&(y(),El(a,g.content));break}g=g.right}y()};return e||r?It(f,k=>{e&&kh(k,e),r&&kh(k,r),v()},"cleanup"):v(),l}insert(e,r,o){if(r.length<=0)return;const l=this.doc;l!==null?It(l,a=>{const f=_c(a,this,e,!o);o||(o={},f.currentAttributes.forEach((h,g)=>{o[g]=h})),Zf(a,this,f,r,o)}):this._pending.push(()=>this.insert(e,r,o))}insertEmbed(e,r,o){const l=this.doc;l!==null?It(l,a=>{const f=_c(a,this,e,!o);Zf(a,this,f,r,o||{})}):this._pending.push(()=>this.insertEmbed(e,r,o||{}))}delete(e,r){if(r===0)return;const o=this.doc;o!==null?It(o,l=>{Xy(l,_c(l,this,e,!0),r)}):this._pending.push(()=>this.delete(e,r))}format(e,r,o){if(r===0)return;const l=this.doc;l!==null?It(l,a=>{const f=_c(a,this,e,!1);f.right!==null&&Jy(a,this,f,r,o)}):this._pending.push(()=>this.format(e,r,o))}removeAttribute(e){this.doc!==null?It(this.doc,r=>{Hc(r,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,r){this.doc!==null?It(this.doc,o=>{sp(o,this,e,r)}):this._pending.push(()=>this.setAttribute(e,r))}getAttribute(e){return lp(this,e)}getAttributes(){return r0(this)}_write(e){e.writeTypeRef(W1)}}const C1=n=>new pl;class eh{constructor(e,r=()=>!0){this._filter=r,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??Cn()}[Symbol.iterator](){return this}next(){let e=this._currentNode,r=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(r)))do if(r=e.content.type,!e.deleted&&(r.constructor===ml||r.constructor===hs)&&r._start!==null)e=r._start;else for(;e!==null;){const o=e.next;if(o!==null){e=o;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class hs extends yn{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,r){super._integrate(e,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new hs}clone(){const e=new hs;return e.insert(0,this.toArray().map(r=>r instanceof yn?r.clone():r)),e}get length(){return this.doc??Cn(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new eh(this,e)}querySelector(e){e=e.toUpperCase();const o=new eh(this,l=>l.nodeName&&l.nodeName.toUpperCase()===e).next();return o.done?null:o.value}querySelectorAll(e){return e=e.toUpperCase(),jo(new eh(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e))}_callObserver(e,r){hd(this,e,new j1(this,r,e))}toString(){return Xv(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,r={},o){const l=e.createDocumentFragment();return o!==void 0&&o._createAssociation(l,this),za(this,a=>{l.insertBefore(a.toDOM(e,r,o),null)}),l}insert(e,r){this.doc!==null?It(this.doc,o=>{t0(o,this,e,r)}):this._prelimContent.splice(e,0,...r)}insertAfter(e,r){if(this.doc!==null)It(this.doc,o=>{const l=e&&e instanceof yn?e._item:e;Wc(o,this,l,r)});else{const o=this._prelimContent,l=e===null?0:o.findIndex(a=>a===e)+1;if(l===0&&e!==null)throw To("Reference item not found");o.splice(l,0,...r)}}delete(e,r=1){this.doc!==null?It(this.doc,o=>{n0(o,this,e,r)}):this._prelimContent.splice(e,r)}toArray(){return Jv(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return Zv(this,e)}slice(e=0,r=this.length){return Qv(this,e,r)}forEach(e){za(this,e)}_write(e){e.writeTypeRef(q1)}}const I1=n=>new hs;class ml extends hs{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,r){super._integrate(e,r),this._prelimAttrs.forEach((o,l)=>{this.setAttribute(l,o)}),this._prelimAttrs=null}_copy(){return new ml(this.nodeName)}clone(){const e=new ml(this.nodeName),r=this.getAttributes();return k_(r,(o,l)=>{typeof o=="string"&&e.setAttribute(l,o)}),e.insert(0,this.toArray().map(o=>o instanceof yn?o.clone():o)),e}toString(){const e=this.getAttributes(),r=[],o=[];for(const h in e)o.push(h);o.sort();const l=o.length;for(let h=0;h<l;h++){const g=o[h];r.push(g+'="'+e[g]+'"')}const a=this.nodeName.toLocaleLowerCase(),f=r.length>0?" "+r.join(" "):"";return`<${a}${f}>${super.toString()}</${a}>`}removeAttribute(e){this.doc!==null?It(this.doc,r=>{Hc(r,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,r){this.doc!==null?It(this.doc,o=>{sp(o,this,e,r)}):this._prelimAttrs.set(e,r)}getAttribute(e){return lp(this,e)}hasAttribute(e){return i0(this,e)}getAttributes(e){return e?g1(this,e):r0(this)}toDOM(e=document,r={},o){const l=e.createElement(this.nodeName),a=this.getAttributes();for(const f in a){const h=a[f];typeof h=="string"&&l.setAttribute(f,h)}return za(this,f=>{l.appendChild(f.toDOM(e,r,o))}),o!==void 0&&o._createAssociation(l,this),l}_write(e){e.writeTypeRef(H1),e.writeKey(this.nodeName)}}const O1=n=>new ml(n.readKey());class j1 extends dd{constructor(e,r,o){super(e,o),this.childListChanged=!1,this.attributesChanged=new Set,r.forEach(l=>{l===null?this.childListChanged=!0:this.attributesChanged.add(l)})}}class qc extends hl{constructor(e){super(),this.hookName=e}_copy(){return new qc(this.hookName)}clone(){const e=new qc(this.hookName);return this.forEach((r,o)=>{e.set(o,r)}),e}toDOM(e=document,r={},o){const l=r[this.hookName];let a;return l!==void 0?a=l.createDom(this):a=document.createElement(this.hookName),a.setAttribute("data-yjs-hook",this.hookName),o!==void 0&&o._createAssociation(a,this),a}_write(e){e.writeTypeRef(G1),e.writeKey(this.hookName)}}const T1=n=>new qc(n.readKey());class Gc extends pl{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Gc}clone(){const e=new Gc;return e.applyDelta(this.toDelta()),e}toDOM(e=document,r,o){const l=e.createTextNode(this.toString());return o!==void 0&&o._createAssociation(l,this),l}toString(){return this.toDelta().map(e=>{const r=[];for(const l in e.attributes){const a=[];for(const f in e.attributes[l])a.push({key:f,value:e.attributes[l][f]});a.sort((f,h)=>f.key<h.key?-1:1),r.push({nodeName:l,attrs:a})}r.sort((l,a)=>l.nodeName<a.nodeName?-1:1);let o="";for(let l=0;l<r.length;l++){const a=r[l];o+=`<${a.nodeName}`;for(let f=0;f<a.attrs.length;f++){const h=a.attrs[f];o+=` ${h.key}="${h.value}"`}o+=">"}o+=e.insert;for(let l=r.length-1;l>=0;l--)o+=`</${r[l].nodeName}>`;return o}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Y1)}}const N1=n=>new Gc;class ap{constructor(e,r){this.id=e,this.length=r}get deleted(){throw Gr()}mergeWith(e){return!1}write(e,r,o){throw Gr()}integrate(e,r){throw Gr()}}const P1=0;class lr extends ap{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,r){r>0&&(this.id.clock+=r,this.length-=r),$v(e.doc.store,this)}write(e,r){e.writeInfo(P1),e.writeLen(this.length-r)}getMissing(e,r){return null}}class nu{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new nu(this.content)}splice(e){throw Gr()}mergeWith(e){return!1}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeBuf(this.content)}getRef(){return 3}}const D1=n=>new nu(n.readBuf());class Fa{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Fa(this.len)}splice(e){const r=new Fa(this.len-e);return this.len=e,r}mergeWith(e){return this.len+=e.len,!0}integrate(e,r){Kc(e.deleteSet,r.id.client,r.id.clock,this.len),r.markDeleted()}delete(e){}gc(e){}write(e,r){e.writeLen(this.len-r)}getRef(){return 1}}const A1=n=>new Fa(n.readLen()),u0=(n,e)=>new Sl({guid:n,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class ru{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const r={};this.opts=r,e.gc||(r.gc=!1),e.autoLoad&&(r.autoLoad=!0),e.meta!==null&&(r.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new ru(u0(this.doc.guid,this.opts))}splice(e){throw Gr()}mergeWith(e){return!1}integrate(e,r){this.doc._item=r,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,r){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const R1=n=>new ru(u0(n.readString(),n.readAny()));class ms{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new ms(this.embed)}splice(e){throw Gr()}mergeWith(e){return!1}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeJSON(this.embed)}getRef(){return 5}}const L1=n=>new ms(n.readJSON());class Xt{constructor(e,r){this.key=e,this.value=r}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Xt(this.key,this.value)}splice(e){throw Gr()}mergeWith(e){return!1}integrate(e,r){const o=r.parent;o._searchMarker=null,o._hasFormatting=!0}delete(e){}gc(e){}write(e,r){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const M1=n=>new Xt(n.readKey(),n.readJSON());class Yc{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Yc(this.arr)}splice(e){const r=new Yc(this.arr.slice(e));return this.arr=this.arr.slice(0,e),r}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){const o=this.arr.length;e.writeLen(o-r);for(let l=r;l<o;l++){const a=this.arr[l];e.writeString(a===void 0?"undefined":JSON.stringify(a))}}getRef(){return 2}}const U1=n=>{const e=n.readLen(),r=[];for(let o=0;o<e;o++){const l=n.readString();l==="undefined"?r.push(void 0):r.push(JSON.parse(l))}return new Yc(r)},z1=$c("node_env")==="development";class ps{constructor(e){this.arr=e,z1&&Sv(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new ps(this.arr)}splice(e){const r=new ps(this.arr.slice(e));return this.arr=this.arr.slice(0,e),r}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){const o=this.arr.length;e.writeLen(o-r);for(let l=r;l<o;l++){const a=this.arr[l];e.writeAny(a)}}getRef(){return 8}}const F1=n=>{const e=n.readLen(),r=[];for(let o=0;o<e;o++)r.push(n.readAny());return new ps(r)};class Jr{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Jr(this.str)}splice(e){const r=new Jr(this.str.slice(e));this.str=this.str.slice(0,e);const o=this.str.charCodeAt(e-1);return o>=55296&&o<=56319&&(this.str=this.str.slice(0,e-1)+"�",r.str="�"+r.str.slice(1)),r}mergeWith(e){return this.str+=e.str,!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeString(r===0?this.str:this.str.slice(r))}getRef(){return 4}}const B1=n=>new Jr(n.readString()),$1=[w1,k1,C1,O1,I1,T1,N1],K1=0,V1=1,W1=2,H1=3,q1=4,G1=5,Y1=6;class Li{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Li(this.type._copy())}splice(e){throw Gr()}mergeWith(e){return!1}integrate(e,r){this.type._integrate(e.doc,r)}delete(e){let r=this.type._start;for(;r!==null;)r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e),r=r.right;this.type._map.forEach(o=>{o.deleted?o.id.clock<(e.beforeState.get(o.id.client)||0)&&e._mergeStructs.push(o):o.delete(e)}),e.changed.delete(this.type)}gc(e){let r=this.type._start;for(;r!==null;)r.gc(e,!0),r=r.right;this.type._start=null,this.type._map.forEach(o=>{for(;o!==null;)o.gc(e,!0),o=o.left}),this.type._map=new Map}write(e,r){this.type._write(e)}getRef(){return 7}}const Q1=n=>new Li($1[n.readTypeRef()](n)),Qc=(n,e,r)=>{const{client:o,clock:l}=e.id,a=new Qt(yt(o,l+r),e,yt(o,l+r-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(r));return e.deleted&&a.markDeleted(),e.keep&&(a.keep=!0),e.redone!==null&&(a.redone=yt(e.redone.client,e.redone.clock+r)),e.right=a,a.right!==null&&(a.right.left=a),n._mergeStructs.push(a),a.parentSub!==null&&a.right===null&&a.parent._map.set(a.parentSub,a),e.length=r,a};class Qt extends ap{constructor(e,r,o,l,a,f,h,g){super(e,g.getLength()),this.origin=o,this.left=r,this.right=l,this.rightOrigin=a,this.parent=f,this.parentSub=h,this.redone=null,this.content=g,this.info=this.content.isCountable()?yy:0}set marker(e){(this.info&Wf)>0!==e&&(this.info^=Wf)}get marker(){return(this.info&Wf)>0}get keep(){return(this.info&my)>0}set keep(e){this.keep!==e&&(this.info^=my)}get countable(){return(this.info&yy)>0}get deleted(){return(this.info&Vf)>0}set deleted(e){this.deleted!==e&&(this.info^=Vf)}markDeleted(){this.info|=Vf}getMissing(e,r){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=ln(r,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=ln(r,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===sl&&this.id.client!==this.parent.client&&this.parent.clock>=ln(r,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Hy(e,r,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=No(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===lr||this.right&&this.right.constructor===lr)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Qt?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===Qt&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===sl){const o=Xf(r,this.parent);o.constructor===lr?this.parent=null:this.parent=o.content.type}return null}integrate(e,r){if(r>0&&(this.id.clock+=r,this.left=Hy(e,e.doc.store,yt(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(r),this.length-=r),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let o=this.left,l;if(o!==null)l=o.right;else if(this.parentSub!==null)for(l=this.parent._map.get(this.parentSub)||null;l!==null&&l.left!==null;)l=l.left;else l=this.parent._start;const a=new Set,f=new Set;for(;l!==null&&l!==this.right;){if(f.add(l),a.add(l),bc(this.origin,l.origin)){if(l.id.client<this.id.client)o=l,a.clear();else if(bc(this.rightOrigin,l.rightOrigin))break}else if(l.origin!==null&&f.has(Xf(e.doc.store,l.origin)))a.has(Xf(e.doc.store,l.origin))||(o=l,a.clear());else break;l=l.right}this.left=o}if(this.left!==null){const o=this.left.right;this.right=o,this.left.right=this}else{let o;if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start,this.parent._start=this;this.right=o}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),$v(e.doc.store,this),this.content.integrate(e,this),Gy(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new lr(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:yt(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&bc(e.origin,this.lastId)&&this.right===e&&bc(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const r=this.parent._searchMarker;return r&&r.forEach(o=>{o.p===e&&(o.p=this,!this.deleted&&this.countable&&(o.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const r=this.parent;this.countable&&this.parentSub===null&&(r._length-=this.length),this.markDeleted(),Kc(e.deleteSet,this.id.client,this.id.clock,this.length),Gy(e,r,this.parentSub),this.content.delete(e)}}gc(e,r){if(!this.deleted)throw Yr();this.content.gc(e),r?r1(e,this,new lr(this.id,this.length)):this.content=new Fa(this.length)}write(e,r){const o=r>0?yt(this.id.client,this.id.clock+r-1):this.origin,l=this.rightOrigin,a=this.parentSub,f=this.content.getRef()&od|(o===null?0:qn)|(l===null?0:Ti)|(a===null?0:Da);if(e.writeInfo(f),o!==null&&e.writeLeftID(o),l!==null&&e.writeRightID(l),o===null&&l===null){const h=this.parent;if(h._item!==void 0){const g=h._item;if(g===null){const y=t1(h);e.writeParentInfo(!0),e.writeString(y)}else e.writeParentInfo(!1),e.writeLeftID(g.id)}else h.constructor===String?(e.writeParentInfo(!0),e.writeString(h)):h.constructor===sl?(e.writeParentInfo(!1),e.writeLeftID(h)):Yr();a!==null&&e.writeString(a)}this.content.write(e,r)}}const c0=(n,e)=>J1[e&od](n),J1=[()=>{Yr()},A1,U1,D1,B1,L1,M1,Q1,F1,R1,()=>{Yr()}],X1=10;class ar extends ap{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,r){Yr()}write(e,r){e.writeInfo(X1),it(e.restEncoder,this.length-r)}getMissing(e,r){return null}}const d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},f0="__ $YJS$ __";d0[f0]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");d0[f0]=!0;const th=new FinalizationRegistry(({cache:n,key:e})=>{delete n[e]});function h0(n){var e,r;return(e=(r=n._novip)._docCache)!==null&&e!==void 0?e:r._docCache={cache:{},get size(){return Object.keys(this.cache).length},find(o,l,a){const f=nh(o,l,a),h=this.cache[f];return h?h.deref():void 0},add(o){var l;const{parentTable:a,parentId:f,parentProp:h}=o.meta;if(!a||!h||f==null)throw new Error("Missing Dexie-related metadata in Y.Doc");const g=nh(a,f,h),y=(l=this.cache[g])===null||l===void 0?void 0:l.deref();y&&th.unregister(y),this.cache[g]=new WeakRef(o),th.register(o,{cache:this.cache,key:g},o)},delete(o){th.unregister(o);const l=nh(o.meta.parentTable,o.meta.parentId,o.meta.parentProp),a=this.cache[l];(a==null?void 0:a.deref())===o&&delete this.cache[l]}}}const Ca=new WeakSet;function Sh(n){if(Ca.has(n))throw new Error(`Y.Doc ${n.meta.parentId} has been destroyed`)}function nh(n,e,r){return`${n}[${e}].${r}`}function Z1(n,e,r,o,l,a){let f=e.find(r,a,o);return f||(f=new Sl({meta:{db:n,updatesTable:l,parentProp:o,parentTable:r,parentId:a}}),e.add(f),f.on("destroy",()=>{Ca.add(f),e.delete(f)}),f)}const{getByKeyPath:_C}=dt;let p0=null;function Zy(n){p0=n}function ex(n,e,r,o,l,a){let f=0,h=!0;const g=So(()=>{Sh(e);const k=r.table(l);return Promise.all([(f>0?k.where("i").between(f,1/0,!1).toArray().then(x=>x.filter(S=>id(S.k,a)===0)):k.where({k:a}).toArray()).then(x=>x),r.table(o).where(":id").equals(a).toArray()])}).subscribe(([k,x])=>{if(k.length>0&&(f=k[k.length-1].i),x.length===0){e.destroy();return}Sh(e),k.length>0&&It(e,()=>{k.forEach(S=>{try{Zy(S),zv(e,S.u)}finally{Zy(null)}})},n,!1),h&&(h=!1,e.emit("load",[e]))},k=>{n.on("error").fire(k)}),y=(k,x)=>{x!==n&&r.table(l).add({k:a,u:k,f:1}).then(S=>{S===f-1&&++f}).catch(S=>{n.on("error").fire(S)})},v=()=>{g.unsubscribe(),e.off("updateV2",y),e.off("destroy",v)};return e.on("updateV2",y),e.on("destroy",v),v}function m0(){}function tx(n,e){return n===m0?e:function(){var r=n.apply(this,arguments);if(r&&typeof r.then=="function"){for(var o=this,l=arguments.length,a=new Array(l);l--;)a[l]=arguments[l];return r.then(function(){return e.apply(o,a)})}return e.apply(this,arguments)}}function nx(n,e){return n===m0?e:function(){n.apply(this,arguments),e.apply(this,arguments)}}const wa=new WeakMap;function eg(){return dt.Events(null,"load","sync","error")}class En{static getOrCreateDocument(e,r,o,l){var a,f;const h=h0(e),g=(f=(a=e.table(r).schema.yProps)===null||a===void 0?void 0:a.find(y=>y.prop===o))===null||f===void 0?void 0:f.updatesTable;if(!g)throw new Error(`Updates table for ${r}.${o} not found`);return Z1(e,h,r,o,g,l)}static load(e,r){var o;let l=wa.get(e);return l?(++l.refCount,(r==null?void 0:r.gracePeriod)!=null&&l.graceTimeout<r.gracePeriod&&(l.graceTimeout=r.gracePeriod),l.graceTimer&&(clearTimeout(l.graceTimer),l.graceTimer=null)):(l=new En(e),l.graceTimeout=(o=r==null?void 0:r.gracePeriod)!==null&&o!==void 0?o:-1,wa.set(e,l)),l}static release(e){if(!e||Ca.has(e))return;const r=wa.get(e);r?--r.refCount<=0&&(r.graceTimeout<0?r._release():r.graceTimer||(r.graceTimer=setTimeout(()=>{r.graceTimer=null,r.refCount===0&&r._release()},r.graceTimeout))):e.destroy()}_release(){this.doc&&Promise.resolve(En.on("beforeunload").fire(this)).finally(()=>{var e;this.refCount===0&&((e=this.doc)===null||e===void 0||e.destroy())})}static for(e){return wa.get(e)}static get currentUpdateRow(){return p0}get whenLoaded(){return this._whenLoaded||(this._whenLoaded=new Promise((e,r)=>{if(!this.doc){r(new Error("No Y.Doc associated with this provider"));return}this.doc.isLoaded?e():this._error?r(this._error):Ca.has(this.doc)?r(new dt.AbortError("Document was destroyed before loaded")):(this.on("load",e),this.on("error",r),this.doc.on("destroy",()=>r(new dt.AbortError("Document was destroyed before loaded"))))})),this._whenLoaded}get whenSynced(){return this._whenSynced||(this._whenSynced=new Promise((e,r)=>{if(!this.doc){r(new Error("No Y.Doc associated with this provider"));return}this.doc.isSynced?e():this._error?r(this._error):Ca.has(this.doc)?r(new dt.AbortError("Document was destroyed before synced")):(this.on("sync",e),this.on("error",r),this.doc.on("destroy",()=>r(new dt.AbortError("Document was destroyed before synced"))))})),this._whenSynced}constructor(e){this.refCount=1,this.cleanupHandlers=[],this.graceTimeout=-1,this.doc=null,this.destroyed=!1,this.on=eg(),this.doc=e,this.off=(f,h)=>{var g;return(g=this.on[f])===null||g===void 0?void 0:g.unsubscribe(h)},"dispose"in Symbol&&(this[Symbol.dispose]=()=>En.release(e)),e.on("load",()=>this.on("load").fire()),e.on("sync",f=>f!==!1&&this.on("sync").fire()),e.on("destroy",this.destroy.bind(this)),this.on("error",f=>{this._error=f});const{db:r,parentTable:o,parentId:l,updatesTable:a}=e.meta||{};if(!r||!o||!a)throw new Error("Missing Dexie-related metadata in Y.Doc. Documents need to be obtained through Y.Doc properties from dexie queries.");if(!r.table(o)||!r.table(a))throw new Error(`Table ${o} or ${a} not found in db`);Sh(e),this.stopObserving=ex(this,e,r,o,a,l),En.on("new").fire(this)}destroy(){var e,r,o;console.debug(`Y.Doc ${(r=(e=this.doc)===null||e===void 0?void 0:e.meta)===null||r===void 0?void 0:r.parentId} was destroyed`),wa.delete(this.doc),this.doc=null,this.destroyed=!0,this.refCount=0,(o=this.stopObserving)===null||o===void 0||o.call(this),this.on=eg(),this.cleanupHandlers.forEach(l=>l())}addCleanupHandler(e){this.cleanupHandlers.push(typeof e=="function"?e:()=>e.unsubscribe())}}En.on=dt.Events(null,{new:[nx],beforeunload:[tx]});En.getDocCache=h0;dt.DexieYProvider?En=dt.DexieYProvider||En:dt.DexieYProvider=En;const rh=3e4;class rx extends h_{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const r=Bc();this.getLocalState()!==null&&rh/2<=r-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const o=[];this.meta.forEach((l,a)=>{a!==this.clientID&&rh<=r-l.lastUpdated&&this.states.has(a)&&o.push(a)}),o.length>0&&y0(this,o,"timeout")},Pi(rh/10)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const r=this.clientID,o=this.meta.get(r),l=o===void 0?0:o.clock+1,a=this.states.get(r);e===null?this.states.delete(r):this.states.set(r,e),this.meta.set(r,{clock:l,lastUpdated:Bc()});const f=[],h=[],g=[],y=[];e===null?y.push(r):a==null?e!=null&&f.push(r):(h.push(r),Ea(a,e)||g.push(r)),(f.length>0||g.length>0||y.length>0)&&this.emit("change",[{added:f,updated:g,removed:y},"local"]),this.emit("update",[{added:f,updated:h,removed:y},"local"])}setLocalStateField(e,r){const o=this.getLocalState();o!==null&&this.setLocalState({...o,[e]:r})}getStates(){return this.states}}const y0=(n,e,r)=>{const o=[];for(let l=0;l<e.length;l++){const a=e[l];if(n.states.has(a)){if(n.states.delete(a),a===n.clientID){const f=n.meta.get(a);n.meta.set(a,{clock:f.clock+1,lastUpdated:Bc()})}o.push(a)}}o.length>0&&(n.emit("change",[{added:[],updated:[],removed:o},r]),n.emit("update",[{added:[],updated:[],removed:o},r]))},ix=(n,e,r=n.states)=>{const o=e.length,l=bl();it(l,o);for(let a=0;a<o;a++){const f=e[a],h=r.get(f)||null,g=n.meta.get(f).clock;it(l,f),it(l,g),or(l,JSON.stringify(h))}return Hn(l)},ox=(n,e,r)=>{const o=Za(e),l=Bc(),a=[],f=[],h=[],g=[],y=Ct(o);for(let v=0;v<y;v++){const k=Ct(o);let x=Ct(o);const S=JSON.parse(sr(o)),I=n.meta.get(k),T=n.states.get(k),z=I===void 0?0:I.clock;(z<x||z===x&&S===null&&n.states.has(k))&&(S===null?k===n.clientID&&n.getLocalState()!=null?x++:n.states.delete(k):n.states.set(k,S),n.meta.set(k,{clock:x,lastUpdated:l}),I===void 0&&S!==null?a.push(k):I!==void 0&&S===null?g.push(k):S!==null&&(Ea(S,T)||h.push(k),f.push(k)))}(a.length>0||h.length>0||g.length>0)&&n.emit("change",[{added:a,updated:h,removed:g},r]),(a.length>0||f.length>0||g.length>0)&&n.emit("update",[{added:a,updated:f,removed:g},r])};function Te(n,e,r,o){return new(r||(r=Promise))((function(l,a){function f(y){try{g(o.next(y))}catch(v){a(v)}}function h(y){try{g(o.throw(y))}catch(v){a(v)}}function g(y){var v;y.done?l(y.value):(v=y.value,v instanceof r?v:new r((function(k){k(v)}))).then(f,h)}g((o=o.apply(n,e||[])).next())}))}function sx(n){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&n[e],o=0;if(r)return r.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mn(n){return this instanceof mn?(this.v=n,this):new mn(n)}function Eh(n,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,l=r.apply(n,e||[]),a=[];return o={},f("next"),f("throw"),f("return"),o[Symbol.asyncIterator]=function(){return this},o;function f(k){l[k]&&(o[k]=function(x){return new Promise((function(S,I){a.push([k,x,S,I])>1||h(k,x)}))})}function h(k,x){try{(function(S){S.value instanceof mn?Promise.resolve(S.value.v).then(g,y):v(a[0][2],S)})(l[k](x))}catch(S){v(a[0][3],S)}}function g(k){h("next",k)}function y(k){h("throw",k)}function v(k,x){k(x),a.shift(),a.length&&h(a[0][0],a[0][1])}}function Ch(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=n[Symbol.asyncIterator];return r?r.call(n):(n=sx(n),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(l){e[l]=n[l]&&function(a){return new Promise((function(f,h){(function(g,y,v,k){Promise.resolve(k).then((function(x){g({value:x,done:v})}),y)})(f,h,(a=n[l](a)).done,a.value)}))}}}const lx={}.hasOwnProperty;function Jc(n,e,r){if(n&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(n)))if(typeof e!="string"&&"length"in e){(function(y){if(!y)throw new Error("Assertion Failed")})(typeof r!="string"&&"length"in r);for(var o=0,l=e.length;o<l;++o)Jc(n,e[o],r[o])}else{var a=e.indexOf(".");if(a!==-1){var f=e.substr(0,a),h=e.substr(a+1);if(h==="")r===void 0?Array.isArray(n)?isNaN(parseInt(f))||n.splice(parseInt(f),1):delete n[f]:n[f]=r;else{var g=n[f];g&&(function(y,v){return lx.call(y,v)})(n,f)||(g=n[f]={}),Jc(g,h,r)}}else r===void 0?Array.isArray(n)&&!isNaN(parseInt(e))?n.splice(e,1):delete n[e]:n[e]=r}}const g0=typeof self<"u"&&typeof crypto<"u"?(n,e=crypto.getRandomValues.bind(crypto))=>{const r=new Uint8Array(n);return e(r),self.btoa(String.fromCharCode.apply(null,r))}:typeof Buffer<"u"?(n,e=ax)=>{const r=Buffer.alloc(n);return e(r),r.toString("base64")}:()=>{throw new Error("No implementation of randomString was found")};function ax(n){for(let e=0;e<n.length;++e)n[e]=Math.floor(256*Math.random())}function up(n){return typeof n=="string"||!!(Array.isArray(n)&&n.some((e=>up(e)))&&n.every(v0))}function v0(n){return typeof n=="string"||typeof n=="number"||Array.isArray(n)&&n.every(v0)}function ux(n,e,r){const o=n[e]||(n[e]={}),l=r.keys.map((a=>typeof a=="string"?a:JSON.stringify(a)));switch(r.type){case"insert":case"upsert":l.forEach(((a,f)=>{o[a]={type:"ups",val:r.values[f]}}));break;case"update":case"modify":l.forEach(((a,f)=>{const h=r.type==="update"?r.changeSpecs[f]:r.changeSpec,g=o[a];if(g)switch(g.type){case"ups":for(const[y,v]of Object.entries(h))Jc(g.val,y,v);break;case"del":break;case"upd":Object.assign(g.mod,h)}else o[a]={type:"upd",mod:h}}));break;case"delete":l.forEach((a=>{o[a]={type:"del"}}))}return n}function tg(n,e){for(const{table:r,muts:o}of e)for(const l of o)ux(n,r,l)}function cx(n){return Eh(this,arguments,(function*(){var e,r,o,l;let a=0,f=new Uint8Array(4),h=0,g=[],y=0;try{for(var v,k=!0,x=Ch(n);!(e=(v=yield mn(x.next())).done);k=!0){l=v.value,k=!1;const S=l,I=new DataView(S.buffer,S.byteOffset,S.byteLength);let T=0;for(;T<S.byteLength;)switch(a){case 0:if(T+4>S.byteLength){for(const z of S.slice(T)){if(h===4)break;f[h++]=z,++T}if(h<4)break}else if(h>0&&h<4)for(const z of S.slice(T,T+4-h))f[h++]=z,++T;case 1:y=h===4?new DataView(f.buffer,0,4).getUint32(0,!1):I.getUint32(T,!1),h?h=0:T+=4;case 2:if(T>=S.byteLength){a=2;break}if(T+y>S.byteLength)g.push(S.slice(T)),y-=S.byteLength-T,a=2,T=S.byteLength;else{if(g.length>0){const z=new Uint8Array(g.reduce(((ee,q)=>ee+q.byteLength),y));let ne=0;for(const ee of g)z.set(ee,ne),ne+=ee.byteLength;z.set(S.slice(T,T+y),ne),g=[],yield yield mn(z)}else yield yield mn(S.slice(T,T+y));T+=y,a=0}}}}catch(S){r={error:S}}finally{try{k||e||!(o=x.return)||(yield mn(o.call(x)))}finally{if(r)throw r.error}}}))}function w0(n,e){return Te(this,void 0,void 0,(function*(){try{const r=yield navigator.serviceWorker.ready;if(e==="push"&&r.sync&&(yield r.sync.register(`dexie-cloud:${n.name}`)),!r.active)throw new Error("Failed to trigger sync - there's no active service worker");return void r.active.postMessage({type:"dexie-cloud-sync",dbName:n.name,purpose:e})}catch{}}))}function ji(n,e){n.cloud.usingServiceWorker?w0(n,e):n.localSyncEvent.next({purpose:e})}const dx="fromBase64"in Uint8Array,fx="toBase64"in Uint8Array.prototype,cp=typeof Buffer<"u"?n=>Buffer.from(n,"base64"):dx?n=>Uint8Array.fromBase64(n):n=>{const e=atob(n),r=e.length,o=new Uint8Array(r);for(var l=0;l<r;l++)o[l]=e.charCodeAt(l);return o},Cl=typeof Buffer<"u"?n=>ArrayBuffer.isView(n)?Buffer.from(n.buffer,n.byteOffset,n.byteLength).toString("base64"):Buffer.from(n).toString("base64"):fx?n=>(ArrayBuffer.isView(n)?n:new Uint8Array(n)).toBase64():n=>{const e=ArrayBuffer.isView(n)?n:new Uint8Array(n),r=[];for(let o=0,l=e.length;o<l;o+=4096){const a=e.subarray(o,o+4096);r.push(String.fromCharCode.apply(null,a))}return btoa(r.join(""))};class Ih extends Error{constructor({title:e,message:r,messageCode:o,messageParams:l}){super(r),this.name="TokenErrorResponseError",this.title=e,this.messageCode=o,this.messageParams=l}}function iu(n,e){return new Promise(((r,o)=>{const l=Object.assign(Object.assign({submitLabel:"Submit",cancelLabel:"Cancel"},e),{onSubmit:a=>{n.next(void 0),r(a)},onCancel:()=>{n.next(void 0),o(new dt.AbortError("User cancelled"))}});n.next(l)}))}function Oh(n,e,...r){return iu(n,{type:"message-alert",title:e,alerts:r,fields:{},submitLabel:"OK",cancelLabel:null})}function ng(n,e,r){return Te(this,void 0,void 0,(function*(){let o=r||"";for(;!o||!/^[\w-+.]+@([\w-]+\.)+[\w-]{2,10}(\sas\s[\w-+.]+@([\w-]+\.)+[\w-]{2,10})?$/.test(o);)o=(yield iu(n,{type:"email",title:e,alerts:o?[{type:"error",messageCode:"INVALID_EMAIL",message:"Please enter a valid email address",messageParams:{}}]:[],fields:{email:{type:"email",placeholder:"you@somedomain.com"}}})).email;return o}))}function rg(n,e,r){return Te(this,void 0,void 0,(function*(){const o=[{type:"info",messageCode:"OTP_SENT",message:"A One-Time password has been sent to {email}",messageParams:{email:e}}];r&&o.push(r);const{otp:l}=yield iu(n,{type:"otp",title:"Enter OTP",alerts:o,fields:{otp:{type:"otp",label:"OTP",placeholder:"Paste OTP here"}}});return l}))}function pd(n){return Te(this,void 0,void 0,(function*(){var e,r,o;const l=yield n.getCurrentUser(),{accessToken:a,accessTokenExpiration:f,refreshToken:h,refreshTokenExpiration:g,claims:y}=l;if(!a)return null;if(((e=f==null?void 0:f.getTime())!==null&&e!==void 0?e:1/0)>Date.now()&&(((r=l.license)===null||r===void 0?void 0:r.status)||"ok")==="ok")return l;if(!h)throw new Error("Refresh token missing");if(((o=g==null?void 0:g.getTime())!==null&&o!==void 0?o:1/0)<=Date.now())throw new Error("Refresh token has expired");const v=yield md(n.cloud.options.databaseUrl,l);return yield n.table("$logins").update(y.sub,{accessToken:v.accessToken,accessTokenExpiration:v.accessTokenExpiration,claims:v.claims,license:v.license,data:v.data}),v}))}function hx(n,e,r,o,l){return Te(this,void 0,void 0,(function*(){return e.accessToken&&e.accessTokenExpiration.getTime()>Date.now()?e:e.refreshToken&&(!e.refreshTokenExpiration||e.refreshTokenExpiration.getTime()>Date.now())?yield md(n,e):yield(function(a,f,h,g){return Te(this,void 0,void 0,(function*(){if(!crypto.subtle)throw typeof location<"u"&&location.protocol==="http:"?new Error("Dexie Cloud Addon needs to use WebCrypto, but your browser has disabled it due to being served from an insecure location. Please serve it from https or http://localhost:<port> (See https://stackoverflow.com/questions/46670556/how-to-enable-crypto-subtle-for-unsecure-origins-in-chrome/46671627#46671627)"):new Error("This browser does not support WebCrypto.");const{privateKey:y,publicKey:v}=yield crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!1,["sign","verify"]);if(!y||!v)throw new Error("Could not generate RSA keypair");a.nonExportablePrivateKey=y;const k=(function(x){const S=Cl(x);return(function(I){let T=`-----BEGIN PUBLIC KEY-----
`;for(;I.length>0;)T+=I.substring(0,64)+`
`,I=I.substring(64);return T+="-----END PUBLIC KEY-----",T})(S)})(yield crypto.subtle.exportKey("spki",v));a.publicKey=v;try{const x=yield f({public_key:k,hints:g});if(x.type==="error")throw new Ih(x);if(x.type!=="tokens")throw new Error(`Unexpected response type from token endpoint: ${x.type}`);return a.accessToken=x.accessToken,a.accessTokenExpiration=new Date(x.accessTokenExpiration),a.refreshToken=x.refreshToken,x.refreshTokenExpiration&&(a.refreshTokenExpiration=new Date(x.refreshTokenExpiration)),a.userId=x.claims.sub,a.email=x.claims.email,a.name=x.claims.name,a.claims=x.claims,a.license={type:x.userType,status:x.claims.license||"ok"},a.data=x.data,x.evalDaysLeft!=null&&(a.license.evalDaysLeft=x.evalDaysLeft),x.userValidUntil!=null&&(a.license.validUntil=new Date(x.userValidUntil)),x.alerts&&x.alerts.length>0&&(yield iu(h,{type:"message-alert",title:"Authentication Alert",fields:{},alerts:x.alerts})),a}catch(x){if(x instanceof Ih)throw yield Oh(h,x.title,{type:"error",messageCode:x.messageCode,message:x.message,messageParams:{}}),x;let S="We're having a problem authenticating right now.";throw x instanceof TypeError&&(S=typeof navigator!==void 0&&!navigator.onLine?"You seem to be offline. Please connect to the internet and try again.":dt.debug||typeof location<"u"&&(location.hostname==="localhost"||location.hostname==="127.0.0.1")?`Could not connect to server. Please verify that your origin '${location.origin}' is whitelisted using \`npx dexie-cloud whitelist\``:"Could not connect to server. Please verify the connection.",yield Oh(h,"Authentication Failed",{type:"error",messageCode:"GENERIC_ERROR",message:S,messageParams:{}}).catch((()=>{}))),x}}))})(e,r,o,l)}))}function md(n,e){return Te(this,void 0,void 0,(function*(){if(!e.refreshToken)throw new Error("Cannot refresh token - refresh token is missing.");if(!e.nonExportablePrivateKey)throw new Error("login.nonExportablePrivateKey is missing - cannot sign refresh token without a private key.");const r=Date.now(),o="RSASSA-PKCS1-v1_5",l=new TextEncoder().encode(e.refreshToken+r),a=yield crypto.subtle.sign(o,e.nonExportablePrivateKey,l),f=Cl(a),h={grant_type:"refresh_token",refresh_token:e.refreshToken,scopes:["ACCESS_DB"],signature:f,signing_algorithm:o,time_stamp:r},g=yield fetch(`${n}/token`,{body:JSON.stringify(h),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});if(g.status!==200)throw new Error(`RefreshToken: Status ${g.status} from ${n}/token`);const y=yield g.json();if(y.type==="error")throw new Ih(y);return e.accessToken=y.accessToken,e.accessTokenExpiration=y.accessTokenExpiration?new Date(y.accessTokenExpiration):void 0,e.claims=y.claims,e.license={type:y.userType,status:y.claims.license||"ok"},y.evalDaysLeft!=null&&(e.license.evalDaysLeft=y.evalDaysLeft),y.userValidUntil!=null&&(e.license.validUntil=new Date(y.userValidUntil)),y.data&&(e.data=y.data),e}))}const ig=new WeakMap;class dp{constructor(e,r){ig.set(this,e),Object.assign(this,r)}static load(e,r){return e.table("$logins").get(r).then((o=>new dp(e,o||{userId:r,claims:{sub:r},lastLogin:new Date(0)})))}save(){return Te(this,void 0,void 0,(function*(){ig.get(this).table("$logins").put(this)}))}}const Un={userId:"unauthorized",name:"Unauthorized",claims:{sub:"unauthorized"},lastLogin:new Date(0)};try{Object.freeze(Un),Object.freeze(Un.claims)}catch{}function b0(n,e){return as(Gn(n).pipe(ir(e)))}function k0(n){return Te(this,void 0,void 0,(function*(){const e=yield jh(n);if(e){if(!(yield(function(r,o,l){return Te(this,void 0,void 0,(function*(){const a=[{type:"warning",messageCode:"LOGOUT_CONFIRMATION",message:`{numUnsyncedChanges} unsynced changes will get lost!
                Logout anyway?`,messageParams:{currentUserId:o,numUnsyncedChanges:l.toString()}}];return yield iu(r,{type:"logout-confirmation",title:"Confirm Logout",alerts:a,fields:{},submitLabel:"Confirm logout",cancelLabel:"Cancel"}).then((()=>!0)).catch((()=>!1))}))})(n.cloud.userInteraction,n.cloud.currentUserId,e)))throw new Error("User cancelled logout due to unsynced changes");yield jh(n,{deleteUnsyncedData:!0})}}))}function jh(n){return Te(this,arguments,void 0,(function*(e,{deleteUnsyncedData:r=!1}={}){const[o,l]=yield e.dx.transaction("rw",e.dx.tables,(a=>Te(this,void 0,void 0,(function*(){const f=a.idbtrans;f.disableChangeTracking=!0,f.disableAccessControl=!0;const h=a.storeNames.filter((y=>y.endsWith("_mutations"))),g=(yield Promise.all(h.map((y=>a.table(y).count())))).reduce(((y,v)=>y+v),0);if(g>0&&!r)return[g,!1];e.$syncState.delete("syncState");for(const y of e.dx.tables)y.name!=="$jobs"&&y.name!=="$syncState"&&y.clear();return[g,!0]}))));return l&&(yield b0(e.cloud.currentUser,(a=>a.userId===Un.userId)),yield e.cloud.sync({purpose:"pull",wait:!0})),o}))}class Th extends Error{constructor(e,r){super(r||`${e.status} ${e.statusText}`),this.httpStatus=e.status}get name(){return"HttpError"}}function xc(n,...e){globalThis.console[n](...e)}function ih(n,e){return Te(this,void 0,void 0,(function*(){var r;const o=yield n.getCurrentUser(),l=o.userId;if(o.isLoggedIn&&(!e||!e.email&&!e.userId)){if((((r=o.license)===null||r===void 0?void 0:r.status)||"ok")==="ok"&&o.accessToken&&(!o.accessTokenExpiration||o.accessTokenExpiration.getTime()>Date.now()))return!1;if(o.refreshToken&&(!o.refreshTokenExpiration||o.refreshTokenExpiration.getTime()>Date.now()))return yield pd(n),!1}const a=new dp(n,{claims:{},lastLogin:new Date(0)});return yield hx(n.cloud.options.databaseUrl,a,n.cloud.options.fetchTokens||(function(f){const{userInteraction:h}=f.cloud;return function(g){return Te(this,arguments,void 0,(function*({public_key:y,hints:v}){var k;let x;const S=(k=f.cloud.options)===null||k===void 0?void 0:k.databaseUrl;if(!S)throw new Error("No database URL given.");if((v==null?void 0:v.grant_type)==="demo")x={demo_user:yield ng(h,"Enter a demo user email",(v==null?void 0:v.email)||(v==null?void 0:v.userId)),grant_type:"demo",scopes:["ACCESS_DB"],public_key:y};else if(v!=null&&v.otpId&&v.otp)x={grant_type:"otp",otp_id:v.otpId,otp:v.otp,scopes:["ACCESS_DB"],public_key:y};else{const z=yield ng(h,"Enter email address",v==null?void 0:v.email);x=/@demo.local$/.test(z)?{demo_user:z,grant_type:"demo",scopes:["ACCESS_DB"],public_key:y}:{email:z,grant_type:"otp",scopes:["ACCESS_DB"]}}const I=yield fetch(`${S}/token`,{body:JSON.stringify(x),method:"post",headers:{"Content-Type":"application/json",mode:"cors"}});if(I.status!==200){const z=yield I.text();throw yield Oh(h,"Token request failed",{type:"error",messageCode:"GENERIC_ERROR",message:z,messageParams:{}}).catch((()=>{})),new Th(I,z)}const T=yield I.json();if(T.type==="tokens"||T.type==="error")return T;if(x.grant_type==="otp"&&"email"in x){if(T.type!=="otp-sent")throw new Error(`Unexpected response from ${S}/token`);const z=yield rg(h,x.email),ne=Object.assign(Object.assign({},x),{otp:z||"",otp_id:T.otp_id,public_key:y});let ee=yield fetch(`${S}/token`,{body:JSON.stringify(ne),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});for(;ee.status===401;){const q=yield ee.text();ne.otp=yield rg(h,x.email,{type:"error",messageCode:"INVALID_OTP",message:q,messageParams:{}}),ee=yield fetch(`${S}/token`,{body:JSON.stringify(ne),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"})}if(ee.status!==200){const q=yield ee.text();throw new Th(ee,q)}return yield ee.json()}throw new Error(`Unexpected response from ${S}/token`)}))}})(n),n.cloud.userInteraction,e),l!==Un.userId&&a.userId!==l&&(yield k0(n)),yield(function(f,h){return Te(this,void 0,void 0,(function*(){const g=f.table("$logins");yield f.transaction("rw",g,(y=>Te(this,void 0,void 0,(function*(){const v=yield g.toArray();yield Promise.all(v.filter((k=>k.userId!==h.userId&&k.isLoggedIn)).map((k=>(k.isLoggedIn=!1,g.put(k))))),h.isLoggedIn=!0,h.lastLogin=new Date;try{yield h.save()}catch(k){try{k.name==="DataCloneError"&&(xc("debug","Login context property names:",Object.keys(h)),xc("debug","Login context property names:",Object.keys(h)),xc("debug","Login context:",h),xc("debug","Login context JSON:",JSON.stringify(h)))}catch{}throw k}})))),yield b0(f.cloud.currentUser,(y=>y.userId===h.userId))}))})(n,a),ji(n,"pull"),a.userId!==l}))}const Nh={},Ia=typeof self<"u"&&self.document&&typeof navigator<"u"&&navigator.serviceWorker;Ia&&Ia.ready.then((n=>Nh.registration=n)),typeof self<"u"&&"clients"in self&&!self.document&&addEventListener("message",(n=>{var e,r;!((r=(e=n.data)===null||e===void 0?void 0:e.type)===null||r===void 0)&&r.startsWith("sw-broadcast-")&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((o=>{var l;return o.id!==((l=n.source)===null||l===void 0?void 0:l.id)&&o.postMessage(n.data)}))}));class oh{constructor(e){this.name=e}subscribe(e){if(!Ia)return()=>{};const r=o=>{var l;((l=o.data)===null||l===void 0?void 0:l.type)===`sw-broadcast-${this.name}`&&e(o.data.message)};return Ia.addEventListener("message",r),()=>Ia.removeEventListener("message",r)}postMessage(e){var r;typeof self.clients=="object"?[...self.clients.matchAll({includeUncontrolled:!0})].forEach((o=>o.postMessage({type:`sw-broadcast-${this.name}`,message:e}))):Nh.registration&&((r=Nh.registration.active)===null||r===void 0||r.postMessage({type:`sw-broadcast-${this.name}`,message:e}))}}const ba=globalThis["lbc-events"]||(globalThis["lbc-events"]=new Map);class Sc extends Jt{constructor(e){const r=typeof BroadcastChannel>"u"?new oh(e):new BroadcastChannel(e);super((o=>{function l(h){o.next(h.detail)}function a(h){o.next(h.data)}let f;(function(h,g){ba.has(h)?ba.get(h).push(g):ba.set(h,[g])})(`lbc-${e}`,l);try{r instanceof oh?f=r.subscribe((h=>o.next(h))):r.addEventListener("message",a)}catch{}return()=>{(function(h,g){const y=ba.get(h);if(y){const v=y.indexOf(g);v!==-1&&y.splice(v,1)}})(`lbc-${e}`,l),r instanceof oh?f():r.removeEventListener("message",a)}})),this.name=e,this.bc=r}next(e){this.bc.postMessage(e),(function(r){const o=ba.get(r.type);o&&o.forEach((l=>{try{l(r)}catch{}}))})(new CustomEvent(`lbc-${this.name}`,{detail:e}))}}function Ph(n){return Te(this,arguments,void 0,(function*({realms:e,inviteRealms:r}){const o=JSON.stringify([...e.map((f=>({realmId:f,accepted:!0}))),...r.map((f=>({realmId:f,accepted:!1})))].sort(((f,h)=>f.realmId<h.realmId?-1:f.realmId>h.realmId?1:0))),l=new TextEncoder().encode(o),a=yield crypto.subtle.digest("SHA-1",l);return Cl(a)}))}function Lc(n){return Object.entries(n.cloud.schema||{}).filter((([,{markedForSync:e}])=>e)).map((([e])=>n.tables.filter((({name:r})=>r===e))[0])).filter((e=>e))}function fp(n){return`$${n}_mutations`}function _0(n){var e;const r=(e=/^\$(.*)_mutations$/.exec(n))===null||e===void 0?void 0:e[1];if(!r)throw new Error(`Given mutationTable ${n} is not correct`);return r}const px=[].concat;function hp(n){return px.apply([],n)}function Dh(n,e){return Te(this,arguments,void 0,(function*(r,o,{since:l={},limit:a=1/0}={}){const f=yield Promise.all(r.map((k=>Te(this,void 0,void 0,(function*(){const x=_0(k.name),S=l[x];let I=S?k.where("rev").above(S):k;a<1/0&&(I=I.limit(a));let T=yield I.toArray();return T=(function(z){return z=z.map((ne=>{if(ne.type==="modify"&&ne.criteria.index===null){const ee=Object.assign(Object.assign({},ne),{criteria:void 0,changeSpec:void 0,type:"update",keys:ne.keys,changeSpecs:[ne.changeSpec]});return delete ee.criteria,delete ee.changeSpec,ee}return ne})),z})(T),T=(function(z){const ne=new Map;for(const ee of z)if(ee.type==="update"){if(ee.keys.length!==1||ee.changeSpecs.length!==1)continue;const q=""+ee.keys[0],se=ee.changeSpecs[0];if(Object.values(se).some((fe=>typeof fe=="object"&&fe&&"@@propmod"in fe)))continue;let Se=ne.get(q);Se?Se.push({txid:ee.txid,updateSpec:se}):ne.set(q,[{txid:ee.txid,updateSpec:se}])}return z=z.filter((ee=>{if(ee.type!=="update"||ee.keys.length!==1||ee.changeSpecs.length!==1)return!0;const q=new Set(Object.keys(ee.changeSpecs[0])),se=""+ee.keys[0],Se=ne.get(se);for(let fe=Se.length-1;fe>=0;--fe){const{txid:Ee,updateSpec:be}=Se[fe];if(Ee===ee.txid)break;for(const Re of Object.keys(be))q.delete(Re)}return q.size!==0})),z})(T),T.map((z=>({table:x,mut:z})))}))))),h=hp(f).sort(((k,x)=>k.mut.txid===x.mut.txid?k.mut.opNo-x.mut.opNo:k.mut.ts-x.mut.ts)),g=[];let y=null,v=null;for(const{table:k,mut:x}of h)y&&y.table===k&&v===x.txid?y.muts.push(x):(y={table:k,muts:[x]},v=x.txid,g.push(y));return g}))}function x0(n){const e=new Uint8Array(n);if(typeof crypto<"u")crypto.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());if(typeof Buffer<"u"&&Buffer.from)return Buffer.from(e).toString("base64");if(typeof btoa<"u")return btoa(String.fromCharCode.apply(null,e));throw new Error("No btoa or Buffer available")}const{toString:mx}={},og={replace:function(n){const e=Object.keys(n);let r=null;for(let l=0,a=e.length;l<a;++l)e[l][0]==="$"&&(r=r||[],r.push(e[l]));if(!r)return n;const o={...n};for(const l of r)delete o[l];for(const l of r)o["$"+l]=n[l];return o}};function S0(...n){const e=n.reduce(((o,l)=>({...o,...l})),n.reduce(((o,l)=>({...l,...o})),{})),r=new WeakMap;return{stringify(o,l,a){return JSON.stringify(o,(function(h){const g=this[h],y=(function(v){const k=typeof v;switch(typeof v){case"object":case"function":{if(v===null)return null;const S=Object.getPrototypeOf(v);if(!S)return og;let I=r.get(S);if(I!==void 0)return I;const T=(x=v,mx.call(x).slice(8,-1)),z=Object.entries(e).find((([ne,ee])=>{var q,se;return(se=(q=ee==null?void 0:ee.test)===null||q===void 0?void 0:q.call(ee,v,T))!==null&&se!==void 0?se:ne===T}));return I=z==null?void 0:z[1],I||(I=Array.isArray(v)?null:typeof v=="function"?e.function||null:og),r.set(S,I),I}default:return e[k]}var x})(g);return y?y.replace(g,l,e):g}),a)},parse(o,l){const a=[];return JSON.parse(o,(function(f,h){const g=h==null?void 0:h.$t;if(g){const v=e[g];h=v?v.revive(h,l,e):h}let y=a[a.length-1];if(y&&y[0]===h){h={...h};for(const v of y[1])delete h[v];for(const[v,k]of Object.entries(y[2]))h[v]=k;a.pop()}if(h===void 0||f[0]==="$"&&f!=="$t"){let v,k;y=a[a.length-1],y&&y[0]===this?(v=y[1],k=y[2]):a.push([this,v=[],k={}]),f[0]==="$"&&f!=="$t"?(v.push(f),k[f.substr(1)]=h):k[f]=void 0}return h}))}}}const yx={Blob:{test:(n,e)=>e==="Blob",replace:(n,e)=>{const r=e.length;return e.push(n),{$t:"Blob",mimeType:n.type,i:r}},revive:({i:n,mimeType:e},r)=>new Blob([r[n]],{type:e})}};var gx={number:{replace:n=>{switch(!0){case isNaN(n):return{$t:"number",v:"NaN"};case n===1/0:return{$t:"number",v:"Infinity"};case n===-1/0:return{$t:"number",v:"-Infinity"};default:return n}},revive:({v:n})=>Number(n)}};const vx={bigint:{replace:n=>({$t:"bigint",v:""+n}),revive:n=>BigInt(n.v)}};var wx={Date:{replace:n=>({$t:"Date",v:isNaN(n.getTime())?"NaN":n.toISOString()}),revive:({v:n})=>new Date(n==="NaN"?NaN:Date.parse(n))}},bx={Set:{replace:n=>({$t:"Set",v:Array.from(n.entries())}),revive:({v:n})=>new Set(n)}},kx={Map:{replace:n=>({$t:"Map",v:Array.from(n.entries())}),revive:({v:n})=>new Map(n)}};const _x=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0;var xx=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","DataView","BigInt64Array","BigUint64Array"].reduce(((n,e)=>({...n,[e]:{replace:(r,o,l)=>({$t:e,v:l.ArrayBuffer.replace(r.byteOffset===0&&r.byteLength===r.buffer.byteLength?r.buffer:r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength),o,l).v}),revive:({v:r},o,l)=>{const a=_x[e];return a&&new a(l.ArrayBuffer.revive({v:r},o,l))}}})),{});function E0(n){return(function(e){for(var r="",o=0,l=e.length;o<l;o++)r+=C0[e[o]];return r})(Cl(n))}function Sx(n){return cp((function(e){if(typeof e!="string")throw new Error("invalid decoder input: "+e);for(var r="",o=0,l=e.length;o<l;o++)r+=Ah[e[o]];return r})(n))}const Ah={"-":"=",0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I",9:"J",A:"K",B:"L",C:"M",D:"N",E:"O",F:"P",G:"Q",H:"R",I:"S",J:"T",K:"U",L:"V",M:"W",N:"X",O:"Y",P:"Z",Q:"a",R:"b",S:"c",T:"d",U:"e",V:"f",W:"g",X:"h",Y:"i",Z:"j",_:"k",a:"l",b:"m",c:"n",d:"o",e:"p",f:"q",g:"r",h:"s",i:"t",j:"u",k:"v",l:"w",m:"x",n:"y",o:"z",p:"0",q:"1",r:"2",s:"3",t:"4",u:"5",v:"6",w:"7",x:"8",y:"9",z:"+","|":"/"},C0={};for(const n of Object.keys(Ah))C0[Ah[n]]=n;var Ex={ArrayBuffer:{replace:n=>({$t:"ArrayBuffer",v:E0(n)}),revive:({v:n})=>{const e=Sx(n);return e.buffer.byteLength===e.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}}};class sh{constructor(e,r){this.buf=e,this.type=r}}function I0(n){const e=new XMLHttpRequest;if(e.overrideMimeType("text/plain; charset=x-user-defined"),e.open("GET",URL.createObjectURL(n),!1),e.send(),e.status!==200&&e.status!==0)throw new Error("Bad Blob access: "+e.status);return e.responseText}function O0(n){const e=new Uint8Array(n.length);for(let r=0;r<n.length;++r)e[r]=n.charCodeAt(r);return e.buffer}var Cx={Blob:{test:(n,e)=>e==="Blob"||n instanceof sh,replace:n=>({$t:"Blob",v:Cl(n instanceof sh?n.buf:O0(I0(n))),type:n.type}),revive:({type:n,v:e})=>{const r=cp(e);return typeof Blob!==void 0?new Blob([r]):new sh(r.buffer,n)}}};const j0={...gx,...vx,...wx,...bx,...kx,...xx,...Ex,...Cx};function sg(n){return new Promise(((e,r)=>{const o=new FileReader;o.onabort=l=>r(new Error("file read aborted")),o.onerror=l=>r(l.target.error),o.onload=l=>e(l.target.result),o.readAsArrayBuffer(n)}))}var Ix={undefined:{replace:()=>({$t:"undefined"}),revive:()=>{}}},Ox={File:{test:(n,e)=>e==="File",replace:n=>({$t:"File",v:Cl(O0(I0(n))),type:n.type,name:n.name,lastModified:new Date(n.lastModified).toISOString()}),revive:({type:n,v:e,name:r,lastModified:o})=>{const l=cp(e);return new File([l],r,{type:n,lastModified:new Date(o).getTime()})}}};const jx=typeof BigInt=="function"&&typeof BigInt(0)=="bigint";class lg{toString(){return this.v}constructor(e){this.v=e}}const Tx=jx?{}:{bigint:{test:n=>n instanceof lg,replace:n=>Object.assign({$t:"bigint"},n),revive:({v:n})=>new lg(n)}},T0=Object.assign(Object.assign(Object.assign(Object.assign({},Ix),Tx),Ox),{PropModification:{test:n=>n instanceof py,replace:n=>Object.assign({$t:"PropModification"},n["@@propmod"]),revive:n=>{var e=(function(r,o){var l={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&o.indexOf(a)<0&&(l[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var f=0;for(a=Object.getOwnPropertySymbols(r);f<a.length;f++)o.indexOf(a[f])<0&&Object.prototype.propertyIsEnumerable.call(r,a[f])&&(l[a[f]]=r[a[f]])}return l})(n,["$t"]);return new py(e)}}}),Ba=S0(j0,T0),Nx=(function(...n){const e=S0(j0,yx,...n);return{toBinary(r){const[o,l]=this.stringify(r),a=new ArrayBuffer(4);return new DataView(a).setUint32(0,o.size),new Blob([a,o,l])},stringify(r){const o=[],l=e.stringify(r,o);return[new Blob(o.map((f=>{const h=new ArrayBuffer(4);return new DataView(h).setUint32(0,"byteLength"in f?f.byteLength:f.size),new Blob([h,f])}))),l]},async parse(r,o){let l=0;const a=[],f=await sg(o),h=new DataView(f);for(;l<f.byteLength;){const g=h.getUint32(l);l+=4;const y=f.slice(l,l+g);l+=g,a.push(y)}return e.parse(r,a)},async fromBinary(r){const o=new DataView(await sg(r.slice(0,4))).getUint32(0),l=r.slice(4,o+4),a=await(function(f){return new Promise(((h,g)=>{const y=new FileReader;y.onabort=v=>g(new Error("file read aborted")),y.onerror=v=>g(v.target.error),y.onload=v=>h(v.target.result),y.readAsText(f)}))})(r.slice(o+4));return await this.parse(a,l)}}})(T0);function Px(n,e,r){const o=[];for(let l of r){const{table:a,muts:f}=l,h=n.tables.find((v=>v.name===a));if(!h)throw new Error(`Internal error: table ${a} not found in DBCore schema`);const{primaryKey:g}=h;let y=l;f.forEach(((v,k)=>{const x=!g.outbound&&(v.type==="upsert"||v.type==="insert");v.keys.forEach(((S,I)=>{if(Array.isArray(S)){y===l&&(y=ag(l,x));const T=y.muts[k],z=JSON.stringify(S);T.keys[I]=z}else if(S[0]==="#"){y===l&&(y=ag(l,x));const T=y.muts[k];if(!e.isLoggedIn)throw new Error("Internal error: Cannot sync private IDs before authenticated");const z=`${S}:${e.userId}`;T.keys[I]=z,x&&dt.setByKeyPath(T.values[I],g.keyPath,z)}}))})),o.push(y)}return o}function ag(n,e){return Object.assign(Object.assign({},n),{muts:e?n.muts.map((r=>r.type!=="insert"&&r.type!=="upsert"||!r.values?Object.assign(Object.assign({},r),{keys:r.keys.slice()}):Object.assign(Object.assign({},r),{keys:r.keys.slice(),values:r.values.slice()}))):n.muts.map((r=>Object.assign(Object.assign({},r),{keys:r.keys.slice()})))})}let Rh=new WeakMap;function N0(n){return Te(this,void 0,void 0,(function*(){var e,r;const o=((r=(e=Rh.get(n))===null||e===void 0?void 0:e.getTime())!==null&&r!==void 0?r:0)-Date.now();o>0&&(yield new Promise((l=>setTimeout(l,o))))}))}function Dx(n,e,r,o,l,a,f,h,g){return Te(this,void 0,void 0,(function*(){const y={Accept:"application/json, application/x-bison, application/x-bison-stream","Content-Type":"application/tson"},v=yield pd(l),k=v==null?void 0:v.accessToken;k&&(y.Authorization=`Bearer ${k}`);const x={v:2,dbID:r==null?void 0:r.remoteDbId,clientIdentity:h,schema:f||{},lastPull:r?{serverRevision:r.serverRevision,yServerRevision:r.yServerRevision,realms:r.realms,inviteRealms:r.inviteRealms}:void 0,baseRevs:o,changes:Px(l.dx.core.schema,g,n),y:e,dxcv:l.cloud.version};l.syncStateChangedEvent.next({phase:"pushing"});const S=Ba.stringify(x),I=yield fetch(`${a}/sync`,{method:"post",headers:y,credentials:"include",body:S});if(l.syncStateChangedEvent.next({phase:"pulling"}),(function(T,z){const ne=z.headers.get("Ratelimit-Limit"),ee=z.headers.get("Ratelimit-Remaining"),q=z.headers.get("Ratelimit-Reset");if(ne&&ee&&q){const se=Number(ne),Se=Math.max(0,Number(ee)),fe=Number(q);if(Se<se/2){const Ee=Math.ceil(fe/(Se+1));Rh.set(T,new Date(Date.now()+1e3*Ee))}else Rh.delete(T)}})(l,I),!I.ok)throw new Th(I);if(I.headers.get("content-type")==="application/x-bison")return Nx.fromBinary(yield I.blob());{const T=yield I.text();return Ba.parse(T)}}))}function ka(n){if(n!=null&&n.cancelled)throw new dt.AbortError("Operation was cancelled")}let al=!1;function P0(n,e,r,o){return Te(this,void 0,void 0,(function*(){yield n.$baseRevs.bulkPut(Object.keys(e).filter((l=>e[l].markedForSync)).map((l=>({tableName:l,clientRev:(r[l]||0)+1,serverRev:o})))),yield n.$baseRevs.where("tableName").noneOf(Object.keys(e).filter((l=>e[l].markedForSync))).delete()}))}function Lh(n,e={}){for(const{table:r,muts:o}of n){const l=o.length>0?o[o.length-1].rev:null;e[r]=l||e[r]||0}return e}function Ax(n,e,r){return Te(this,void 0,void 0,(function*(){const o=yield n.bulkGet(e),l=[],a=[];e.forEach(((f,h)=>{const g=o[h];if(g){for(const[y,v]of Object.entries(r[h]))if(y===n.schema.primKey.keyPath){if(id(v,f)!==0)throw new Error("Cannot change primary key")}else dt.setByKeyPath(g,y,v);l.push(f),a.push(g)}})),yield n.schema.primKey.keyPath==null?n.bulkPut(a,l):n.bulkPut(a)}))}function D0(n,e){return Te(this,void 0,void 0,(function*(){for(const{table:r,muts:o}of n){if(!e.dx._allTables[r])continue;const l=e.table(r),{primaryKey:a}=l.core.schema,f=h=>{switch(h[0]){case"[":if(h.endsWith("]"))try{return JSON.parse(h)}catch{}return h;case"#":return h.endsWith(":"+e.cloud.currentUserId)?h.substr(0,h.length-e.cloud.currentUserId.length-1):h;default:return h}};for(const h of o){const g=h.keys.map(f);switch(h.type){case"insert":a.outbound?yield l.bulkAdd(h.values,g):(g.forEach(((y,v)=>{dt.setByKeyPath(h.values[v],a.keyPath,y)})),yield l.bulkAdd(h.values));break;case"upsert":a.outbound?yield l.bulkPut(h.values,g):(g.forEach(((y,v)=>{dt.setByKeyPath(h.values[v],a.keyPath,y)})),yield l.bulkPut(h.values));break;case"modify":g.length===1?yield l.update(g[0],h.changeSpec):yield l.where(":id").anyOf(g).modify(h.changeSpec);break;case"update":yield Ax(l,g,h.changeSpecs);break;case"delete":yield l.bulkDelete(g)}}}}))}typeof self<"u"&&typeof navigator<"u"&&(al=navigator.onLine,self.addEventListener("online",(()=>al=!0)),self.addEventListener("offline",(()=>al=!1)));const Oo="dexie-cloud-syncer";function A0(n,e){return n.where("i").between(e,1/0,!0).toArray()}function Oa(n,e,r){var o,l,a;if(!n.dx._allTables[e])return;const f=(a=(l=(o=n.table(e))===null||o===void 0?void 0:o.schema.yProps)===null||l===void 0?void 0:l.find((h=>h.prop===r)))===null||a===void 0?void 0:a.updatesTable;return f&&n.dx._allTables[f]?n.table(f):void 0}function R0(n,e){return Te(this,void 0,void 0,(function*(){var r;const o={};let l,a=!1;for(const f of n)try{switch(f.type){case"u-s":{const h=Oa(e,f.table,f.prop);if(h){const g={k:f.k,u:f.u};f.r&&(g.r=f.r,l=f.r),o[h.name]=yield h.add(g)}break}case"u-ack":{const h=Oa(e,f.table,f.prop);h&&(yield e.transaction("rw",h,(g=>Te(this,void 0,void 0,(function*(){let y=yield g.table(h.name).get(Oo);yield g.table(h.name).put(Object.assign(Object.assign({},y||{i:Oo}),{unsentFrom:Math.max((y==null?void 0:y.unsentFrom)||1,f.i+1)}))})))));break}case"u-reject":{const h=Oa(e,f.table,f.prop);if(!h)break;const g=(r=yield h.get(f.i))===null||r===void 0?void 0:r.k;if(g!=null){yield e.transaction("rw",h,(v=>(v.idbtrans._rejecting_y_ypdate=!0,h.where("i").aboveOrEqual(f.i).filter((k=>id(k.k,g)===0&&(1&(k.f||0))==1)).delete())));const y=En.getDocCache(e.dx).find(f.table,g,f.prop);y&&y.destroy()}break}case"in-sync":{const h=En.getDocCache(e.dx).find(f.table,f.k,f.prop);h&&!h.isSynced&&h.emit("sync",[!0,h]);break}case"y-complete-sync-done":l=f.yServerRev;break;case"outdated-server-rev":a=!0}}catch{}return{receivedUntils:o,resyncNeeded:a,yServerRevision:l}}))}const Rx=1,Lx=2,Mx=3;function Ux(n,e,r){return Te(this,arguments,void 0,(function*(o,l,{yDownloadedRealms:a,realms:f}){if(a&&f&&f.every((v=>a[v]==="*")))return;const h=yield pd(o),g={"Content-Type":"application/json",Accept:"application/octet-stream"};h&&(g.Authorization=`Bearer ${h.accessToken}`);const y=yield fetch(`${l}/y/download`,{body:Ba.stringify({downloadedRealms:a||{}}),method:"POST",headers:g,credentials:"include"});if(!y.ok)throw new Error(`Failed to download Yjs documents from server. Status: ${y.status}`);yield(async function(v,...k){var x,S,I;let T=v();for(let q=0;q<k.length;q++)T=k[q](T);try{for(var z,ne=!0,ee=Ch(T);!(x=(z=await ee.next()).done);ne=!0)z.value,ne=!1}catch(q){S={error:q}}finally{try{ne||x||!(I=ee.return)||await I.call(ee)}finally{if(S)throw S.error}}})((function(v){return function(){return Eh(this,arguments,(function*(){if(!v.body)throw new Error("Response body is not readable");const k=v.body.getReader();try{for(;;){const{done:x,value:S}=yield mn(k.read());if(x)return yield mn(void 0);yield yield mn(S)}}finally{k.releaseLock()}}))}})(y),cx,(function(v){return Eh(this,arguments,(function*(){var k,x,S,I;let T=null,z=null,ne=null,ee=[];function q(Ee){return Te(this,void 0,void 0,(function*(){const be=ee[ee.length-1];if(ee.length>0){if(!T||!z||!ne)throw new Error(`Protocol error from ${l}/y/download`);const Re=Oa(o,z,ne);Re&&(yield Re.bulkAdd(ee)),ee=[]}T&&(z&&ne&&be||Ee)&&(yield o.$syncState.update("syncState",(Re=>{const tt=Re.yDownloadedRealms||{};tt[T]=Ee?"*":{tbl:z,prop:ne,key:be.k},Re.yDownloadedRealms=tt})))}))}try{try{for(var se,Se=!0,fe=Ch(v);!(k=(se=yield mn(fe.next())).done);Se=!0){I=se.value,Se=!1;const Ee=new kl(I);for(;Yg(Ee);)switch(ul(Ee)){case Rx:yield mn(q(!0)),T=sr(Ee);break;case Lx:yield mn(q(!1)),z=sr(Ee),ne=sr(Ee);break;case Mx:{const be=Co(Ee),Re=pn(Ee);ee.push({k:be,u:Re});break}}yield mn(q(!1))}}catch(Ee){x={error:Ee}}finally{try{Se||k||!(S=fe.return)||(yield mn(S.call(fe)))}finally{if(x)throw x.error}}yield mn(q(!0))}catch(Ee){throw Ee instanceof dt.DexieError||(yield mn(q(!1))),Ee}}))}))}))}const L0="currentSyncWorker";function yd(n,e,r,o){return M0(n,e,r,o).then((l=>(o!=null&&o.justCheckIfNeeded||n.syncStateChangedEvent.next({phase:"in-sync"}),l))).catch((l=>Te(this,void 0,void 0,(function*(){return o!=null&&o.justCheckIfNeeded?Promise.reject(l):al&&(o!=null&&o.retryImmediatelyOnFetchError)&&(l==null?void 0:l.name)==="TypeError"&&/fetch/.test(l==null?void 0:l.message)?(n.syncStateChangedEvent.next({phase:"error",error:l}),yield new Promise((a=>setTimeout(a,500))),yield yd(n,e,r,Object.assign(Object.assign({},o),{retryImmediatelyOnFetchError:!1}))):(yield n.$syncState.update("syncState",{timestamp:new Date,error:""+l}),n.syncStateChangedEvent.next({phase:al?"error":"offline",error:new Error(""+(l==null?void 0:l.message)||l)}),Promise.reject(l))}))))}function M0(n,e,r){return Te(this,arguments,void 0,(function*(o,l,a,{isInitialSync:f,cancelToken:h,justCheckIfNeeded:g,purpose:y}={isInitialSync:!1}){var v;if(!(!((v=o.cloud.options)===null||v===void 0)&&v.databaseUrl))throw new Error("Internal error: sync must not be called when no databaseUrl is configured");const{databaseUrl:k}=l,x=yield o.getCurrentUser(),S=x.isLoggedIn?Lc(o):[],I=S.map((he=>o.table(fp(he.name)))),T=yield o.getPersistedSyncState(),z=x.isLoggedIn,ne=z?(function(he,me){const F=(me==null?void 0:me.syncedTables)||[];return Lc(he).filter((ue=>!F.includes(ue.name)))})(o,T):[];ka(h);const ee=ne.length>0;if(ee){if(g)return!0;yield o.transaction("rw",ne,(he=>Te(this,void 0,void 0,(function*(){he.idbtrans.disableChangeTracking=!0,he.idbtrans.disableAccessControl=!0,yield(function(me,F,ue){return Te(this,void 0,void 0,(function*(){const le=new Set(ue||[]);for(const D of me)D.name==="members"?yield D.toCollection().modify((Q=>{le.has(Q.realmId)||Q.userId&&Q.userId!==Un.userId||(Q.userId=F.userId)})):D.name==="roles"||(D.name==="realms"?yield D.toCollection().modify((Q=>{le.has(Q.realmId)||Q.owner!==void 0&&Q.owner!==Un.userId||(Q.owner=F.userId)})):yield D.toCollection().modify((Q=>{Q.realmId&&le.has(Q.realmId)||(Q.owner&&Q.owner!==Un.userId||(Q.owner=F.userId),Q.realmId&&Q.realmId!==Un.userId||(Q.realmId=F.userId))})))}))})(ne,x,T==null?void 0:T.realms)})))),ka(h)}const[q,se,Se,{yMessages:fe,lastUpdateIds:Ee}]=yield o.transaction("r",o.tables,(()=>Te(this,void 0,void 0,(function*(){const he=yield o.getPersistedSyncState();let me=yield o.$baseRevs.toArray();me=me.filter((le=>S.some((D=>D.name===le.tableName))));let F=yield Dh(I,o);const ue=yield(function(le,D){return Te(this,void 0,void 0,(function*(){const Q=[],ye={};for(const Oe of D)if(Oe.schema.yProps)for(const Ke of Oe.schema.yProps){const $e=le.table(Ke.updatesTable),Le=yield $e.get(Oo),qe=(Le==null?void 0:Le.unsentFrom)||1,ae=(Le==null?void 0:Le.receivedUntil)||0,et=Math.min(qe,ae+1),_t=yield A0($e,et);_t.length>0&&(ye[$e.name]=_t[_t.length-1].i);const Ve={};for(const ot of _t){const ft=(1&(ot.f||0))==1;if(ft&&ot.i<qe)continue;const vt=JSON.stringify(ot.k)+"/"+ft;let gn=Ve[vt];gn?(gn.u.push(ot.u),gn.i=Math.max(ot.i,gn.i)):(Ve[vt]=gn={i:ot.i,k:ot.k,isLocal:ft,u:[]},gn.u.push(ot.u))}for(const{k:ot,isLocal:ft,u:vt,i:gn}of Object.values(Ve)){const cr=vt.length===1?vt[0]:Vc(vt);if(ft)Q.push({type:"u-c",table:Oe.name,prop:Ke.prop,k:ot,u:cr,i:gn});else{const Fn=Hv(cr);Q.push({type:"sv",table:Oe.name,prop:Ke.prop,k:ot,sv:Fn})}}}return{yMessages:Q,lastUpdateIds:ye}}))})(o,S);if(ka(h),ee){const le=[...(T==null?void 0:T.realms)||[],...(T==null?void 0:T.inviteRealms)||[]],D=yield(function(Q,ye,Oe,Ke){return Te(this,void 0,void 0,(function*(){const $e=`upload-${x0(8)}`;if(ye.isLoggedIn&&Q.length>0){const Le=new Set(Ke||[]);return(yield Promise.all(Q.map((qe=>Te(this,void 0,void 0,(function*(){const{extractKey:ae}=qe.core.schema.primaryKey;if(!ae)return{table:qe.name,muts:[]};const et=Oe[qe.name],_t=et!=null&&et.generatedGlobalId?qe.filter((ot=>{return ae(ot),!Le.has(ot.realmId||"")&&(ft=ae(ot),!(vt=et==null?void 0:et.idPrefix)||typeof ft=="string"&&ft.startsWith(vt));var ft,vt})):qe.filter((ot=>{const ft=ae(ot);return!Le.has(ot.realmId||"")&&up(ft)})),Ve=yield _t.toArray();if(Ve.length>0){const ot={type:"upsert",values:Ve,keys:Ve.map(ae),userId:ye.userId,txid:$e};return{table:qe.name,muts:[ot]}}return{table:qe.name,muts:[]}})))))).filter((qe=>qe.muts.length>0))}return[]}))})(ne,x,a,le);return ka(h),F=F.concat(D),[F,he,me,ue]}return[F,he,me,ue]})))),be=q.some((he=>he.muts.some((me=>me.keys.length>0))))||fe.some((he=>he.type==="u-c"));if(g)return be;if(y==="push"&&!be)return!1;const Re=Lh(q,se==null?void 0:se.latestRevisions),tt=(se==null?void 0:se.clientIdentity)||g0(16);ka(h);const pe=yield Dx(q,fe,se,Se,o,k,a,tt,x),{done:ze,newSyncState:We}=yield o.transaction("rw",o.tables,(he=>Te(this,void 0,void 0,(function*(){he.idbtrans.disableChangeTracking=!0,he.idbtrans.disableAccessControl=!0;for(const D of Object.keys(a))pe.schema[D]&&(a[D]=pe.schema[D]);yield o.$syncState.put(a,"schema");const me=yield Dh(I,o,{since:Re});for(const D of I){const Q=_0(D.name);if(me.some((ye=>ye.table===Q&&ye.muts.length>0))){if(Re[Q]){const ye=Re[Q]||0;yield Promise.all([D.where("rev").belowOrEqual(ye).delete(),o.$baseRevs.where(":id").between([Q,-1/0],[Q,ye+1],!0,!0).reverse().offset(1).delete()])}}else yield Promise.all([D.clear(),o.$baseRevs.where({tableName:Q}).delete()])}Lh(me,Re),yield P0(o,a,Re,pe.serverRevision);const F=yield o.getPersistedSyncState();yield(function(D,Q,ye){return Te(this,void 0,void 0,(function*(){const Oe=new Set,Ke=new Set,$e=ye?ye.realms:[],Le=ye?ye.inviteRealms:[],qe=new Set(Q.realms),ae=new Set(Q.realms.concat(Q.inviteRealms));for(const et of $e)qe.has(et)||(Ke.add(et),ae.has(et)||Oe.add(et));for(const et of Le.concat($e))ae.has(et)||Oe.add(et);if(Oe.size>0||Ke.size>0){const et=Lc(D);for(const _t of et){let Ve=["realms","members","roles"].includes(_t.name)?Oe:Ke;Ve.size!==0&&(_t.schema.indexes.some((ot=>ot.keyPath==="realmId"||Array.isArray(ot.keyPath)&&ot.keyPath[0]==="realmId"))?yield _t.where("realmId").anyOf([...Ve]).delete():yield _t.filter((ot=>!!(ot!=null&&ot.realmId)&&Ve.has(ot.realmId))).delete())}}if(Ke.size>0&&(ye!=null&&ye.yDownloadedRealms))for(const et of Ke)delete ye.yDownloadedRealms[et]}))})(o,pe,F);const ue=F||{syncedTables:[],latestRevisions:{},realms:[],inviteRealms:[],clientIdentity:tt};z&&(ue.syncedTables=S.map((D=>D.name)).concat(ne.map((D=>D.name)))),ue.latestRevisions=Re,ue.remoteDbId=pe.dbId,ue.initiallySynced=!0,ue.realms=pe.realms,ue.inviteRealms=pe.inviteRealms,ue.serverRevision=pe.serverRevision,ue.yServerRevision=pe.serverRevision,ue.timestamp=new Date,delete ue.error;const le=U0(pe.changes,me);if(yield D0(le,o),pe.yMessages){const{receivedUntils:D,resyncNeeded:Q,yServerRevision:ye}=yield R0(pe.yMessages,o);ye&&(ue.yServerRevision=ye),yield(function(Oe,Ke,$e){return Te(this,void 0,void 0,(function*(){var Le,qe,ae,et,_t;const Ve={};for(const[ft,vt]of Object.entries(Oe))(Le=Ve[ft])!==null&&Le!==void 0||(Ve[ft]={}),Ve[ft].unsentFrom=vt+1;for(const[ft,vt]of Object.entries(Ke))(qe=Ve[ft])!==null&&qe!==void 0||(Ve[ft]={}),Ve[ft].receivedUntil=vt;const ot=Object.values($e.dx._dbSchema).filter((ft=>ft.yProps)).map((ft=>ft.yProps.map((vt=>vt.updatesTable)))).flat();for(const ft of ot){const vt=Ve[ft],gn=(ae=vt==null?void 0:vt.unsentFrom)!==null&&ae!==void 0?ae:1,cr=(_t=(et=vt==null?void 0:vt.receivedUntil)!==null&&et!==void 0?et:(yield $e.table(ft).where("i").between(1,1/0).reverse().limit(1).primaryKeys())[0])!==null&&_t!==void 0?_t:0;yield $e.transaction("rw",ft,(()=>Te(this,void 0,void 0,(function*(){const Fn=yield $e.table(ft).get(Oo);Fn?(Fn.unsentFrom=Math.max(gn,Fn.unsentFrom||1),Fn.receivedUntil=Math.max(cr,Fn.receivedUntil||0),yield $e.table(ft).put(Fn)):yield $e.table(ft).add({i:Oo,unsentFrom:gn,receivedUntil:cr})}))))}}))})(Ee,D,o),Q&&(ue.yDownloadedRealms={})}return o.$syncState.put(ue,"syncState"),{done:me.length===0,newSyncState:ue}}))));if(!ze)return yield N0(o),yield M0(o,l,a,{isInitialSync:f,cancelToken:h});const He=Object.values(a).some((he=>{var me;return(me=he.yProps)===null||me===void 0?void 0:me.length})),Be=!!pe.yMessages;if(He&&Be)try{yield Ux(o,k,We)}catch{}return o.syncCompleteEvent.next(),!1}))}function U0(n,e){const r={};tg(r,n);const o={};return tg(o,e),(function(l,a){var f,h,g;for(const[y,v]of Object.entries(a))for(const[k,x]of Object.entries(v))switch(x.type){case"ups":{const S=(f=l[y])===null||f===void 0?void 0:f[k];if(S)switch(S.type){case"ups":case"upd":delete l[y][k]}}break;case"del":(h=l[y])===null||h===void 0||delete h[k];break;case"upd":{const S=(g=l[y])===null||g===void 0?void 0:g[k];if(S)switch(S.type){case"ups":for(const[I,T]of Object.entries(x.mod))Jc(S.val,I,T);break;case"del":break;case"upd":for(const I of Object.keys(x.mod))delete S.mod[I]}break}}})(r,o),(function(l,a=""){a||(a=g0(16));const f={};for(const[g,y]of Object.entries(l))for(const[v,k]of Object.entries(y)){const x=f[g]||(f[g]={});(x[k.type]||(x[k.type]=[])).push(Object.assign({key:v},k))}const h=[];for(const[g,y]of Object.entries(f)){const v={table:g,muts:[]};for(const[k,x]of Object.entries(y))switch(k){case"ups":{const S={type:"upsert",keys:x.map((I=>I.key)),values:x.map((I=>I.val)),txid:a};v.muts.push(S);break}case"upd":{const S={type:"update",keys:x.map((I=>I.key)),changeSpecs:x.map((I=>I.mod)),txid:a};v.muts.push(S);break}case"del":{const S={type:"delete",keys:x.map((I=>I.key)),txid:a};v.muts.push(S);break}}h.push(v)}return h})(r)}const zx=10,Fx=1e4,Bx=1e3;function $x(n){const e=[],r=new Er(!0),o=new Er(null);let l=!1,a=new Array(zx).fill(0);return o.subscribe((()=>Te(this,void 0,void 0,(function*(){if(!l&&e.length>0){l=!0,a.shift(),a.push(Date.now()),r.next(!1);try{yield(function(){return Te(this,void 0,void 0,(function*(){for(var f,h,g,y,v,k;e.length>0;){const x=e.shift();try{yield as(n.cloud.syncState.pipe(ir((({phase:I})=>I==="in-sync"||I==="error"))));const S=n.cloud.persistedSyncState.value;if(!x)continue;switch(x.type){case"token-expired":const I=n.cloud.currentUser.value,T=yield md(n.cloud.options.databaseUrl,I);yield n.table("$logins").update(I.userId,{accessToken:T.accessToken,accessTokenExpiration:T.accessTokenExpiration,claims:T.claims,license:T.license,data:T.data});break;case"realm-added":!((f=S==null?void 0:S.realms)===null||f===void 0)&&f.includes(x.realm)||!((h=S==null?void 0:S.inviteRealms)===null||h===void 0)&&h.includes(x.realm)||(yield n.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-accepted":!((g=S==null?void 0:S.realms)===null||g===void 0)&&g.includes(x.realm)||(yield n.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-removed":(!((y=S==null?void 0:S.realms)===null||y===void 0)&&y.includes(x.realm)||!((v=S==null?void 0:S.inviteRealms)===null||v===void 0)&&v.includes(x.realm))&&(yield n.cloud.sync({purpose:"pull",wait:!0}));break;case"realms-changed":yield n.cloud.sync({purpose:"pull",wait:!0});break;case"changes":if(((k=n.cloud.syncState.value)===null||k===void 0?void 0:k.phase)==="error"){ji(n,"pull");break}yield n.transaction("rw",n.dx.tables,(z=>Te(this,void 0,void 0,(function*(){z.idbtrans.disableChangeTracking=!0,z.idbtrans.disableAccessControl=!0;const[ne,ee,q]=yield Promise.all([n.getSchema(),n.getPersistedSyncState(),n.getCurrentUser()]);if(!ee||!ne||!q)return;if(x.baseRev!==ee.serverRevision)return void(typeof x.baseRev!="string"||typeof ee.serverRevision!="bigint"&&typeof ee.serverRevision!="object"||ji(n,"pull"));if((yield dt.waitFor(Ph(ee)))!==x.realmSetHash)return void ji(n,"pull");let se=[];if(q.isLoggedIn){const Se=Lc(n).map((fe=>n.table(fp(fe.name))));se=yield Dh(Se,n)}if(x.changes.length>0){const Se=U0(x.changes,se);yield D0(Se,n)}ee.latestRevisions=Lh(se,ee.latestRevisions),ee.serverRevision=x.newRev,yield P0(n,ne,ee.latestRevisions,x.newRev),yield n.$syncState.put(ee,"syncState")}))))}}catch{}}}))})()}finally{a[a.length-1]-a[0]<Fx&&(yield new Promise((f=>setTimeout(f,Bx)))),l=!1,r.next(!0)}}})))),{enqueue:function(f){e.push(f),o.next(null)},readyToServe:r}}const ug=new WeakMap,Ec={members:"@id, [userId+realmId], [email+realmId], realmId",roles:"[realmId+name]",realms:"@realmId",$jobs:"",$syncState:"",$baseRevs:"[tableName+clientRev]",$logins:"claims.sub, lastLogin"};let Kx=0;function Ci(n){"vip"in n&&(n=n.vip);let e=ug.get(n.cloud);if(!e){const r=new fs;let o=new Sc(`syncstatechanged-${n.name}`),l=new Sc(`synccomplete-${n.name}`);r.id=++Kx;let a=!1;e={get name(){return n.name},close:()=>n.close(),transaction:n.transaction.bind(n),table:n.table.bind(n),get tables(){return n.tables},cloud:n.cloud,get $jobs(){return n.table("$jobs")},get $syncState(){return n.table("$syncState")},get $baseRevs(){return n.table("$baseRevs")},get $logins(){return n.table("$logins")},get realms(){return n.realms},get members(){return n.members},get roles(){return n.roles},get initiallySynced(){return a},localSyncEvent:r,get syncStateChangedEvent(){return o},get syncCompleteEvent(){return l},dx:n},Object.assign(e,{getCurrentUser:()=>e.$logins.toArray().then((h=>h.find((g=>g.isLoggedIn))||Un)),getPersistedSyncState:()=>e.$syncState.get("syncState"),getSchema:()=>e.$syncState.get("schema").then((h=>{if(h)for(const y of e.tables)y.schema.primKey&&y.schema.primKey.keyPath&&h[y.name]&&(h[y.name].primaryKey=typeof(g=y.schema.primKey.keyPath)=="string"?g:g?"["+[].join.call(g,"+")+"]":"");var g;return h})),getOptions:()=>e.$syncState.get("options"),setInitiallySynced(h){a=h},reconfigure(){o=new Sc(`syncstatechanged-${n.name}`),l=new Sc(`synccomplete-${n.name}`)}}),e.messageConsumer=$x(e),e.messageProducer=new fs,ug.set(n.cloud,e)}return e}const Vx=typeof InstallTrigger<"u",z0=typeof navigator<"u"&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\/|Edge\//.test(navigator.userAgent),Wx=z0?[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]:NaN,Hx=z0&&Wx<=605||Vx,qx=typeof self<"u"&&"clients"in self&&!self.document,{toString:Gx}={};function cg(n){return Gx.call(n).slice(8,-1)}function lh(n,e){var r;return e.type==="delete"?e.keys:((r=e.keys)===null||r===void 0?void 0:r.slice())||e.values.map(n.extractKey)}const Yx=/b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|x|y|z/i;let Ii=0;function F0(n,e){const r=new Uint8Array(18),o=new Uint8Array(r.buffer,0,6),l=Date.now();Ii>=l?++Ii:Ii=l,o[0]=Ii/1099511627776,o[1]=Ii/4294967296,o[2]=Ii/16777216,o[3]=Ii/65536,o[4]=Ii/256,o[5]=Ii;const a=new Uint8Array(r.buffer,6);return crypto.getRandomValues(a),n+E0(new Uint8Array(r.buffer))+(e||"")}function Qx(n){return{stack:"dbcore",name:"idGenerationMiddleware",level:1,create:e=>Object.assign(Object.assign({},e),{table:r=>{const o=e.table(r);return Object.assign(Object.assign({},o),{mutate:l=>{var a,f;const h=l.trans;if(h.mode==="versionchange"&&(h.disableChangeTracking=!0,h.disableAccessControl=!0),h.disableChangeTracking)return o.mutate(l);if(l.type==="add"||l.type==="put"){const g=(a=n.cloud.schema)===null||a===void 0?void 0:a[r];if(g!=null&&g.generatedGlobalId){if(!((f=n.cloud.options)===null||f===void 0)&&f.databaseUrl&&!n.initiallySynced){const y=lh(o.schema.primaryKey,l);return o.getMany({keys:y,trans:l.trans,cache:"immutable"}).then((v=>{if(v.length<y.length)throw new Error("Unable to create new objects without an initial sync having been performed.");return o.mutate(l)}))}return(function(y,v){let k=null;const x=lh(o.schema.primaryKey,y);return x.forEach(((S,I)=>{if(S===void 0){const T=y.values[I].realmId||n.cloud.currentUserId,z=T.substr(T.length-3);x[I]=F0(v,z),o.schema.primaryKey.outbound||(k||(k=y.values.slice()),k[I]=dt.deepClone(k[I]),dt.setByKeyPath(k[I],o.schema.primaryKey.keyPath,x[I]))}else if(typeof S!="string"||!S.startsWith(v)&&!S.startsWith("#"+v))throw new dt.ConstraintError(`The ID "${S}" is not valid for table "${r}". Primary '@' keys requires the key to be prefixed with "${v}" (or "#${v}).
If you want to generate IDs programmatically, remove '@' from the schema to get rid of this constraint. Dexie Cloud supports custom IDs as long as they are random and globally unique.`)})),o.mutate(Object.assign(Object.assign({},y),{keys:x,values:k||y.values}))})(l,g.idPrefix)}g!=null&&g.markedForSync&&lh(o.schema.primaryKey,l).forEach(((y,v)=>{if(!up(y)){const k=Array.isArray(y)?y.map(cg).join(","):cg(y);throw new dt.ConstraintError(`Invalid primary key type ${k} for table ${r}. Tables marked for sync has primary keys of type string or Array of string (and optional numbers)`)}}))}return o.mutate(l)}})}})}}let Jx=0;function _a(n,e){return function(r){const{readers:o,writers:l}=r.trans[e]||(r.trans[e]={writers:[],readers:[]}),a=l.length,f=(a>0?l[a-1].then((()=>n(r)),(()=>n(r))):n(r)).finally((()=>{o.splice(o.indexOf(f))}));return o.push(f),f}}function Xx(n,e){return function(r){const{readers:o,writers:l}=r.trans[e]||(r.trans[e]={writers:[],readers:[]});let a=(l.length>0?l[l.length-1].then((()=>n(r)),(()=>n(r))):o.length>0?(f=o,new Promise((h=>{f.length===0&&h([]);let g=f.length;const y=new Array(g);f.forEach(((v,k)=>Promise.resolve(v).then((x=>y[k]={status:"fulfilled",value:x}),(x=>y[k]={status:"rejected",reason:x})).then((()=>--g||h(y)))))}))).then((()=>n(r))):n(r)).finally((()=>{l.shift()}));var f;return l.push(a),a}}const Zs=new Er(new Set);function $a(n){var e,r,o,l;return((e=n.cloud.options)===null||e===void 0?void 0:e.disableEagerSync)||((o=(r=n.cloud.currentUser.value)===null||r===void 0?void 0:r.license)===null||o===void 0?void 0:o.status)!=="ok"||!(!((l=n.cloud.options)===null||l===void 0)&&l.databaseUrl)}function Zx({currentUserObservable:n,db:e}){return{stack:"dbcore",name:"MutationTrackingMiddleware",level:1,create:r=>{const o=new Set(r.schema.tables.map((f=>f.name))),l=r.schema.tables.filter((f=>!/^\$/.test(f.name))),a=new Map;for(const f of l){const h=`$${f.name}_mutations`;o.has(h)&&a.set(f.name,r.table(h))}return Object.assign(Object.assign({},r),{transaction:(f,h)=>{let g;if(h==="readwrite"){const y=f.filter((v=>{var k,x;return(x=(k=e.cloud.schema)===null||k===void 0?void 0:k[v])===null||x===void 0?void 0:x.markedForSync})).map((v=>fp(v)));g=r.transaction([...f,...y],h)}else g=r.transaction(f,h);if(h==="readwrite"){g.txid=x0(16),g.opCount=0,g.currentUser=n.value,Zs.value.add(g),Zs.next(Zs.value);const y=()=>{g.removeEventListener("complete",v),g.removeEventListener("error",y),g.removeEventListener("abort",y),Zs.value.delete(g),Zs.next(Zs.value)},v=()=>{g.mutationsAdded&&!$a(e)&&ji(e,"push"),y()};g.addEventListener("complete",v),g.addEventListener("error",y),g.addEventListener("abort",y)}return g},table:f=>{const h=r.table(f);if(/^\$/.test(f))return f.endsWith("_mutations")?Object.assign(Object.assign({},h),{mutate:k=>(k.type!=="add"&&k.type!=="put"||(k.trans.mutationsAdded=!0),h.mutate(k))}):f==="$logins"?Object.assign(Object.assign({},h),{mutate:k=>h.mutate(k).then((x=>(k.trans.mutationsAdded=!0,x))).catch((x=>Promise.reject(x)))}):h;const{schema:g}=h,y=a.get(f);return y?(function(k){const x="$lock"+ ++Jx;return Object.assign(Object.assign({},k),{count:_a(k.count,x),get:_a(k.get,x),getMany:_a(k.getMany,x),openCursor:_a(k.openCursor,x),query:_a(k.query,x),mutate:Xx(k.mutate,x)})})(Object.assign(Object.assign({},h),{mutate:k=>{var x,S,I;const T=k.trans;return T.txid?T.disableChangeTracking?h.mutate(k):!((S=(x=e.cloud.schema)===null||x===void 0?void 0:x[f])===null||S===void 0)&&S.markedForSync&&(!((I=T.currentUser)===null||I===void 0)&&I.isLoggedIn)?k.type==="deleteRange"?h.query({query:{range:k.range,index:g.primaryKey},trans:k.trans,values:!1}).then((z=>v({type:"delete",keys:z.result,trans:k.trans,criteria:{index:null,range:k.range}}))):v(k):h.mutate(k):h.mutate(k)}})):h;function v(k){var x,S;const I=k.trans,T=(S=(x=e.cloud.options)===null||x===void 0?void 0:x.unsyncedProperties)===null||S===void 0?void 0:S[f],{txid:z,currentUser:{userId:ne}}=I,{type:ee}=k,q=++I.opCount;function se(Se){if(!T)return Se;let fe=Se;for(const Ee of Object.keys(Se))T.some((be=>Ee===be||Ee.startsWith(be+".")))&&(fe===Se&&(fe=Object.assign({},Se)),delete fe[Ee]);return fe}return h.mutate(k).then((Se=>{var fe;const{numFailures:Ee,failures:be}=Se;let Re=ee==="delete"?k.keys:Se.results,tt="values"in k?k.values:[],pe="changeSpec"in k?k.changeSpec:void 0,ze="updates"in k?k.updates:void 0,We=!(!ze||!("upsert"in k))&&k.upsert;if(Ee&&(Re=Re.filter(((me,F)=>!be[F])),tt=tt.filter(((me,F)=>!be[F]))),T){if(tt=tt.map((me=>{const F=Object.assign({},me);for(const ue of T)delete F[ue];return F})),pe&&(pe=se(pe),Object.keys(pe).length===0))return Se;if(ze){let me=ze.changeSpecs.map(se),F={keys:[],changeSpecs:[]};const ue=new Ob;let le=!1;if(!We){for(let D=0,Q=me.length;D<Q;++D)Object.keys(me[D]).length>0?(F.keys.push(ze.keys[D]),F.changeSpecs.push(me[D]),ue.addKey(ze.keys[D])):le=!0;if(ze=F,le){let D=[],Q=[];for(let ye=0,Oe=Re.length;ye<Oe;++ye)ue.hasKey(Re[ye])&&(D.push(Re[ye]),Q.push(tt[ye]));Re=D,tt=Q}}}}const He=Date.now();let Be="criteria"in k&&k.criteria?Object.assign(Object.assign({},k.criteria),{index:k.criteria.index===g.primaryKey.keyPath?null:k.criteria.index}):void 0;if(T&&(Be!=null&&Be.index)){const me=(fe=g.indexes.find((F=>F.name===Be.index)))===null||fe===void 0?void 0:fe.keyPath;(me?typeof me=="string"?[me]:me:[]).some((F=>T==null?void 0:T.includes(F)))&&(Be=void 0)}const he=k.type==="delete"?{type:"delete",ts:He,opNo:q,keys:Re,criteria:Be,txid:z,userId:ne}:k.type==="add"?{type:"insert",ts:He,opNo:q,keys:Re,txid:z,userId:ne,values:tt}:We?{type:"upsert",ts:He,opNo:q,keys:Re,values:tt,changeSpecs:ze.changeSpecs.filter(((me,F)=>!be[F])),txid:z,userId:ne}:Be&&pe?{type:"modify",ts:He,opNo:q,keys:Re,criteria:Be,changeSpec:pe,txid:z,userId:ne}:pe?{type:"update",ts:He,opNo:q,keys:Re,changeSpecs:Re.map((()=>pe)),txid:z,userId:ne}:ze?{type:"update",ts:He,opNo:q,keys:ze.keys,changeSpecs:ze.changeSpecs,txid:z,userId:ne}:{type:"upsert",ts:He,opNo:q,keys:Re,values:tt,txid:z,userId:ne};return"isAdditionalChunk"in k&&k.isAdditionalChunk&&(he.isAdditionalChunk=!0),Re.length>0||Be?y.mutate({type:"add",trans:I,values:[he]}).then((()=>(I.mutationsAdded=!0,Se))):Se}))}}})}}}function eS(n,e){return function(r,o){var l;const a=Object.assign(Object.assign({},Ec),r);Object.keys(Ec).forEach((y=>{const v=a[y];if(v==null)throw new Error(`Cannot delete table ${y} as it is needed for access control of Dexie Cloud`);if(!r[y])return;const k=v.split(",").map((I=>I.trim())),x=Ec[y].split(",").map((I=>I.trim())),S=new Set(k.map((I=>I.replace(/([&*]|\+\+)/g,""))));if(k[0]!==x[0])throw new Error(`Cannot override primary key of table ${y}. Please declare it as {${y}: ${JSON.stringify(Ec[y])}`);for(let I=1;I<x.length;++I){const T=x[I];S.has(T.replace(/([&*]|\+\+)/g,""))||(a[y]+=`,${T}`)}}));const f=e.cloud.schema||(e.cloud.schema={}),h=new Set;Object.keys(a).forEach((y=>{const v=a[y],k=f[y]||(f[y]={});v!=null?(/^\@/.test(v)&&(a[y]=a[y].substr(1),k.generatedGlobalId=!0,k.idPrefix=(function(x,S){let I=x[0].toLocaleLowerCase();for(let ee=1,q=x.length;ee<q&&I.length<3;++ee)(Yx.test(x[ee])||(T=x[ee])>="A"&&T<="Z")&&(I+=x[ee].toLowerCase());for(var T,z,ne;S.has(I);){if(/\d/g.test(I)){if(I=I.substr(0,I.length-1)+(I[I.length-1]+1),!(I.length>3))continue;I=I.substr(0,3)}else if(I.length<3){I+="2";continue}let ee=1,q=I;for(;S.has(q)&&ee<8;)z=I,q=(1&(ne=ee)?z[0].toUpperCase():z[0].toLowerCase())+(2&ne?z[1].toUpperCase():z[1].toLowerCase())+(4&ne?z[2].toUpperCase():z[2].toLowerCase()),++ee;if(ee<8)I=q;else{let se=I.charCodeAt(2)+1&127;I=I.substr(0,2)+String.fromCharCode(se)}}return I})(y,h),h.add(k.idPrefix)),/^\$/.test(y)||(a[`$${y}_mutations`]="++rev",k.markedForSync=!0),k.deleted&&(k.deleted=!1)):(k.deleted=!0,k.markedForSync=!1,a[`$${y}_mutations`]=null)}));const g=n.call(this,a,o);for(const[y,v]of Object.entries(o))if(!((l=v.yProps)===null||l===void 0)&&l.length){const k=f[y];k&&(k.yProps=v.yProps.map((x=>x.prop)))}return g}}function B0(n,e,r){return typeof navigator<"u"&&navigator.locks?navigator.locks.request(n.name+"|"+e,(()=>r())):r()}const ja=new Er(!0),Mh=new Er(!0);ja.pipe(Sn((n=>n?Ni(!0):Ni(!1).pipe(gv(2e4)))),vv()).subscribe(Mh);const $0=typeof document<"u"?qr(document,"visibilitychange"):Ni({}),tS=$0.pipe(ir((()=>document.visibilityState==="hidden"))),nS=$0.pipe(ir((()=>document.visibilityState==="visible"))),K0=typeof window<"u"?ad(nS,qr(window,"mousedown"),qr(window,"mousemove"),qr(window,"keydown"),qr(window,"wheel"),qr(window,"touchmove")):Ni({});typeof document<"u"&&ad(Ni(!0),tS,K0).pipe(Wn((()=>document.visibilityState==="visible")),vh((n=>{ja.value!==n&&ja.next(n)})),Sn((n=>n?Ni(0).pipe(gv(16e4),vh((()=>ja.next(!1)))):Ni(0)))).subscribe((()=>{}));class rS extends Error{constructor(){super(...arguments),this.name="TokenExpiredError"}}const V0=new WeakMap,dg=new WeakMap;function W0(n){let e=dg.get(n);return e||(e=new fs,dg.set(n,e)),e}class iS extends Jt{constructor(e,r,o,l,a,f,h,g){super((y=>new sS(e,r,o,l,a,g,y,f,h)))}}let oS=0;class sS extends _l{constructor(e,r,o,l,a,f,h,g,y){super((()=>this.teardown())),this.id=++oS,this.subscriptions=new Set,this.reconnecting=!1,this.db=e,this.databaseUrl=e.cloud.options.databaseUrl,this.rev=r,this.yrev=o,this.realmSetHash=l,this.clientIdentity=a,this.user=f,this.subscriber=h,this.lastUserActivity=new Date,this.messageProducer=g,this.webSocketStatus=y,this.connect()}teardown(){this.disconnect()}disconnect(){if(this.webSocketStatus.next("disconnected"),this.pinger&&(clearInterval(this.pinger),this.pinger=null),this.ws)try{this.ws.close()}catch{}this.ws=null;for(const e of this.subscriptions)e.unsubscribe();this.subscriptions.clear()}reconnect(){if(!this.reconnecting){this.reconnecting=!0;try{this.disconnect()}catch{}this.connect().catch((()=>{})).then((()=>this.reconnecting=!1))}}connect(){return Te(this,void 0,void 0,(function*(){if(this.lastServerActivity=new Date,this.pauseUntil&&this.pauseUntil>new Date)return;if(this.ws)throw new Error("Called connect() when a connection is already open");if(!this.databaseUrl)throw new Error("Cannot connect without a database URL");if(this.closed)return;const e=this.user.accessTokenExpiration;if(e&&e<new Date)return void this.subscriber.error(new rS);this.webSocketStatus.next("connecting"),this.pinger=setInterval((()=>Te(this,void 0,void 0,(function*(){if(this.closed)this.teardown();else if(this.ws)try{this.ws.send(JSON.stringify({type:"ping"})),setTimeout((()=>{this.pinger&&(this.closed?this.teardown():this.lastServerActivity<new Date(Date.now()-2e4)&&this.reconnect())}),2e4)}catch{this.reconnect()}else this.reconnect()}))),3e4);const r=new URL(this.databaseUrl);r.protocol=r.protocol==="http:"?"ws":"wss";const o=new URLSearchParams;if(this.subscriber.closed)return;o.set("v","2"),this.rev&&o.set("rev",this.rev),this.yrev&&o.set("yrev",this.yrev),o.set("realmsHash",this.realmSetHash),o.set("clientId",this.clientIdentity),o.set("dxcv",this.db.cloud.version),this.user.accessToken&&o.set("token",this.user.accessToken);const l=this.ws=new WebSocket(`${r}/changes?${o}`);l.binaryType="arraybuffer",l.onclose=a=>{this.pinger&&this.reconnect()},l.onmessage=a=>{if(this.pinger){this.lastServerActivity=new Date;try{const f=typeof a.data=="string"?Ba.parse(a.data):(function(h){const g=new kl(h),y=sr(g);if(y==="outdated-server-rev")return{type:y};if(y==="y-complete-sync-done")return{type:y,yServerRev:sr(g)};const v=sr(g),k=sr(g);switch(y){case"u-ack":case"u-reject":return{type:y,table:v,prop:k,i:Number(xy(g))};default:{const x=Co(g);switch(y){case"in-sync":case"doc-close":return{type:y,table:v,prop:k,k:x};case"aware":return{type:y,table:v,prop:k,k:x,u:pn(g)};case"doc-open":return{type:y,table:v,prop:k,k:x,serverRev:Co(g),sv:Co(g)};case"sv":return{type:y,table:v,prop:k,k:x,sv:pn(g)};case"u-c":return{type:y,table:v,prop:k,k:x,u:pn(g),i:Number(xy(g))};case"u-s":return{type:y,table:v,prop:k,k:x,u:pn(g),r:g.pos<g.arr.length&&sr(g)||void 0};default:throw new TypeError(`Unknown message type: ${y}`)}}}})(new Uint8Array(a.data));if(f.type==="error")throw new Error(`Error message from dexie-cloud: ${f.error}`);if(f.type==="aware"){const h=En.getDocCache(this.db.dx).find(f.table,f.k,f.prop);if(h){const g=(y=>V0.get(y))(h);g&&ox(g,f.u,"server")}}else if(f.type!=="pong")if(f.type==="doc-open"){const h=En.getDocCache(this.db.dx).find(f.table,f.k,f.prop);h&&W0(h).next()}else f.type==="u-ack"||f.type==="u-reject"||f.type==="u-s"||f.type==="in-sync"||f.type==="outdated-server-rev"||f.type==="y-complete-sync-done"?R0([f],this.db).then((h=>Te(this,[h],void 0,(function*({resyncNeeded:g,yServerRevision:y,receivedUntils:v}){if(y&&(yield this.db.$syncState.update("syncState",{yServerRevision:y})),f.type==="u-s"&&v){const k=Oa(this.db,f.table,f.prop);if(k){const x=v[k.name];x&&(yield k.update(Oo,{receivedUntil:x}))}}g&&(yield this.db.cloud.sync({purpose:"pull",wait:!0}))})))):this.subscriber.next(f)}catch(f){this.subscriber.error(f)}}};try{let a=!1;yield new Promise(((f,h)=>{l.onopen=g=>{a=!0,f(null)},l.onerror=g=>{if(a)this.reconnect();else{const y=g.error||new Error("WebSocket Error");this.subscriber.error(y),this.webSocketStatus.next("error"),h(y)}}})),this.subscriptions.add(this.messageProducer.subscribe((f=>{var h,g;this.closed||(f.type==="ready"&&this.webSocketStatus.value!=="connected"&&this.webSocketStatus.next("connected"),f.type==="ready"?(this.rev=f.rev,(h=this.ws)===null||h===void 0||h.send(Ba.stringify(f))):(g=this.ws)===null||g===void 0||g.send((function(y){const v=new wl;switch(or(v,y.type),"table"in y&&or(v,y.table),"prop"in y&&or(v,y.prop),y.type){case"u-ack":case"u-reject":vy(v,BigInt(y.i));break;case"outdated-server-rev":break;case"y-complete-sync-done":or(v,y.yServerRev);break;default:switch(Eo(v,y.k),y.type){case"aware":hn(v,y.u);break;case"doc-open":Eo(v,y.serverRev),Eo(v,y.sv);break;case"doc-close":break;case"sv":hn(v,y.sv);break;case"u-c":hn(v,y.u),vy(v,BigInt(y.i));break;case"u-s":hn(v,y.u),or(v,y.r||"")}}return Hn(v)})(f)))}))),this.user.isLoggedIn&&!$a(this.db)&&this.subscriptions.add((function(f){const h=hp(f.tables.filter((g=>{var y,v;return((v=(y=f.cloud.schema)===null||y===void 0?void 0:y[g.name])===null||v===void 0?void 0:v.markedForSync)&&g.schema.yProps})).map((g=>g.schema.yProps.map((y=>({table:g.name,ydocProp:y.prop,updatesTable:y.updatesTable}))))));return ad(...h.map((({table:g,ydocProp:y,updatesTable:v})=>{const k=f.table(v);return Gn(k.get(Oo)).pipe(Sn((x=>{let S=(x==null?void 0:x.unsentFrom)||1;return Gn(So((()=>Te(this,void 0,void 0,(function*(){return(yield A0(k,S)).filter((I=>I.f&&1&I.f)).map((I=>({type:"u-c",table:g,prop:y,k:I.k,u:I.u,i:I.i})))}))))).pipe(vh((I=>{I.length>0&&(S=I.at(-1).i+1)})))})))}))).pipe(tu((g=>g)))})(this.db).subscribe(this.db.messageProducer))}catch{this.pauseUntil=new Date(Date.now()+6e4)}}))}}class lS extends Error{constructor(e){super(e==="expired"?"License expired":e==="deactivated"?"User deactivated":"Invalid license"),this.name="InvalidLicenseError",e&&(this.license=e)}}function aS(n){return Te(this,void 0,void 0,(function*(){var e;yield(e=3e3,new Promise((r=>setTimeout(r,e)))),yield as(K0)}))}function fg(n){return Te(this,void 0,void 0,(function*(){var e;return!(!(!((e=n.cloud.options)===null||e===void 0)&&e.databaseUrl)||!n.cloud.schema)&&(yield yd(n,n.cloud.options,n.cloud.schema,{justCheckIfNeeded:!0}))}))}const Cc=new WeakMap;function H0(n,e,r,o){const l=Cc.get(n);if(l){if(l.pull||(o==null?void 0:o.purpose)==="push")return l.promise;{let f=!1;const h=n.cloud.syncState.subscribe((g=>{g.phase==="pulling"&&(f=!0)}));return l.promise.then((()=>{h.unsubscribe()})).catch((g=>(h.unsubscribe(),Promise.reject(g)))).then((()=>{if(!f)return H0(n,e,r,o)}))}}const a=(function(){return Te(this,void 0,void 0,(function*(){try{yield N0(n),yield B0(n,L0,(()=>yd(n,e,r,o))),Cc.delete(n)}catch(f){throw Cc.delete(n),f}}))})();return Cc.set(n,{promise:a,pull:(o==null?void 0:o.purpose)!=="push"}),a}const uS=1e3;function cS(n,e,r){let o=null,l={cancelled:!1},a=0,f=0;function h(x=1){setTimeout((()=>{const S=g?"pull":"push";f=Date.now(),H0(n,e,r,{cancelToken:l,retryImmediatelyOnFetchError:!0,purpose:S}).then((()=>{if(l.cancelled)k();else if(g||y)return g=!1,y=!1,h();v=!1,a=0,f=0})).catch((I=>{if(l.cancelled)k(),v=!1,a=0,f=0;else if(x<5){const T=[0,20,40,300,900][x]*uS;a=Date.now()+T,f=0,setTimeout((()=>h(x+1)),T)}else v=!1,a=0,f=0}))}),0)}let g=!1,y=!1,v=!1;const k=()=>{l.cancelled=!0,o&&o.unsubscribe()};return{start:()=>{o=n.localSyncEvent.subscribe((({purpose:x})=>{(S=>{l.cancelled||(S==="pull"&&(g=!0),S==="push"&&(y=!0),v?a||f>0&&Date.now():(v=!0,h()))})(x||"pull")}))},stop:k}}function ah(n,e){if(n&&e&&e.unsyncedTables)for(const r of e.unsyncedTables)n[r]&&(n[r].markedForSync=!1)}var gd,lt,q0,Ta,hg,Xc={},G0=[],dS=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function xo(n,e){for(var r in e)n[r]=e[r];return n}function Y0(n){var e=n.parentNode;e&&e.removeChild(n)}function Gt(n,e,r){var o,l,a,f={};for(a in e)a=="key"?o=e[a]:a=="ref"?l=e[a]:f[a]=e[a];if(arguments.length>2&&(f.children=arguments.length>3?gd.call(arguments,2):r),typeof n=="function"&&n.defaultProps!=null)for(a in n.defaultProps)f[a]===void 0&&(f[a]=n.defaultProps[a]);return Mc(n,f,o,l,null)}function Mc(n,e,r,o,l){var a={type:n,props:e,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++q0};return l==null&&lt.vnode!=null&&lt.vnode(a),a}function yl(n){return n.children}function Na(n,e){this.props=n,this.context=e}function gl(n,e){if(e==null)return n.__?gl(n.__,n.__.__k.indexOf(n)+1):null;for(var r;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null)return r.__e;return typeof n.type=="function"?gl(n):null}function Q0(n){var e,r;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null){n.__e=n.__c.base=r.__e;break}return Q0(n)}}function pg(n){(!n.__d&&(n.__d=!0)&&Ta.push(n)&&!Zc.__r++||hg!==lt.debounceRendering)&&((hg=lt.debounceRendering)||setTimeout)(Zc)}function Zc(){for(var n;Zc.__r=Ta.length;)n=Ta.sort((function(e,r){return e.__v.__b-r.__v.__b})),Ta=[],n.some((function(e){var r,o,l,a,f,h;e.__d&&(f=(a=(r=e).__v).__e,(h=r.__P)&&(o=[],(l=xo({},a)).__v=a.__v+1,pp(h,a,l,r.__n,h.ownerSVGElement!==void 0,a.__h!=null?[f]:null,o,f??gl(a),a.__h),ew(o,a),a.__e!=f&&Q0(a)))}))}function J0(n,e,r,o,l,a,f,h,g,y){var v,k,x,S,I,T,z,ne=o&&o.__k||G0,ee=ne.length;for(r.__k=[],v=0;v<e.length;v++)if((S=r.__k[v]=(S=e[v])==null||typeof S=="boolean"?null:typeof S=="string"||typeof S=="number"||typeof S=="bigint"?Mc(null,S,null,null,S):Array.isArray(S)?Mc(yl,{children:S},null,null,null):S.__b>0?Mc(S.type,S.props,S.key,null,S.__v):S)!=null){if(S.__=r,S.__b=r.__b+1,(x=ne[v])===null||x&&S.key==x.key&&S.type===x.type)ne[v]=void 0;else for(k=0;k<ee;k++){if((x=ne[k])&&S.key==x.key&&S.type===x.type){ne[k]=void 0;break}x=null}pp(n,S,x=x||Xc,l,a,f,h,g,y),I=S.__e,(k=S.ref)&&x.ref!=k&&(z||(z=[]),x.ref&&z.push(x.ref,null,S),z.push(k,S.__c||I,S)),I!=null?(T==null&&(T=I),typeof S.type=="function"&&S.__k===x.__k?S.__d=g=X0(S,g,n):g=Z0(n,S,x,ne,I,g),typeof r.type=="function"&&(r.__d=g)):g&&x.__e==g&&g.parentNode!=n&&(g=gl(x))}for(r.__e=T,v=ee;v--;)ne[v]!=null&&(typeof r.type=="function"&&ne[v].__e!=null&&ne[v].__e==r.__d&&(r.__d=gl(o,v+1)),nw(ne[v],ne[v]));if(z)for(v=0;v<z.length;v++)tw(z[v],z[++v],z[++v])}function X0(n,e,r){for(var o,l=n.__k,a=0;l&&a<l.length;a++)(o=l[a])&&(o.__=n,e=typeof o.type=="function"?X0(o,e,r):Z0(r,o,o,l,o.__e,e));return e}function Z0(n,e,r,o,l,a){var f,h,g;if(e.__d!==void 0)f=e.__d,e.__d=void 0;else if(r==null||l!=a||l.parentNode==null)e:if(a==null||a.parentNode!==n)n.appendChild(l),f=null;else{for(h=a,g=0;(h=h.nextSibling)&&g<o.length;g+=2)if(h==l)break e;n.insertBefore(l,a),f=a}return f!==void 0?f:l.nextSibling}function mg(n,e,r){e[0]==="-"?n.setProperty(e,r):n[e]=r==null?"":typeof r!="number"||dS.test(e)?r:r+"px"}function Ic(n,e,r,o,l){var a;e:if(e==="style")if(typeof r=="string")n.style.cssText=r;else{if(typeof o=="string"&&(n.style.cssText=o=""),o)for(e in o)r&&e in r||mg(n.style,e,"");if(r)for(e in r)o&&r[e]===o[e]||mg(n.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+a]=r,r?o||n.addEventListener(e,a?gg:yg,a):n.removeEventListener(e,a?gg:yg,a);else if(e!=="dangerouslySetInnerHTML"){if(l)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=r??"";break e}catch{}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?n.setAttribute(e,r):n.removeAttribute(e))}}function yg(n){this.l[n.type+!1](lt.event?lt.event(n):n)}function gg(n){this.l[n.type+!0](lt.event?lt.event(n):n)}function pp(n,e,r,o,l,a,f,h,g){var y,v,k,x,S,I,T,z,ne,ee,q,se,Se,fe=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(g=r.__h,h=e.__e=r.__e,e.__h=null,a=[h]),(y=lt.__b)&&y(e);try{e:if(typeof fe=="function"){if(z=e.props,ne=(y=fe.contextType)&&o[y.__c],ee=y?ne?ne.props.value:y.__:o,r.__c?T=(v=e.__c=r.__c).__=v.__E:("prototype"in fe&&fe.prototype.render?e.__c=v=new fe(z,ee):(e.__c=v=new Na(z,ee),v.constructor=fe,v.render=hS),ne&&ne.sub(v),v.props=z,v.state||(v.state={}),v.context=ee,v.__n=o,k=v.__d=!0,v.__h=[]),v.__s==null&&(v.__s=v.state),fe.getDerivedStateFromProps!=null&&(v.__s==v.state&&(v.__s=xo({},v.__s)),xo(v.__s,fe.getDerivedStateFromProps(z,v.__s))),x=v.props,S=v.state,k)fe.getDerivedStateFromProps==null&&v.componentWillMount!=null&&v.componentWillMount(),v.componentDidMount!=null&&v.__h.push(v.componentDidMount);else{if(fe.getDerivedStateFromProps==null&&z!==x&&v.componentWillReceiveProps!=null&&v.componentWillReceiveProps(z,ee),!v.__e&&v.shouldComponentUpdate!=null&&v.shouldComponentUpdate(z,v.__s,ee)===!1||e.__v===r.__v){v.props=z,v.state=v.__s,e.__v!==r.__v&&(v.__d=!1),v.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach((function(Ee){Ee&&(Ee.__=e)})),v.__h.length&&f.push(v);break e}v.componentWillUpdate!=null&&v.componentWillUpdate(z,v.__s,ee),v.componentDidUpdate!=null&&v.__h.push((function(){v.componentDidUpdate(x,S,I)}))}if(v.context=ee,v.props=z,v.__v=e,v.__P=n,q=lt.__r,se=0,"prototype"in fe&&fe.prototype.render)v.state=v.__s,v.__d=!1,q&&q(e),y=v.render(v.props,v.state,v.context);else do v.__d=!1,q&&q(e),y=v.render(v.props,v.state,v.context),v.state=v.__s;while(v.__d&&++se<25);v.state=v.__s,v.getChildContext!=null&&(o=xo(xo({},o),v.getChildContext())),k||v.getSnapshotBeforeUpdate==null||(I=v.getSnapshotBeforeUpdate(x,S)),Se=y!=null&&y.type===yl&&y.key==null?y.props.children:y,J0(n,Array.isArray(Se)?Se:[Se],e,r,o,l,a,f,h,g),v.base=e.__e,e.__h=null,v.__h.length&&f.push(v),T&&(v.__E=v.__=null),v.__e=!1}else a==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=fS(r.__e,e,r,o,l,a,f,g);(y=lt.diffed)&&y(e)}catch(Ee){e.__v=null,(g||a!=null)&&(e.__e=h,e.__h=!!g,a[a.indexOf(h)]=null),lt.__e(Ee,e,r)}}function ew(n,e){lt.__c&&lt.__c(e,n),n.some((function(r){try{n=r.__h,r.__h=[],n.some((function(o){o.call(r)}))}catch(o){lt.__e(o,r.__v)}}))}function fS(n,e,r,o,l,a,f,h){var g,y,v,k=r.props,x=e.props,S=e.type,I=0;if(S==="svg"&&(l=!0),a!=null){for(;I<a.length;I++)if((g=a[I])&&"setAttribute"in g==!!S&&(S?g.localName===S:g.nodeType===3)){n=g,a[I]=null;break}}if(n==null){if(S===null)return document.createTextNode(x);n=l?document.createElementNS("http://www.w3.org/2000/svg",S):document.createElement(S,x.is&&x),a=null,h=!1}if(S===null)k===x||h&&n.data===x||(n.data=x);else{if(a=a&&gd.call(n.childNodes),y=(k=r.props||Xc).dangerouslySetInnerHTML,v=x.dangerouslySetInnerHTML,!h){if(a!=null)for(k={},I=0;I<n.attributes.length;I++)k[n.attributes[I].name]=n.attributes[I].value;(v||y)&&(v&&(y&&v.__html==y.__html||v.__html===n.innerHTML)||(n.innerHTML=v&&v.__html||""))}if((function(T,z,ne,ee,q){var se;for(se in ne)se==="children"||se==="key"||se in z||Ic(T,se,null,ne[se],ee);for(se in z)q&&typeof z[se]!="function"||se==="children"||se==="key"||se==="value"||se==="checked"||ne[se]===z[se]||Ic(T,se,z[se],ne[se],ee)})(n,x,k,l,h),v)e.__k=[];else if(I=e.props.children,J0(n,Array.isArray(I)?I:[I],e,r,o,l&&S!=="foreignObject",a,f,a?a[0]:r.__k&&gl(r,0),h),a!=null)for(I=a.length;I--;)a[I]!=null&&Y0(a[I]);h||("value"in x&&(I=x.value)!==void 0&&(I!==n.value||S==="progress"&&!I||S==="option"&&I!==k.value)&&Ic(n,"value",I,k.value,!1),"checked"in x&&(I=x.checked)!==void 0&&I!==n.checked&&Ic(n,"checked",I,k.checked,!1))}return n}function tw(n,e,r){try{typeof n=="function"?n(e):n.current=e}catch(o){lt.__e(o,r)}}function nw(n,e,r){var o,l;if(lt.unmount&&lt.unmount(n),(o=n.ref)&&(o.current&&o.current!==n.__e||tw(o,null,e)),(o=n.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(a){lt.__e(a,e)}o.base=o.__P=null}if(o=n.__k)for(l=0;l<o.length;l++)o[l]&&nw(o[l],e,typeof n.type!="function");r||n.__e==null||Y0(n.__e),n.__e=n.__d=void 0}function hS(n,e,r){return this.constructor(n,r)}function vg(n,e,r){var o,l,a;lt.__&&lt.__(n,e),l=(o=!1)?null:e.__k,a=[],pp(e,n=e.__k=Gt(yl,null,[n]),l||Xc,Xc,e.ownerSVGElement!==void 0,l?null:e.firstChild?gd.call(e.childNodes):null,a,l?l.__e:e.firstChild,o),ew(a,n)}gd=G0.slice,lt={__e:function(n,e,r,o){for(var l,a,f;e=e.__;)if((l=e.__c)&&!l.__)try{if((a=l.constructor)&&a.getDerivedStateFromError!=null&&(l.setState(a.getDerivedStateFromError(n)),f=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(n,o||{}),f=l.__d),f)return l.__E=l}catch(h){n=h}throw n}},q0=0,Na.prototype.setState=function(n,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=xo({},this.state),typeof n=="function"&&(n=n(xo({},r),this.props)),n&&xo(r,n),n!=null&&this.__v&&(e&&this.__h.push(e),pg(this))},Na.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),pg(this))},Na.prototype.render=yl,Ta=[],Zc.__r=0;const Hr={Alert:{error:{color:"red",fontWeight:"bold"},warning:{color:"#f80",fontWeight:"bold"},info:{color:"black"}},Darken:{position:"fixed",top:0,left:0,opacity:.5,backgroundColor:"#000",width:"100vw",height:"100vh",zIndex:150,webkitBackdropFilter:"blur(2px)",backdropFilter:"blur(2px)"},DialogOuter:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:150,alignItems:"center",display:"flex",justifyContent:"center",padding:"16px",boxSizing:"border-box"},DialogInner:{position:"relative",color:"#222",backgroundColor:"#fff",padding:"24px",marginBottom:"2em",maxWidth:"400px",width:"100%",maxHeight:"90%",overflowY:"auto",border:"3px solid #3d3d5d",borderRadius:"8px",boxShadow:"0 0 80px 10px #666",fontFamily:"sans-serif",boxSizing:"border-box"},Input:{height:"35px",width:"100%",maxWidth:"100%",borderColor:"#ccf4",outline:"none",fontSize:"16px",padding:"8px",boxSizing:"border-box"},Button:{padding:"10px 20px",margin:"0 4px",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#ffffff",cursor:"pointer",fontSize:"14px",fontWeight:"500",color:"#374151",transition:"all 0.2s ease"},PrimaryButton:{padding:"10px 20px",margin:"0 4px",border:"1px solid #3b82f6",borderRadius:"6px",backgroundColor:"#3b82f6",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease"},ButtonsDiv:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"24px",paddingTop:"20px"},Label:{display:"block",marginBottom:"12px",fontSize:"14px",fontWeight:"500",color:"#333"},WindowHeader:{margin:"0 0 20px 0",fontSize:"18px",fontWeight:"600",color:"#333",borderBottom:"1px solid #eee",paddingBottom:"10px"}};function pS({children:n,className:e}){return Gt("div",{className:`dexie-dialog ${e||""}`},Gt("div",{style:Hr.Darken}),Gt("div",{style:Hr.DialogOuter},Gt("div",{style:Hr.DialogInner},n)))}var vd,Yt,uh,wg,ed=0,rw=[],Uc=[],bg=lt.__b,kg=lt.__r,_g=lt.diffed,xg=lt.__c,Sg=lt.unmount;function mp(n,e){lt.__h&&lt.__h(Yt,n,ed||e),ed=0;var r=Yt.__H||(Yt.__H={__:[],__h:[]});return n>=r.__.length&&r.__.push({__V:Uc}),r.__[n]}function mS(n){return ed=1,(function(e,r,o){var l=mp(vd++,2);if(l.t=e,!l.__c&&(l.__=[Cg(void 0,r),function(f){var h=l.__N?l.__N[0]:l.__[0],g=l.t(h,f);h!==g&&(l.__N=[g,l.__[1]],l.__c.setState({}))}],l.__c=Yt,!Yt.u)){Yt.u=!0;var a=Yt.shouldComponentUpdate;Yt.shouldComponentUpdate=function(f,h,g){if(!l.__c.__H)return!0;var y=l.__c.__H.__.filter((function(k){return k.__c}));if(y.every((function(k){return!k.__N})))return!a||a.call(this,f,h,g);var v=!1;return y.forEach((function(k){if(k.__N){var x=k.__[0];k.__=k.__N,k.__N=void 0,x!==k.__[0]&&(v=!0)}})),!!v&&(!a||a.call(this,f,h,g))}}return l.__N||l.__})(Cg,n)}function yS(n){return ed=5,(function(e,r){var o=mp(vd++,7);return iw(o.__H,r)?(o.__V=e(),o.i=r,o.__h=e,o.__V):o.__})((function(){return{current:n}}),[])}function gS(){for(var n;n=rw.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(zc),n.__H.__h.forEach(Uh),n.__H.__h=[]}catch(e){n.__H.__h=[],lt.__e(e,n.__v)}}lt.__b=function(n){Yt=null,bg&&bg(n)},lt.__r=function(n){kg&&kg(n),vd=0;var e=(Yt=n.__c).__H;e&&(uh===Yt?(e.__h=[],Yt.__h=[],e.__.forEach((function(r){r.__N&&(r.__=r.__N),r.__V=Uc,r.__N=r.i=void 0}))):(e.__h.forEach(zc),e.__h.forEach(Uh),e.__h=[])),uh=Yt},lt.diffed=function(n){_g&&_g(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(rw.push(e)!==1&&wg===lt.requestAnimationFrame||((wg=lt.requestAnimationFrame)||function(r){var o,l=function(){clearTimeout(a),Eg&&cancelAnimationFrame(o),setTimeout(r)},a=setTimeout(l,100);Eg&&(o=requestAnimationFrame(l))})(gS)),e.__H.__.forEach((function(r){r.i&&(r.__H=r.i),r.__V!==Uc&&(r.__=r.__V),r.i=void 0,r.__V=Uc}))),uh=Yt=null},lt.__c=function(n,e){e.some((function(r){try{r.__h.forEach(zc),r.__h=r.__h.filter((function(o){return!o.__||Uh(o)}))}catch(o){e.some((function(l){l.__h&&(l.__h=[])})),e=[],lt.__e(o,r.__v)}})),xg&&xg(n,e)},lt.unmount=function(n){Sg&&Sg(n);var e,r=n.__c;r&&r.__H&&(r.__H.__.forEach((function(o){try{zc(o)}catch(l){e=l}})),e&&lt.__e(e,r.__v))};var Eg=typeof requestAnimationFrame=="function";function zc(n){var e=Yt,r=n.__c;typeof r=="function"&&(n.__c=void 0,r()),Yt=e}function Uh(n){var e=Yt;n.__c=n.__(),Yt=e}function iw(n,e){return!n||n.length!==e.length||e.some((function(r,o){return r!==n[o]}))}function Cg(n,e){return typeof e=="function"?e(n):e}function vS({message:n,messageCode:e,messageParams:r}){return n.replace(/\{\w+\}/gi,(o=>r[o.substring(1,o.length-1)]))}function wS({title:n,type:e,alerts:r,fields:o,submitLabel:l,cancelLabel:a,onCancel:f,onSubmit:h}){const[g,y]=mS({}),v=yS(null);return(function(k,x){var S=mp(vd++,4);!lt.__s&&iw(S.__H,x)&&(S.__=k,S.i=x,Yt.__h.push(S))})((()=>{var k;return(k=v.current)===null||k===void 0?void 0:k.focus()}),[]),Gt(pS,{className:"dxc-login-dlg"},Gt(yl,null,Gt("h3",{style:Hr.WindowHeader},n),r.map((k=>Gt("p",{style:Hr.Alert[k.type]},vS(k)))),Gt("form",{onSubmit:k=>{k.preventDefault(),h(g)}},Object.entries(o).map((([k,{type:x,label:S,placeholder:I}],T)=>Gt("label",{style:Hr.Label,key:T},S?`${S}: `:"",Gt("input",{ref:T===0?v:void 0,type:x,name:k,autoComplete:"on",style:Hr.Input,autoFocus:!0,placeholder:I,value:g[k]||"",onInput:z=>{var ne;const ee=(function(se,Se){switch(se){case"email":return Se.toLowerCase();case"otp":return Se.toUpperCase();default:return Se}})(x,(ne=z.target)===null||ne===void 0?void 0:ne.value);let q=Object.assign(Object.assign({},g),{[k]:ee});y(q),x==="otp"&&(ee==null?void 0:ee.trim().length)===8&&h(q)}})))))),Gt("div",{style:Hr.ButtonsDiv},Gt(yl,null,Gt("button",{type:"submit",style:Hr.PrimaryButton,onClick:()=>h(g)},l),a&&Gt("button",{style:Hr.Button,onClick:f},a))))}class Ig extends Na{constructor(e){super(e),this.observer=r=>this.setState({userInteraction:r}),this.state={userInteraction:void 0}}componentDidMount(){this.subscription=Gn(this.props.db.cloud.userInteraction).subscribe(this.observer)}componentWillUnmount(){this.subscription&&(this.subscription.unsubscribe(),delete this.subscription)}render(e,{userInteraction:r}){return r?Gt(wS,Object.assign({},r)):null}}function ou(n){const e=new WeakMap;return r=>{let o=e.get(r);return o||(o=n(r),e.set(r,o)),o}}const td=ou((n=>new Er(Un)));function wd(n,e){let r=e,o=Gn(n).pipe(Wn((a=>r=a)),u_({resetOnRefCountZero:()=>yv(1e3)}));const l=new Jt((a=>{let f=!1;const h=o.subscribe({next(g){f=!0,a.next(g)},error(g){a.error(g)},complete(){a.complete()}});return f||h.closed||a.next(r),h}));return l.getValue=()=>r,l}const ow=ou((n=>wd(So((()=>n.roles.where({realmId:"rlm-public"}).toArray().then((e=>{const r={};for(const o of e.slice().sort(((l,a)=>(l.sortOrder||0)-(a.sortOrder||0))))r[o.name]=o;return r})))),{}))),sw=ou((n=>wd(td(n._novip).pipe(Sn((e=>So((()=>n.transaction("r","realms","members",(()=>Promise.all([n.members.where({userId:e.userId}).toArray(),n.realms.toArray(),e.userId]).then((([r,o,l])=>({selfMembers:r,realms:o,userId:l})))))))))),{selfMembers:[],realms:[],get userId(){return n.cloud.currentUserId}})));function bS(...n){return n.length===0?{}:n.reduce(((r,o)=>{const l=Object.assign({},r);for(const[a,f]of Object.entries(o))if(a in l&&l[a]){if(l[a]==="*")continue;if(f==="*")l[a]="*";else if(Array.isArray(f)&&Array.isArray(l[a])){const h=l,g=h[a];h[a]=[...new Set([...g,...f])]}else if(typeof f=="object"&&f&&typeof l[a]=="object"){const h=l[a];for(const[g,y]of Object.entries(f))h[g]!=="*"&&(y==="*"?h[g]="*":Array.isArray(h[g])&&Array.isArray(y)&&(h[g]=[...new Set([...h[g],...y])]))}}else l[a]=o[a];return l}))}const lw=ou((n=>(function(e,r){let o;const l=e.pipe(Wn((a=>o=r(a))));return l.getValue=()=>o!==void 0?o:o=r(e.getValue()),l})(wd(Ra([sw(n._novip),ow(n._novip)]).pipe(Wn((([{selfMembers:e,realms:r,userId:o},l])=>({selfMembers:e,realms:r,userId:o,globalRoles:l})))),{selfMembers:[],realms:[],userId:Un.userId,globalRoles:{}}),(({selfMembers:e,realms:r,userId:o,globalRoles:l})=>r.map((f=>{const h=e.filter((v=>v.realmId===f.realmId)),g=h.map((v=>v.permissions)).filter((v=>v)),y=hp(h.map((v=>v.roles)).filter((v=>v))).map((v=>l[v])).filter((v=>v)).map((v=>v.permissions));return Object.assign(Object.assign({},f),{permissions:f.owner===o?{manage:"*"}:bS(...g,...y)})})).reduce(((f,h)=>Object.assign(Object.assign({},f),{[h.realmId]:h})),{[o]:{realmId:o,owner:o,name:o,permissions:{manage:"*"}}})))));class Og{constructor(e,r,o){this.permissions=e||{},this.tableName=r,this.isOwner=o}add(...e){var r;return this.permissions.manage==="*"||!!(!((r=this.permissions.manage)===null||r===void 0)&&r.includes(this.tableName))||this.permissions.add==="*"||!!e.every((o=>{var l;return(l=this.permissions.add)===null||l===void 0?void 0:l.includes(o)}))}update(...e){var r,o;if(this.isOwner||this.permissions.manage==="*"||!((r=this.permissions.manage)===null||r===void 0)&&r.includes(this.tableName))return!0;if(this.permissions.update==="*")return e.every((a=>a!=="owner"));const l=(o=this.permissions.update)===null||o===void 0?void 0:o[this.tableName];return l==="*"?e.every((a=>a!=="owner")):e.every((a=>l==null?void 0:l.some((f=>f===a||f==="*"&&a!=="owner"))))}delete(){var e;return!(!this.isOwner&&this.permissions.manage!=="*")||!!(!((e=this.permissions.manage)===null||e===void 0)&&e.includes(this.tableName))}}const kS=ou((n=>{const e=td(n._novip).pipe(Sn((l=>So((()=>n.members.where({email:l.email||""}).toArray()))))),r=lw(n._novip),o=sw(n._novip);return wd(Ra([e,o,r]).pipe(Wn((([l,a,f])=>{const h=(v,k)=>Object.assign(Object.assign({},v),{[k.id]:Object.assign(Object.assign({},k),{realm:f[k.realmId]})}),g=l.reduce(h,{}),y=a.selfMembers.reduce(h,g);return Object.values(y).filter((v=>!v.accepted)).map((v=>Object.assign(Object.assign({},v),{accept(){return Te(this,void 0,void 0,(function*(){yield n.members.update(v.id,{accepted:new Date})}))},reject(){return Te(this,void 0,void 0,(function*(){yield n.members.update(v.id,{rejected:new Date})}))}})))}))),[])}));function _S(n){return e=>{var r;const o=e.doc;if(!o)throw new Error("Internal error: DexieYProvider.createYHandler called without a doc. This is unexpected.");const{parentTable:l}=o.meta||{};if(!(!((r=n.cloud.schema)===null||r===void 0)&&r[l].markedForSync))return;let a;Object.defineProperty(e,"awareness",{get:()=>a||(a=(function(f,h,g){const{parentTable:y,parentId:v,parentProp:k,updatesTable:x}=h.meta,S=new rx(h),I=W0(h);return S.on("update",(({added:T,updated:z,removed:ne},ee)=>{const q=T.concat(z).concat(ne),se=f.cloud.currentUser.value;if(ee!=="server"&&se.isLoggedIn&&!$a(f)){const Se=ix(S,q);f.messageProducer.next({type:"aware",table:y,prop:k,k:h.meta.parentId,u:Se}),g.destroyed&&f.messageProducer.next({type:"doc-close",table:y,prop:k,k:h.meta.parentId})}})),S.on("destroy",(()=>{y0(S,[h.clientID],"provider destroyed")})),Te(this,void 0,void 0,(function*(){if(g.destroyed)return;let T=!1,z=1;const ne=Ra([f.cloud.webSocketStatus,I.pipe(wv(null))]).subscribe((([q])=>{if(g.destroyed)return;T=q==="connected";const se=f.cloud.currentUser.value;q==="connected"&&se.isLoggedIn&&!$a(f)&&(++z,ee().catch((Se=>{})))}));function ee(){return Te(this,void 0,void 0,(function*(){const q=z,se=f.table(x),Se=f.$syncState,[fe,Ee]=yield f.transaction("r",Se,se,(()=>Te(this,void 0,void 0,(function*(){const tt=yield se.get(Oo),pe=yield Se.get("syncState");return[(tt==null?void 0:tt.receivedUntil)||0,(pe==null?void 0:pe.yServerRevision)||(pe==null?void 0:pe.serverRevision)]}))));if(g.destroyed||z!==q||!T)return;const be={type:"doc-open",table:y,prop:k,k:v,serverRev:Ee},Re=yield se.where("i").between(fe,1/0,!1).filter((tt=>id(tt.k,v)===0&&(1&(tt.f||0))==0)).toArray();if(!g.destroyed&&z===q&&T){if(Re.length>0){const tt=Vc(Re.map((ze=>ze.u))),pe=Hv(tt);be.sv=pe}f.messageProducer.next(be)}}))}g.addCleanupHandler(ne)})),S})(n,o,e),V0.set(o,a),a)})}}function ss(n){return"rlm~"+n}const xS={nameSuffix:!0};function zh(n){const e=n.name,r=td(n),o=[];let l=!1,a=null;n.on("ready",(v=>Te(this,void 0,void 0,(function*(){try{yield(function(k){return Te(this,void 0,void 0,(function*(){var x,S,I,T,z,ne,ee;f=!1;const q=Ci(k);typeof window<"u"&&typeof document<"u"&&(!((x=q.cloud.options)===null||x===void 0)&&x.customLoginGui||o.push((function(pe){let ze=!1;const We=document.createElement("div");return document.body?(document.body.appendChild(We),vg(Gt(Ig,{db:pe.vip}),We)):addEventListener("DOMContentLoaded",(()=>{ze||(document.body.appendChild(We),vg(Gt(Ig,{db:pe.vip}),We))})),{unsubscribe(){try{We.remove()}catch{}ze=!0},get closed(){return ze}}})(k))),q.cloud.isServiceWorkerDB||o.push((function(pe){let ze=pe.cloud.webSocketStatus.value;const We=pe.cloud.webSocketStatus.pipe(Sn((He=>{const Be=ze;ze=He;const he=Ni(He);switch(He){case"disconnected":return ja.value?he.pipe(Ry(500)):he;case"connecting":return Be==="not-started"||Be==="error"?he:he.pipe(Ry(4e3));default:return he}})));return Ra([We,pe.syncStateChangedEvent.pipe(wv({phase:"initial"})),td(pe.dx._novip),Mh]).pipe(Wn((([He,Be,he,me])=>{var F;if(!((F=he.license)===null||F===void 0)&&F.status&&he.license.status!=="ok")return{phase:"offline",status:"offline",license:he.license.status};let{phase:ue,error:le,progress:D}=Be,Q=He;return ue==="error"&&(Q="error"),He==="not-started"&&(ue!=="pushing"&&ue!=="pulling"||(Q="connecting")),pe.cloud.syncState.value.phase!=="error"||Be.phase!=="pushing"&&Be.phase!=="pulling"||(Q="connecting"),me||(Q="disconnected"),{phase:ue,error:le,progress:D,status:al?Q:"offline",license:"ok"}})))})(q).subscribe(k.cloud.syncState)),o.push(q.syncCompleteEvent.subscribe(g)),q.tables.every((pe=>pe.core))||(function(){throw new dt.SchemaError("Version increment needed to allow dexie-cloud change tracking")})();const se="serviceWorker"in navigator?yield navigator.serviceWorker.getRegistrations():[],[Se,fe]=yield q.transaction("rw",q.$syncState,(()=>Te(this,void 0,void 0,(function*(){var pe,ze;const{options:We,schema:He}=q.cloud,[Be,he,me]=yield Promise.all([q.getOptions(),q.getSchema(),q.getPersistedSyncState()]);if(l){if(!Be||JSON.stringify(Be)!==JSON.stringify(We)){if(!We)throw new Error("Internal error");const F=Object.assign({},We);delete F.fetchTokens,delete F.awarenessProtocol,yield q.$syncState.put(F,"options")}}else q.cloud.options=Be||null;if(!((pe=q.cloud.options)===null||pe===void 0)&&pe.tryUseServiceWorker&&"serviceWorker"in navigator&&se.length>0&&!Hx?q.cloud.usingServiceWorker=!0:(!((ze=q.cloud.options)===null||ze===void 0)&&ze.tryUseServiceWorker&&q.cloud.isServiceWorkerDB,q.cloud.usingServiceWorker=!1),ah(He,q.cloud.options),ah(he,q.cloud.options),He){if(!he||JSON.stringify(he)!==JSON.stringify(He)){const F=he||{};for(const[ue,le]of Object.entries(He)){const D=F[ue];D?(D.markedForSync=le.markedForSync,le.deleted=D.deleted,D.generatedGlobalId=le.generatedGlobalId):F[ue]=Object.assign({},le)}yield q.$syncState.put(F,"schema"),Object.assign(He,F)}}else q.cloud.schema=he||null;return[me==null?void 0:me.initiallySynced,me==null?void 0:me.realms]}))));if(Se&&q.setInitiallySynced(!0),(function(pe){var ze,We;for(const He of pe.tables)if(!((We=(ze=pe.cloud.schema)===null||ze===void 0?void 0:ze[He.name])===null||We===void 0)&&We.markedForSync){if(He.schema.primKey.auto)throw new dt.SchemaError(`Table ${He.name} is both autoIncremented and synced. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(He.name)}]}) to blacklist it from sync`);if(!He.schema.primKey.keyPath)throw new dt.SchemaError(`Table ${He.name} cannot be both synced and outbound. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(He.name)}]}) to blacklist it from sync`)}})(q),h(),!q.cloud.isServiceWorkerDB){o.push(So((()=>q.getCurrentUser())).subscribe(r)),o.push(So((()=>q.getPersistedSyncState())).subscribe(q.cloud.persistedSyncState)),yield as(Ra([r.pipe(Ly(1),nl(1)),q.cloud.persistedSyncState.pipe(Ly(1),nl(1))]));const pe=_S(q);En.on.new.subscribe(pe),q.dx.once("close",(()=>{En.on.new.unsubscribe(pe)}))}let Ee=!1;const be=yield q.getCurrentUser(),Re=(S=q.cloud.options)===null||S===void 0?void 0:S.requireAuth;Re&&(q.cloud.isServiceWorkerDB?yield as(r.pipe(ir((pe=>!!pe.isLoggedIn)),nl(1))):typeof Re=="object"?(!be.isLoggedIn||Re.userId&&be.userId!==Re.userId||Re.email&&be.email!==Re.email)&&(Ee=yield ih(q,Re)):be.isLoggedIn||(Ee=yield ih(q))),!be.isLoggedIn||fe&&fe.includes(be.userId)||(Ee=!0),a&&a.stop(),a=null,h();const tt=((I=q.cloud.options)===null||I===void 0?void 0:I.databaseUrl)&&(!Se||Ee);tt&&(yield(function(pe,ze,We){return Te(this,void 0,void 0,(function*(){yield B0(pe,L0,(()=>yd(pe,ze,We,{isInitialSync:!0})))}))})(q,q.cloud.options,q.cloud.schema),q.setInitiallySynced(!0)),h(),q.cloud.usingServiceWorker&&(!((T=q.cloud.options)===null||T===void 0)&&T.databaseUrl)?(tt||w0(q,"push").catch((()=>{})),(function(pe){return Te(this,void 0,void 0,(function*(){var ze;try{const{periodicSync:We}=yield navigator.serviceWorker.ready;if(We)try{yield We.register(`dexie-cloud:${pe.name}`,(ze=pe.cloud.options)===null||ze===void 0?void 0:ze.periodicSync)}catch{}}catch{}}))})(q).catch((()=>{}))):!((z=q.cloud.options)===null||z===void 0)&&z.databaseUrl&&q.cloud.schema&&!q.cloud.isServiceWorkerDB&&(a=cS(q,q.cloud.options,q.cloud.schema),a.start(),tt||ji(q,"push")),h(),q.cloud.isServiceWorkerDB||o.push(qr(self,"online").subscribe((()=>{q.syncStateChangedEvent.next({phase:"not-in-sync"}),$a(q)||ji(q,"push")})),qr(self,"offline").subscribe((()=>{q.syncStateChangedEvent.next({phase:"offline"})}))),!(!((ne=q.cloud.options)===null||ne===void 0)&&ne.databaseUrl)||!((ee=q.cloud.options)===null||ee===void 0)&&ee.disableWebSocket||qx||o.push((function(pe){var ze;if(!(!((ze=pe.cloud.options)===null||ze===void 0)&&ze.databaseUrl))throw new Error("No database URL to connect WebSocket to");const We=pe.messageConsumer.readyToServe.pipe(ir((Be=>Be)),Sn((()=>pe.getPersistedSyncState())),ir((Be=>Be&&Be.serverRevision)),Sn((Be=>Te(this,void 0,void 0,(function*(){return{type:"ready",rev:Be.serverRevision,realmSetHash:yield Ph(Be)}}))))),He=ad(We,pe.messageProducer);return(function Be(){return pe.cloud.persistedSyncState.pipe(ir((he=>he==null?void 0:he.serverRevision)),nl(1),Sn((he=>pe.cloud.currentUser.pipe(Wn((me=>[me,he]))))),Sn((([he,me])=>Mh.pipe(Wn((F=>[F?he:null,me]))))),Sn((([he,me])=>he!=null&&he.isLoggedIn&&!(me!=null&&me.realms.includes(he.userId))?pe.cloud.persistedSyncState.pipe(ir((F=>(F==null?void 0:F.realms.includes(he.userId))||!1)),nl(1),Wn((F=>[he,F]))):new Er([he,me]))),Sn((he=>Te(this,[he],void 0,(function*([me,F]){return[me,yield Ph(F)]})))),vv((([he,me],[F,ue])=>he===F&&me===ue)),Sn((([he,me])=>{var F;return!((F=pe.cloud.persistedSyncState)===null||F===void 0)&&F.value?he?new iS(pe,pe.cloud.persistedSyncState.value.serverRevision,pe.cloud.persistedSyncState.value.yServerRevision,me,pe.cloud.persistedSyncState.value.clientIdentity,He,pe.cloud.webSocketStatus,he):Gn([]):Be()})),gh((he=>(he==null?void 0:he.name)==="TokenExpiredError"?Ni(!0).pipe(Sn((()=>Te(this,void 0,void 0,(function*(){const me=yield pe.getCurrentUser(),F=yield md(pe.cloud.options.databaseUrl,me);yield pe.table("$logins").update(me.userId,{accessToken:F.accessToken,accessTokenExpiration:F.accessTokenExpiration,claims:F.claims,license:F.license,data:F.data})})))),Sn((()=>Be()))):Ny((()=>he)))),gh((he=>(pe.cloud.webSocketStatus.next("error"),he instanceof lS?Ny((()=>he)):Gn(aS()).pipe(Sn((()=>Be())))))))})().subscribe({next:Be=>{Be&&pe.messageConsumer.enqueue(Be)},error:Be=>{},complete:()=>{}})})(q))}))})(v)}catch{}}))),!0);let f=!1;function h(){if(f)throw new dt.DatabaseClosedError}n.once("close",(()=>{o.forEach((v=>v.unsubscribe())),o.splice(0,o.length),f=!0,a&&a.stop(),a=null,r.next(Un)}));const g=new fs;var y;n.cloud={version:"4.2.2",options:Object.assign({},xS),schema:null,get currentUserId(){return r.value.userId||Un.userId},currentUser:r,syncState:new Er({phase:"initial",status:"not-started"}),events:{syncComplete:g},persistedSyncState:new Er(void 0),userInteraction:new Er(void 0),webSocketStatus:new Er("not-started"),login(v){return Te(this,void 0,void 0,(function*(){const k=Ci(n);yield k.cloud.sync(),yield ih(k,v)}))},invites:kS(n),roles:ow(n),configure(v){v=n.cloud.options=Object.assign(Object.assign({},n.cloud.options),v),l=!0,v.databaseUrl&&v.nameSuffix&&(n.name=`${e}-${(function(k){const x=new URL(k);return x.pathname==="/"?x.hostname.split(".")[0]:x.pathname.split("/")[1]})(v.databaseUrl)}`,Ci(n).reconfigure()),ah(n.cloud.schema,n.cloud.options)},logout(){return Te(this,arguments,void 0,(function*({force:v}={}){v?yield jh(Ci(n),{deleteUnsyncedData:!0}):yield k0(Ci(n))}))},sync(){return Te(this,arguments,void 0,(function*({wait:v,purpose:k}={wait:!0,purpose:"push"}){var x;v===void 0&&(v=!0);const S=Ci(n);if((((x=S.cloud.currentUser.value.license)===null||x===void 0?void 0:x.status)||"ok")!=="ok"&&(yield pd(S)),k==="pull"){const I=S.cloud.persistedSyncState.value;if(ji(S,k),v){const T=yield as(S.cloud.persistedSyncState.pipe(ir((z=>(z==null?void 0:z.timestamp)!=null&&(!I||z.timestamp>I.timestamp)))));if(T!=null&&T.error)throw new Error("Sync error: "+T.error)}}else if(yield fg(S)){const I=S.cloud.persistedSyncState.value;ji(S,k),v&&(yield as(Gn(So((()=>Te(this,void 0,void 0,(function*(){const T=yield fg(S),z=yield S.getPersistedSyncState();if((z==null?void 0:z.timestamp)!==(I==null?void 0:I.timestamp)&&(z!=null&&z.error))throw new Error("Sync error: "+z.error);return T}))))).pipe(ir((T=>!T)))))}}))},permissions:(v,k)=>(function(x,S,I){if(!S)throw new TypeError("Cannot check permissions of undefined or null. A Dexie Cloud object with realmId and owner expected.");const{owner:T,realmId:z}=S;if(!I){if(typeof S.table!="function")throw new TypeError("Missing 'table' argument to permissions and table could not be extracted from entity");I=S.table()}const ne=lw(x),ee=se=>{const Se=se[z||x.cloud.currentUserId];return Se?new Og(Se.permissions,I,z===void 0||z===x.cloud.currentUserId||T===x.cloud.currentUserId):new Og({},I,!T||T===x.cloud.currentUserId)},q=ne.pipe(Wn(ee));return q.getValue=()=>ee(ne.getValue()),q})(n._novip,v,k)},n.Version.prototype._parseStoresSpec=dt.override(n.Version.prototype._parseStoresSpec,(v=>eS(v,n))),n.Table.prototype.newId=function({colocateWith:v}={}){const k=v&&v.substr(v.length-3);return F0(n.cloud.schema[this.name].idPrefix||"",k)},n.Table.prototype.idPrefix=function(){var v,k;return((k=(v=this.db.cloud.schema)===null||v===void 0?void 0:v[this.name])===null||k===void 0?void 0:k.idPrefix)||""},n.use(Zx({currentUserObservable:n.cloud.currentUser,db:Ci(n)})),n.use((y=Ci(n),{stack:"dbcore",name:"implicitPropSetterMiddleware",level:1,create:v=>Object.assign(Object.assign({},v),{table:k=>{const x=v.table(k);return Object.assign(Object.assign({},x),{mutate:S=>{var I,T,z,ne,ee,q;const se=S.trans;if(se.disableChangeTracking)return x.mutate(S);const Se=(T=(I=se.currentUser)===null||I===void 0?void 0:I.userId)!==null&&T!==void 0?T:Un.userId;if(!((ne=(z=y.cloud.schema)===null||z===void 0?void 0:z[k])===null||ne===void 0)&&ne.markedForSync&&(S.type==="add"||S.type==="put")){if(k==="members")for(const fe of S.values)typeof fe.email=="string"&&(fe.email=fe.email.trim().toLowerCase());for(const fe of S.values){fe.owner||(fe.owner=Se),fe.realmId||(fe.realmId=Se);const Ee=(q=(ee=x.schema.primaryKey).extractKey)===null||q===void 0?void 0:q.call(ee,fe);typeof Ee=="string"&&Ee[0]==="#"&&S.type==="put"&&(delete S.criteria,delete S.changeSpec,delete S.updates,fe.$ts=Date.now())}}return x.mutate(S)}})}})})),n.use(Qx(Ci(n)))}zh.version="4.2.2",dt.Cloud=zh;class SS extends jb{constructor(){super(...arguments);bo(this,"id");bo(this,"realmId");bo(this,"owner");bo(this,"title")}isSharable(){return this.realmId===ss(this.id)}async makeSharable(){const{db:r}=this,o=ss(this.id);return await r.transaction("rw",[r.todoLists,r.todoItems,r.realms],()=>{r.realms.upsert(o,{name:this.title,represents:"a to-do list"}),r.todoLists.update(this.id,{realmId:o}),r.todoItems.where({todoListId:this.id}).modify({realmId:o})}),o}async makePrivate(){const{db:r}=this,o=ss(this.id);await r.transaction("rw",[r.todoLists,r.todoItems,r.members,r.realms],async()=>{await r.todoItems.where({realmId:o,todoListId:this.id}).modify({realmId:r.cloud.currentUserId,owner:r.cloud.currentUserId}),await r.todoLists.update(this.id,{realmId:this.db.cloud.currentUserId,owner:this.db.cloud.currentUserId}),await r.members.where("realmId").equals(o).delete(),await r.realms.delete(o)})}async shareWith(r,o,l,a){const{db:f}=this;await f.transaction("rw",[f.members,f.todoLists,f.todoItems,f.realms],async()=>{const h=await this.makeSharable();await f.members.add({realmId:h,name:r,email:o,invite:l,roles:a})})}async unshareWith(r){await this.db.members.delete(r.id)}async leaveList(){const{db:r}=this;await r.members.where({realmId:ss(this.id),userId:r.cloud.currentUserId}).delete()}async deleteList(){const{db:r}=this;await r.transaction("rw",[r.todoLists,r.todoItems,r.members,r.realms],()=>{r.todoItems.where({todoListId:this.id,realmId:ss(this.id)}).delete(),r.todoItems.where({todoListId:this.id,realmId:r.cloud.currentUserId}).delete(),r.todoLists.delete(this.id);const o=ss(this.id);r.realms.delete(o)})}async changeOwner(r){const{db:o}=this,l=ss(this.id);if(!r)throw new Error("Cannot give ownership to user before invite is accepted.");return o.transaction("rw",o.todoLists,o.members,o.realms,()=>{o.members.where({realmId:l,userId:this.owner}).modify({roles:["manager"]}),o.members.where({realmId:l}).modify({owner:r}),o.todoLists.where({realmId:l,id:this.id}).modify({owner:r}),o.realms.update(l,{owner:r})})}async changeMemberRole(r,o){await this.db.members.update(r.id,{permissions:{},roles:[o]})}}class ES extends dt{constructor(){super("TodoDBCloud2",{addons:[zh],cache:"immutable"});bo(this,"todoLists");bo(this,"todoItems");bo(this,"openCloseStates");this.version(15).stores({todoLists:"@id, [realmId+id]",todoItems:"@id, realmId, [todoListId+realmId]",openCloseStates:""}),this.todoLists.mapToClass(SS),this.cloud.configure({unsyncedTables:["openCloseStates"],unsyncedProperties:{todoLists:["_isExpanded","_isSharingDialogOpen","_isAccessControlDialogOpen"]},databaseUrl:"https://z0lesejpr.dexie.cloud",tryUseServiceWorker:!0,requireAuth:!1})}}const ct=new ES;/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IS=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,o)=>o?o.toUpperCase():r.toLowerCase()),jg=n=>{const e=IS(n);return e.charAt(0).toUpperCase()+e.slice(1)},aw=(...n)=>n.filter((e,r,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===r).join(" ").trim(),OS=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=rt.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:l="",children:a,iconNode:f,...h},g)=>rt.createElement("svg",{ref:g,...jS,width:e,height:e,stroke:n,strokeWidth:o?Number(r)*24/Number(e):r,className:aw("lucide",l),...!a&&!OS(h)&&{"aria-hidden":"true"},...h},[...f.map(([y,v])=>rt.createElement(y,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=(n,e)=>{const r=rt.forwardRef(({className:o,...l},a)=>rt.createElement(TS,{ref:a,iconNode:e,className:aw(`lucide-${CS(jg(n))}`,`lucide-${n}`,o),...l}));return r.displayName=jg(n),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tg=Zt("chevron-down",NS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],DS=Zt("circle-alert",PS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M13 16a3 3 0 0 1 0 6H7a5 5 0 1 1 4.9-6z",key:"ie2ih4"}],["path",{d:"M18.376 14.512a6 6 0 0 0 3.461-4.127c.148-.625-.659-.97-1.248-.714a4 4 0 0 1-5.259-5.26c.255-.589-.09-1.395-.716-1.248a6 6 0 0 0-4.594 5.36",key:"zwnc1e"}]],RS=Zt("cloud-moon",AS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Ng=Zt("cloud",LS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],US=Zt("crown",MS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],FS=Zt("list",zS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$S=Zt("loader-circle",BS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Pg=Zt("log-out",KS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Dg=Zt("mail",VS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],HS=Zt("menu",WS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uw=Zt("plus",qS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],YS=Zt("rotate-ccw",GS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],JS=Zt("share-2",QS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bd=Zt("trash-2",XS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],eE=Zt("user-plus",ZS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cw=Zt("user",tE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rE=Zt("users",nE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],oE=Zt("wifi-off",iE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],lE=Zt("wifi",sE);function dw(n){var e,r,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var l=n.length;for(e=0;e<l;e++)n[e]&&(r=dw(n[e]))&&(o&&(o+=" "),o+=r)}else for(r in n)n[r]&&(o&&(o+=" "),o+=r);return o}function fw(){for(var n,e,r=0,o="",l=arguments.length;r<l;r++)(n=arguments[r])&&(e=dw(n))&&(o&&(o+=" "),o+=e);return o}const Ag=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Rg=fw,aE=(n,e)=>r=>{var o;if((e==null?void 0:e.variants)==null)return Rg(n,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:l,defaultVariants:a}=e,f=Object.keys(l).map(y=>{const v=r==null?void 0:r[y],k=a==null?void 0:a[y];if(v===null)return null;const x=Ag(v)||Ag(k);return l[y][x]}),h=r&&Object.entries(r).reduce((y,v)=>{let[k,x]=v;return x===void 0||(y[k]=x),y},{}),g=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((y,v)=>{let{class:k,className:x,...S}=v;return Object.entries(S).every(I=>{let[T,z]=I;return Array.isArray(z)?z.includes({...a,...h}[T]):{...a,...h}[T]===z})?[...y,k,x]:y},[]);return Rg(n,f,g,r==null?void 0:r.class,r==null?void 0:r.className)},yp="-",uE=n=>{const e=dE(n),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:f=>{const h=f.split(yp);return h[0]===""&&h.length!==1&&h.shift(),hw(h,e)||cE(f)},getConflictingClassGroupIds:(f,h)=>{const g=r[f]||[];return h&&o[f]?[...g,...o[f]]:g}}},hw=(n,e)=>{var f;if(n.length===0)return e.classGroupId;const r=n[0],o=e.nextPart.get(r),l=o?hw(n.slice(1),o):void 0;if(l)return l;if(e.validators.length===0)return;const a=n.join(yp);return(f=e.validators.find(({validator:h})=>h(a)))==null?void 0:f.classGroupId},Lg=/^\[(.+)\]$/,cE=n=>{if(Lg.test(n)){const e=Lg.exec(n)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},dE=n=>{const{theme:e,classGroups:r}=n,o={nextPart:new Map,validators:[]};for(const l in r)Fh(r[l],o,l,e);return o},Fh=(n,e,r,o)=>{n.forEach(l=>{if(typeof l=="string"){const a=l===""?e:Mg(e,l);a.classGroupId=r;return}if(typeof l=="function"){if(fE(l)){Fh(l(o),e,r,o);return}e.validators.push({validator:l,classGroupId:r});return}Object.entries(l).forEach(([a,f])=>{Fh(f,Mg(e,a),r,o)})})},Mg=(n,e)=>{let r=n;return e.split(yp).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},fE=n=>n.isThemeGetter,hE=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,o=new Map;const l=(a,f)=>{r.set(a,f),e++,e>n&&(e=0,o=r,r=new Map)};return{get(a){let f=r.get(a);if(f!==void 0)return f;if((f=o.get(a))!==void 0)return l(a,f),f},set(a,f){r.has(a)?r.set(a,f):l(a,f)}}},Bh="!",$h=":",pE=$h.length,mE=n=>{const{prefix:e,experimentalParseClassName:r}=n;let o=l=>{const a=[];let f=0,h=0,g=0,y;for(let I=0;I<l.length;I++){let T=l[I];if(f===0&&h===0){if(T===$h){a.push(l.slice(g,I)),g=I+pE;continue}if(T==="/"){y=I;continue}}T==="["?f++:T==="]"?f--:T==="("?h++:T===")"&&h--}const v=a.length===0?l:l.substring(g),k=yE(v),x=k!==v,S=y&&y>g?y-g:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:k,maybePostfixModifierPosition:S}};if(e){const l=e+$h,a=o;o=f=>f.startsWith(l)?a(f.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:f,maybePostfixModifierPosition:void 0}}if(r){const l=o;o=a=>r({className:a,parseClassName:l})}return o},yE=n=>n.endsWith(Bh)?n.substring(0,n.length-1):n.startsWith(Bh)?n.substring(1):n,gE=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const l=[];let a=[];return o.forEach(f=>{f[0]==="["||e[f]?(l.push(...a.sort(),f),a=[]):a.push(f)}),l.push(...a.sort()),l}},vE=n=>({cache:hE(n.cacheSize),parseClassName:mE(n),sortModifiers:gE(n),...uE(n)}),wE=/\s+/,bE=(n,e)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:l,sortModifiers:a}=e,f=[],h=n.trim().split(wE);let g="";for(let y=h.length-1;y>=0;y-=1){const v=h[y],{isExternal:k,modifiers:x,hasImportantModifier:S,baseClassName:I,maybePostfixModifierPosition:T}=r(v);if(k){g=v+(g.length>0?" "+g:g);continue}let z=!!T,ne=o(z?I.substring(0,T):I);if(!ne){if(!z){g=v+(g.length>0?" "+g:g);continue}if(ne=o(I),!ne){g=v+(g.length>0?" "+g:g);continue}z=!1}const ee=a(x).join(":"),q=S?ee+Bh:ee,se=q+ne;if(f.includes(se))continue;f.push(se);const Se=l(ne,z);for(let fe=0;fe<Se.length;++fe){const Ee=Se[fe];f.push(q+Ee)}g=v+(g.length>0?" "+g:g)}return g};function kE(){let n=0,e,r,o="";for(;n<arguments.length;)(e=arguments[n++])&&(r=pw(e))&&(o&&(o+=" "),o+=r);return o}const pw=n=>{if(typeof n=="string")return n;let e,r="";for(let o=0;o<n.length;o++)n[o]&&(e=pw(n[o]))&&(r&&(r+=" "),r+=e);return r};function _E(n,...e){let r,o,l,a=f;function f(g){const y=e.reduce((v,k)=>k(v),n());return r=vE(y),o=r.cache.get,l=r.cache.set,a=h,h(g)}function h(g){const y=o(g);if(y)return y;const v=bE(g,r);return l(g,v),v}return function(){return a(kE.apply(null,arguments))}}const qt=n=>{const e=r=>r[n]||[];return e.isThemeGetter=!0,e},mw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,xE=/^\d+\/\d+$/,SE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,IE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,el=n=>xE.test(n),at=n=>!!n&&!Number.isNaN(Number(n)),ko=n=>!!n&&Number.isInteger(Number(n)),ch=n=>n.endsWith("%")&&at(n.slice(0,-1)),Oi=n=>SE.test(n),jE=()=>!0,TE=n=>EE.test(n)&&!CE.test(n),gw=()=>!1,NE=n=>IE.test(n),PE=n=>OE.test(n),DE=n=>!De(n)&&!Ae(n),AE=n=>Il(n,bw,gw),De=n=>mw.test(n),ls=n=>Il(n,kw,TE),dh=n=>Il(n,zE,at),Ug=n=>Il(n,vw,gw),RE=n=>Il(n,ww,PE),Oc=n=>Il(n,_w,NE),Ae=n=>yw.test(n),xa=n=>Ol(n,kw),LE=n=>Ol(n,FE),zg=n=>Ol(n,vw),ME=n=>Ol(n,bw),UE=n=>Ol(n,ww),jc=n=>Ol(n,_w,!0),Il=(n,e,r)=>{const o=mw.exec(n);return o?o[1]?e(o[1]):r(o[2]):!1},Ol=(n,e,r=!1)=>{const o=yw.exec(n);return o?o[1]?e(o[1]):r:!1},vw=n=>n==="position"||n==="percentage",ww=n=>n==="image"||n==="url",bw=n=>n==="length"||n==="size"||n==="bg-size",kw=n=>n==="length",zE=n=>n==="number",FE=n=>n==="family-name",_w=n=>n==="shadow",BE=()=>{const n=qt("color"),e=qt("font"),r=qt("text"),o=qt("font-weight"),l=qt("tracking"),a=qt("leading"),f=qt("breakpoint"),h=qt("container"),g=qt("spacing"),y=qt("radius"),v=qt("shadow"),k=qt("inset-shadow"),x=qt("text-shadow"),S=qt("drop-shadow"),I=qt("blur"),T=qt("perspective"),z=qt("aspect"),ne=qt("ease"),ee=qt("animate"),q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Se=()=>[...se(),Ae,De],fe=()=>["auto","hidden","clip","visible","scroll"],Ee=()=>["auto","contain","none"],be=()=>[Ae,De,g],Re=()=>[el,"full","auto",...be()],tt=()=>[ko,"none","subgrid",Ae,De],pe=()=>["auto",{span:["full",ko,Ae,De]},ko,Ae,De],ze=()=>[ko,"auto",Ae,De],We=()=>["auto","min","max","fr",Ae,De],He=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Be=()=>["start","end","center","stretch","center-safe","end-safe"],he=()=>["auto",...be()],me=()=>[el,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...be()],F=()=>[n,Ae,De],ue=()=>[...se(),zg,Ug,{position:[Ae,De]}],le=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",ME,AE,{size:[Ae,De]}],Q=()=>[ch,xa,ls],ye=()=>["","none","full",y,Ae,De],Oe=()=>["",at,xa,ls],Ke=()=>["solid","dashed","dotted","double"],$e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Le=()=>[at,ch,zg,Ug],qe=()=>["","none",I,Ae,De],ae=()=>["none",at,Ae,De],et=()=>["none",at,Ae,De],_t=()=>[at,Ae,De],Ve=()=>[el,"full",...be()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Oi],breakpoint:[Oi],color:[jE],container:[Oi],"drop-shadow":[Oi],ease:["in","out","in-out"],font:[DE],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Oi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Oi],shadow:[Oi],spacing:["px",at],text:[Oi],"text-shadow":[Oi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",el,De,Ae,z]}],container:["container"],columns:[{columns:[at,De,Ae,h]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Se()}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:Ee()}],"overscroll-x":[{"overscroll-x":Ee()}],"overscroll-y":[{"overscroll-y":Ee()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Re()}],"inset-x":[{"inset-x":Re()}],"inset-y":[{"inset-y":Re()}],start:[{start:Re()}],end:[{end:Re()}],top:[{top:Re()}],right:[{right:Re()}],bottom:[{bottom:Re()}],left:[{left:Re()}],visibility:["visible","invisible","collapse"],z:[{z:[ko,"auto",Ae,De]}],basis:[{basis:[el,"full","auto",h,...be()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[at,el,"auto","initial","none",De]}],grow:[{grow:["",at,Ae,De]}],shrink:[{shrink:["",at,Ae,De]}],order:[{order:[ko,"first","last","none",Ae,De]}],"grid-cols":[{"grid-cols":tt()}],"col-start-end":[{col:pe()}],"col-start":[{"col-start":ze()}],"col-end":[{"col-end":ze()}],"grid-rows":[{"grid-rows":tt()}],"row-start-end":[{row:pe()}],"row-start":[{"row-start":ze()}],"row-end":[{"row-end":ze()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":We()}],"auto-rows":[{"auto-rows":We()}],gap:[{gap:be()}],"gap-x":[{"gap-x":be()}],"gap-y":[{"gap-y":be()}],"justify-content":[{justify:[...He(),"normal"]}],"justify-items":[{"justify-items":[...Be(),"normal"]}],"justify-self":[{"justify-self":["auto",...Be()]}],"align-content":[{content:["normal",...He()]}],"align-items":[{items:[...Be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Be(),{baseline:["","last"]}]}],"place-content":[{"place-content":He()}],"place-items":[{"place-items":[...Be(),"baseline"]}],"place-self":[{"place-self":["auto",...Be()]}],p:[{p:be()}],px:[{px:be()}],py:[{py:be()}],ps:[{ps:be()}],pe:[{pe:be()}],pt:[{pt:be()}],pr:[{pr:be()}],pb:[{pb:be()}],pl:[{pl:be()}],m:[{m:he()}],mx:[{mx:he()}],my:[{my:he()}],ms:[{ms:he()}],me:[{me:he()}],mt:[{mt:he()}],mr:[{mr:he()}],mb:[{mb:he()}],ml:[{ml:he()}],"space-x":[{"space-x":be()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":be()}],"space-y-reverse":["space-y-reverse"],size:[{size:me()}],w:[{w:[h,"screen",...me()]}],"min-w":[{"min-w":[h,"screen","none",...me()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[f]},...me()]}],h:[{h:["screen","lh",...me()]}],"min-h":[{"min-h":["screen","lh","none",...me()]}],"max-h":[{"max-h":["screen","lh",...me()]}],"font-size":[{text:["base",r,xa,ls]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Ae,dh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ch,De]}],"font-family":[{font:[LE,De,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,Ae,De]}],"line-clamp":[{"line-clamp":[at,"none",Ae,dh]}],leading:[{leading:[a,...be()]}],"list-image":[{"list-image":["none",Ae,De]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ae,De]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ke(),"wavy"]}],"text-decoration-thickness":[{decoration:[at,"from-font","auto",Ae,ls]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[at,"auto",Ae,De]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:be()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae,De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae,De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:le()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ko,Ae,De],radial:["",Ae,De],conic:[ko,Ae,De]},UE,RE]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:ye()}],"rounded-s":[{"rounded-s":ye()}],"rounded-e":[{"rounded-e":ye()}],"rounded-t":[{"rounded-t":ye()}],"rounded-r":[{"rounded-r":ye()}],"rounded-b":[{"rounded-b":ye()}],"rounded-l":[{"rounded-l":ye()}],"rounded-ss":[{"rounded-ss":ye()}],"rounded-se":[{"rounded-se":ye()}],"rounded-ee":[{"rounded-ee":ye()}],"rounded-es":[{"rounded-es":ye()}],"rounded-tl":[{"rounded-tl":ye()}],"rounded-tr":[{"rounded-tr":ye()}],"rounded-br":[{"rounded-br":ye()}],"rounded-bl":[{"rounded-bl":ye()}],"border-w":[{border:Oe()}],"border-w-x":[{"border-x":Oe()}],"border-w-y":[{"border-y":Oe()}],"border-w-s":[{"border-s":Oe()}],"border-w-e":[{"border-e":Oe()}],"border-w-t":[{"border-t":Oe()}],"border-w-r":[{"border-r":Oe()}],"border-w-b":[{"border-b":Oe()}],"border-w-l":[{"border-l":Oe()}],"divide-x":[{"divide-x":Oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ke(),"hidden","none"]}],"divide-style":[{divide:[...Ke(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...Ke(),"none","hidden"]}],"outline-offset":[{"outline-offset":[at,Ae,De]}],"outline-w":[{outline:["",at,xa,ls]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",v,jc,Oc]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",k,jc,Oc]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:Oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[at,ls]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":Oe()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",x,jc,Oc]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[at,Ae,De]}],"mix-blend":[{"mix-blend":[...$e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[at]}],"mask-image-linear-from-pos":[{"mask-linear-from":Le()}],"mask-image-linear-to-pos":[{"mask-linear-to":Le()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":Le()}],"mask-image-t-to-pos":[{"mask-t-to":Le()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":Le()}],"mask-image-r-to-pos":[{"mask-r-to":Le()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":Le()}],"mask-image-b-to-pos":[{"mask-b-to":Le()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":Le()}],"mask-image-l-to-pos":[{"mask-l-to":Le()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":Le()}],"mask-image-x-to-pos":[{"mask-x-to":Le()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":Le()}],"mask-image-y-to-pos":[{"mask-y-to":Le()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Ae,De]}],"mask-image-radial-from-pos":[{"mask-radial-from":Le()}],"mask-image-radial-to-pos":[{"mask-radial-to":Le()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":se()}],"mask-image-conic-pos":[{"mask-conic":[at]}],"mask-image-conic-from-pos":[{"mask-conic-from":Le()}],"mask-image-conic-to-pos":[{"mask-conic-to":Le()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:le()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ae,De]}],filter:[{filter:["","none",Ae,De]}],blur:[{blur:qe()}],brightness:[{brightness:[at,Ae,De]}],contrast:[{contrast:[at,Ae,De]}],"drop-shadow":[{"drop-shadow":["","none",S,jc,Oc]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",at,Ae,De]}],"hue-rotate":[{"hue-rotate":[at,Ae,De]}],invert:[{invert:["",at,Ae,De]}],saturate:[{saturate:[at,Ae,De]}],sepia:[{sepia:["",at,Ae,De]}],"backdrop-filter":[{"backdrop-filter":["","none",Ae,De]}],"backdrop-blur":[{"backdrop-blur":qe()}],"backdrop-brightness":[{"backdrop-brightness":[at,Ae,De]}],"backdrop-contrast":[{"backdrop-contrast":[at,Ae,De]}],"backdrop-grayscale":[{"backdrop-grayscale":["",at,Ae,De]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[at,Ae,De]}],"backdrop-invert":[{"backdrop-invert":["",at,Ae,De]}],"backdrop-opacity":[{"backdrop-opacity":[at,Ae,De]}],"backdrop-saturate":[{"backdrop-saturate":[at,Ae,De]}],"backdrop-sepia":[{"backdrop-sepia":["",at,Ae,De]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":be()}],"border-spacing-x":[{"border-spacing-x":be()}],"border-spacing-y":[{"border-spacing-y":be()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ae,De]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[at,"initial",Ae,De]}],ease:[{ease:["linear","initial",ne,Ae,De]}],delay:[{delay:[at,Ae,De]}],animate:[{animate:["none",ee,Ae,De]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Ae,De]}],"perspective-origin":[{"perspective-origin":Se()}],rotate:[{rotate:ae()}],"rotate-x":[{"rotate-x":ae()}],"rotate-y":[{"rotate-y":ae()}],"rotate-z":[{"rotate-z":ae()}],scale:[{scale:et()}],"scale-x":[{"scale-x":et()}],"scale-y":[{"scale-y":et()}],"scale-z":[{"scale-z":et()}],"scale-3d":["scale-3d"],skew:[{skew:_t()}],"skew-x":[{"skew-x":_t()}],"skew-y":[{"skew-y":_t()}],transform:[{transform:[Ae,De,"","none","gpu","cpu"]}],"transform-origin":[{origin:Se()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae,De]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":be()}],"scroll-mx":[{"scroll-mx":be()}],"scroll-my":[{"scroll-my":be()}],"scroll-ms":[{"scroll-ms":be()}],"scroll-me":[{"scroll-me":be()}],"scroll-mt":[{"scroll-mt":be()}],"scroll-mr":[{"scroll-mr":be()}],"scroll-mb":[{"scroll-mb":be()}],"scroll-ml":[{"scroll-ml":be()}],"scroll-p":[{"scroll-p":be()}],"scroll-px":[{"scroll-px":be()}],"scroll-py":[{"scroll-py":be()}],"scroll-ps":[{"scroll-ps":be()}],"scroll-pe":[{"scroll-pe":be()}],"scroll-pt":[{"scroll-pt":be()}],"scroll-pr":[{"scroll-pr":be()}],"scroll-pb":[{"scroll-pb":be()}],"scroll-pl":[{"scroll-pl":be()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae,De]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[at,xa,ls,dh]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$E=_E(BE);function kt(...n){return $E(fw(n))}const KE=aE("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Et=rt.forwardRef(({className:n,variant:e,size:r,asChild:o=!1,...l},a)=>M.jsx("button",{className:kt(KE({variant:e,size:r,className:n})),ref:a,...l}));Et.displayName="Button";function VE({className:n}){return M.jsx("svg",{className:kt("w-4 h-4 fill-current",n),viewBox:"0 0 20 20",children:M.jsx("path",{d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"})})}function il(n){return(...e)=>n(...e).catch(r=>{(r==null?void 0:r.name)==="AbortError"?console.debug(r):console.error(r)})}function WE({item:n}){const e=Ja(ct,"todoItems",n),[r,o]=rt.useState(!1),[l,a]=rt.useState(!1),[f,h]=rt.useState(!1),g=S=>{ct.todoItems.update(n.id,{done:S})},y=async()=>{await ct.todoItems.delete(n.id)},v=()=>{e.update("title")&&h(!0)},k=S=>{(S.key==="Enter"||S.key==="Escape")&&(S.preventDefault(),h(!1))};rt.useEffect(()=>{let S;return r&&e.delete()?(a(!0),S=setTimeout(()=>{a(!1)},2e3)):a(!1),()=>{S&&clearTimeout(S)}},[r,e]);const x=S=>{e.delete()&&(a(!0),o(!1),setTimeout(()=>o(!0),10))};return M.jsxs("div",{className:kt("group flex items-center gap-3 py-3 px-4 border-b border-blue-200/60 last:border-b-0 transition-colors",n.done?"bg-blue-50 dark:bg-blue-900/20":"bg-background hover:bg-muted/30"),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:x,children:[M.jsxs("label",{className:"relative flex items-center cursor-pointer",children:[M.jsx("input",{type:"checkbox",disabled:!e.update("done"),checked:!!n.done,onChange:S=>g(S.target.checked),className:"sr-only"}),M.jsx("div",{className:kt("w-6 h-6 border-2 rounded flex items-center justify-center transition-all duration-200",n.done?"bg-blue-500 border-blue-500 text-white shadow-sm":"border-gray-300 hover:border-blue-400 bg-white",!e.update("done")&&"opacity-50 cursor-not-allowed"),children:n.done&&M.jsx(VE,{})})]}),M.jsx("div",{className:"flex-1",children:f?M.jsx("input",{type:"text",defaultValue:n.title,onChange:il(S=>ct.todoItems.update(n.id,{title:S.target.value})),onKeyDown:k,onBlur:()=>h(!1),autoFocus:!0,className:kt("w-full text-sm leading-relaxed bg-transparent border-none outline-none focus:ring-1 focus:ring-blue-500 rounded px-1 py-0.5",n.done?"text-foreground/80":"text-foreground")}):M.jsx("div",{className:kt("text-sm leading-relaxed cursor-pointer hover:bg-muted/30 rounded px-1 py-0.5 transition-colors",n.done?"text-foreground/80":"text-foreground",!e.update("title")&&"cursor-default hover:bg-transparent"),onClick:v,title:e.update("title")?"Click to edit":void 0,children:n.title})}),M.jsx(Et,{variant:"ghost",size:"icon",onClick:y,title:"Delete item",className:kt("h-8 w-8 text-muted-foreground hover:text-destructive transition-all duration-300",l?"opacity-100 translate-x-0":"opacity-0 translate-x-2 pointer-events-none"),children:M.jsx(bd,{className:"h-4 w-4"})})]})}const Ka=rt.forwardRef(({className:n,type:e,...r},o)=>M.jsx("input",{type:e,className:kt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),ref:o,...r}));Ka.displayName="Input";function HE({todoList:n,autoFocus:e}){const[r,o]=rt.useState(""),l=async a=>{a.preventDefault(),r.trim()&&(await ct.todoItems.add({todoListId:n.id,realmId:n.realmId,title:r.trim()}),o(""))};return M.jsxs("form",{onSubmit:l,className:"flex gap-2",children:[M.jsx("div",{className:"flex-1",children:M.jsx(Ka,{type:"text",placeholder:"Add todo item ...",value:r,autoFocus:e,onChange:a=>o(a.target.value)})}),M.jsx(Et,{type:"submit",size:"icon",disabled:!r.trim(),title:"Add item",children:M.jsx(uw,{className:"h-4 w-4"})})]})}function qE({todoList:n,member:e,access:r}){const o=Ya(ct.cloud.roles)||{};return M.jsxs("select",{disabled:n.owner===e.userId&&e.userId===ct.cloud.currentUserId,style:{border:0},value:r,onChange:l=>GE(n,e,r,l.target.value),children:[M.jsx("option",{value:"owner",disabled:!e.userId,children:"Owner"}),Object.entries(o).map(([l,a])=>M.jsx("option",{value:l,children:a.displayName},l)),!o[r]&&r!=="owner"&&M.jsx("option",{children:"(unknown)"},r)]})}async function GE(n,e,r,o){if(o==="owner"){if(!e.userId)throw new Error("Cannot give ownership to user before invite is accepted.");return r==="owner"?void 0:n.changeOwner(e.userId)}else e.userId===n.owner&&await n.changeOwner(ct.cloud.currentUserId),await n.changeMemberRole(e,o)}function YE({member:n,todoList:e}){var y;const r=Ja(ct,"members",n),o=Ya(ct.cloud.roles),l=(y=n.roles)==null?void 0:y[0],a=l?o==null?void 0:o[l]:null,f=n.userId===e.owner?"owner":l||"readonly",h=f==="owner"?"Owner":(a==null?void 0:a.displayName)||f,g=()=>f==="owner"?M.jsx(US,{className:"h-4 w-4"}):M.jsx(cw,{className:"h-4 w-4"});return M.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-gray-50 rounded border border-gray-200 min-w-[100px]",children:[g(),r.update("roles")?M.jsx(qE,{todoList:e,member:n,access:f}):M.jsx("span",{className:"text-sm font-medium",children:h})]})}const QE={"alice@demo.local":{},"bob@demo.local":{},"foo@demo.local":{},"bar@demo.local":{}},Kh={demoUsers:QE};function JE({todoList:n}){const[e,r]=rt.useState(""),[o,l]=rt.useState(""),a=Qa(async()=>await ct.members.where({realmId:n.realmId}).toArray(),[n.realmId]),[f,h]=rt.useState(!1),g=Ja(n);return M.jsxs("div",{className:"space-y-3",children:[a&&a.length>0&&M.jsxs("div",{children:[M.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Shared with:"}),M.jsx("div",{className:"space-y-1",children:a==null?void 0:a.map(y=>M.jsx(XE,{todoList:n,member:y},y.id))})]}),M.jsx("div",{className:"border-t border-border pt-3",children:g.add("members")&&M.jsxs("div",{className:"space-y-3",children:[M.jsxs("h4",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[M.jsx(eE,{className:"h-4 w-4"}),"Invite someone?"]}),M.jsx("div",{className:"space-y-1",children:Object.keys(Kh.demoUsers).filter(y=>y!==ct.cloud.currentUserId).map(y=>M.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded border border-blue-100",children:[M.jsx("span",{className:"text-sm text-foreground",children:y}),M.jsx(Et,{size:"sm",variant:"outline",onClick:()=>{h(!1),n.shareWith(y,y,!0,["doer"])},className:"h-7 px-3 text-xs border-blue-200 text-blue-600 hover:bg-blue-50",children:"Invite"})]},y))}),f?M.jsxs("form",{onSubmit:y=>{y.preventDefault(),h(!1),n.shareWith(e,o,!0,["doer"]),r(""),l("")},className:"space-y-3 p-4 bg-muted/50 rounded-lg",children:[M.jsx(Ka,{type:"email",placeholder:"Email address",value:o,onChange:y=>l(y.target.value)}),M.jsx(Ka,{type:"text",placeholder:"Name",value:e,onChange:y=>r(y.target.value)}),M.jsxs("div",{className:"flex gap-2",children:[M.jsxs(Et,{type:"submit",disabled:!/@/.test(o),size:"sm",className:"flex items-center gap-2",children:[M.jsx(Dg,{className:"h-4 w-4"}),"Send invite"]}),M.jsx(Et,{type:"button",variant:"outline",size:"sm",onClick:()=>h(!1),children:"Cancel"})]})]}):M.jsx("div",{className:"mt-2",children:M.jsxs(Et,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2 h-8 px-3 text-xs border-blue-200 text-blue-600 hover:bg-blue-50",children:[M.jsx(Dg,{className:"h-4 w-4"}),"Invite by email address"]})})]})})]})}function XE({member:n,todoList:e}){var h,g;const r=Ja(ct,"members",n),o=n.userId===ct.cloud.currentUserId,l=n.userId===e.owner;let a=n.name||n.email||n.userId;o&&(a+=" (me)");const f=async y=>{await e.unshareWith(y),await ct.members.where({realmId:e.realmId}).filter(k=>k.userId!==ct.cloud.currentUserId).count()===0&&await e.makePrivate()};return M.jsxs("div",{className:`flex items-center justify-between py-2 px-3 bg-white rounded border border-blue-100 ${n.accepted?"":"opacity-50"}`,children:[M.jsxs("div",{className:"flex-1",children:[M.jsx("span",{className:"text-sm text-foreground font-medium",children:a}),!n.rejected&&!n.accepted&&M.jsx("span",{className:"text-xs text-muted-foreground italic ml-2",children:"Pending invite"}),n.rejected&&M.jsx("span",{className:"text-xs text-muted-foreground italic ml-2",children:"Rejected"})]}),M.jsxs("div",{className:"flex items-center gap-2 min-w-[140px] justify-end",children:[M.jsx(YE,{member:n,todoList:e}),M.jsx("div",{className:"w-8 flex justify-center ml-1",children:r.delete()&&!l?M.jsx(Et,{variant:"ghost",size:"sm",onClick:()=>f(n),className:"text-red-500 hover:text-red-700 hover:bg-red-50 h-8 w-8 p-0",children:M.jsx(bd,{className:"h-4 w-4"})}):!l&&n.userId===ct.cloud.currentUserId&&((((h=n.accepted)==null?void 0:h.getTime())||0)>(((g=n.rejected)==null?void 0:g.getTime())||0)?M.jsx(Et,{variant:"outline",size:"sm",onClick:()=>e.leaveList(),className:"h-7 px-3 text-xs border-red-300 text-red-600 hover:bg-red-50 hover:border-red-400 min-w-[50px]",children:"Leave"}):M.jsx(Et,{variant:"default",size:"sm",onClick:()=>ct.members.update(n.id,{accepted:new Date,rejected:void 0}),className:"h-7 px-3 text-xs bg-blue-500 hover:bg-blue-600",children:"Accept"}))})]})]})}function ZE(n,e,r=!1){return[Qa(()=>ct.openCloseStates.get([n,e]),[n,e],r)??r,a=>ct.openCloseStates.put(a,[n,e])]}function eC({todoList:n,autoFocus:e}){const[r,o]=rt.useState(!1),l=Qa(()=>ct.todoItems.where({todoListId:n.id}).reverse().toArray(),[n.id]),a=Ja(n),[f,h]=ZE("sharing-menu",n.id,!1);if(!l)return null;const g=async()=>{confirm(`Are you sure you want to delete "${n.title}" and all its items?`)&&await n.deleteList()},y=()=>{a.update("title")&&o(!0)},v=k=>{(k.key==="Enter"||k.key==="Escape")&&(k.preventDefault(),o(!1))};return M.jsxs("div",{className:"border-b border-border bg-background",children:[M.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-blue-300/70 bg-blue-500 dark:bg-blue-600",children:[M.jsx("div",{className:"flex-1 mr-4",children:r?M.jsx("input",{type:"text",defaultValue:n.title,onChange:il(k=>ct.todoLists.update(n.id,{title:k.target.value})),onKeyDown:v,onBlur:()=>o(!1),autoFocus:!0,className:kt("text-lg font-semibold bg-transparent border-none outline-none focus:ring-1 focus:ring-white/50 rounded px-2 py-1 text-white placeholder-white/70 w-full")}):M.jsx("h2",{className:kt("text-lg font-semibold text-white cursor-pointer hover:bg-white/10 rounded px-2 py-1 transition-colors",!a.update("title")&&"cursor-default hover:bg-transparent"),onClick:y,title:a.update("title")?"Click to edit list name":void 0,children:n.title})}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx(Et,{variant:"ghost",size:"icon",onClick:()=>h(!f),title:"Share list",className:kt("text-white hover:bg-blue-600 transition-all duration-200",f&&"bg-blue-600/50"),children:M.jsx(JS,{className:kt("h-4 w-4 transition-transform duration-200",f&&"rotate-180")})}),a.delete()&&M.jsx(Et,{variant:"ghost",size:"icon",onClick:g,title:"Delete list",className:"text-white hover:bg-blue-600",children:M.jsx(bd,{className:"h-4 w-4"})})]})]}),M.jsx("div",{className:kt("overflow-hidden transition-all duration-300 ease-in-out",f?"max-h-[600px] opacity-100":"max-h-0 opacity-0"),children:M.jsx("div",{className:"px-4 py-4 bg-blue-50/70 dark:bg-blue-900/15 border-b border-blue-200/60",children:M.jsx(JE,{todoList:n})})}),M.jsxs("div",{className:"px-0 py-0",children:[a.add("todoItems")&&M.jsx("div",{className:"px-4 py-3 border-b border-blue-200/60 bg-background",children:M.jsx(HE,{todoList:n,autoFocus:e})}),l.map(k=>M.jsx(WE,{item:k},k.id))]})]})}function tC(){const n=Qa(()=>ct.todoLists.reverse().toArray());return n?M.jsx("div",{className:"w-full",children:n.map((e,r)=>M.jsx(eC,{todoList:e,autoFocus:r===0},e.id))}):null}const Va=rt.forwardRef(({className:n,...e},r)=>M.jsx("div",{ref:r,className:kt("rounded-xl border bg-card text-card-foreground shadow",n),...e}));Va.displayName="Card";const Wa=rt.forwardRef(({className:n,...e},r)=>M.jsx("div",{ref:r,className:kt("flex flex-col space-y-1.5 p-6",n),...e}));Wa.displayName="CardHeader";const Ha=rt.forwardRef(({className:n,...e},r)=>M.jsx("h3",{ref:r,className:kt("font-semibold leading-none tracking-tight",n),...e}));Ha.displayName="CardTitle";const qa=rt.forwardRef(({className:n,...e},r)=>M.jsx("p",{ref:r,className:kt("text-sm text-muted-foreground",n),...e}));qa.displayName="CardDescription";const Ga=rt.forwardRef(({className:n,...e},r)=>M.jsx("div",{ref:r,className:kt("p-6 pt-0",n),...e}));Ga.displayName="CardContent";const nC=rt.forwardRef(({className:n,...e},r)=>M.jsx("div",{ref:r,className:kt("flex items-center p-6 pt-0",n),...e}));nC.displayName="CardFooter";function rC(){const[n,e]=rt.useState(!1),[r,o]=rt.useState(""),l=Qa(async()=>await ct.todoLists.count()>0),a=()=>{r.trim()&&(ct.todoLists.add({title:r.trim()}),o(""),e(!1))};return n?M.jsxs(Va,{className:"w-full sm:max-w-md",children:[M.jsxs(Wa,{children:[M.jsxs(Ha,{className:"flex items-center gap-2",children:[M.jsx(uw,{className:"h-5 w-5"}),"New Todo List"]}),M.jsx(qa,{children:"Give your list a name to get started"})]}),M.jsxs(Ga,{className:"space-y-4",children:[M.jsx(Ka,{type:"text",autoFocus:!0,placeholder:"Name of list...",value:r,onChange:f=>o(f.target.value),onKeyUp:f=>{f.key==="Enter"?a():f.key==="Escape"&&(e(!1),o(""))}}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx(Et,{onClick:a,disabled:!r.trim(),children:"Create List"}),M.jsx(Et,{variant:"outline",onClick:()=>{e(!1),o("")},children:"Cancel"})]})]})]}):M.jsxs(Et,{onClick:()=>e(!0),size:"lg",variant:"outline",className:"w-full sm:w-auto flex items-center gap-2 border-slate-300 text-slate-700 hover:bg-slate-50",children:[M.jsx(FS,{className:"h-4 w-4"}),l?"Add another list":"Create ToDo List"]})}function iC(){const n=async()=>{confirm("Are you sure you want to reset the database? This will delete all your local data and reload the app.")&&(await ct.delete(),location.reload())};return M.jsxs(Et,{variant:"outline",size:"lg",onClick:n,className:"w-full sm:w-auto flex items-center gap-2 border-red-300 text-red-700 bg-red-50 hover:bg-red-100 hover:border-red-400",children:[M.jsx(YS,{className:"h-4 w-4"}),"Factory reset client"]})}var oC=typeof window<"u",sC=oC?rt.useLayoutEffect:rt.useEffect;function gp(n,e){var r=rt.useState(e),o=r[0],l=r[1];return sC(function(){var a=n.subscribe(l);return function(){return a.unsubscribe()}},[n]),o}function Fg({className:n}){const e=gp(ct.cloud.syncState),r=kt("text-muted-foreground",n);switch(e==null?void 0:e.status){case"not-started":return M.jsx("div",{title:"Sync not started",children:M.jsx(Ng,{className:r})});case"connecting":return M.jsx("div",{title:"Connecting to cloud...",children:M.jsx($S,{className:kt(r,"animate-spin")})});case"connected":return M.jsx("div",{title:"Connected and syncing",children:M.jsx(lE,{className:kt(r,"text-green-500")})});case"disconnected":return M.jsx("div",{title:"Connection sleeping - will reconnect when active",children:M.jsx(RS,{className:kt(r,"text-blue-400")})});case"offline":return M.jsx("div",{title:e.error?String(e.error):"Offline",children:M.jsx(oE,{className:kt(r,"text-orange-500")})});case"error":return M.jsx("div",{title:e.error?String(e.error):"Connection error",children:M.jsx(DS,{className:kt(r,"text-red-500")})});default:return M.jsx("div",{title:"Sync status unknown",children:M.jsx(Ng,{className:r})})}}const Bg=({children:n,...e})=>{const[r,o]=rt.useState(!1);return M.jsx("div",{className:"relative inline-block text-left",...e,children:rt.Children.map(n,l=>{if(rt.isValidElement(l)){if(l.type===nd)return rt.cloneElement(l,{onClick:()=>o(!r),"aria-expanded":r});if(l.type===rd)return rt.cloneElement(l,{isOpen:r,onClose:()=>o(!1)})}return l})})},nd=rt.forwardRef(({className:n,children:e,...r},o)=>M.jsx("button",{ref:o,className:kt("inline-flex w-full justify-center gap-x-1.5 rounded-md bg-background px-3 py-2 text-sm font-semibold text-foreground shadow-sm ring-1 ring-inset ring-border hover:bg-accent",n),...r,children:e}));nd.displayName="DropdownMenuTrigger";const rd=rt.forwardRef(({className:n,align:e="end",isOpen:r,onClose:o,children:l,...a},f)=>(rt.useEffect(()=>{const h=g=>{f&&"current"in f&&f.current&&!f.current.contains(g.target)&&(o==null||o())};if(r)return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[r,o,f]),r?M.jsx("div",{ref:f,className:kt("absolute z-10 mt-2 w-56 origin-top-right rounded-md bg-popover shadow-lg ring-1 ring-border ring-opacity-5 focus:outline-none",e==="end"?"right-0":"left-0",n),...a,children:rt.Children.map(l,h=>rt.isValidElement(h)&&h.type===Pa?rt.cloneElement(h,{onClick:g=>{var y,v;(v=(y=h.props).onClick)==null||v.call(y,g),o==null||o()}}):h)}):null));rd.displayName="DropdownMenuContent";const Pa=rt.forwardRef(({className:n,...e},r)=>M.jsx("button",{ref:r,className:kt("block w-full px-4 py-2 text-left text-sm text-popover-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none",n),...e}));Pa.displayName="DropdownMenuItem";const xw=rt.forwardRef(({className:n,...e},r)=>M.jsx("div",{ref:r,className:kt("my-1 h-px bg-border",n),...e}));xw.displayName="DropdownMenuSeparator";const Vh=rt.forwardRef(({className:n,...e},r)=>M.jsx("div",{ref:r,className:kt("px-4 py-2 text-xs font-semibold text-muted-foreground",n),...e}));Vh.displayName="DropdownMenuLabel";function $g(){return ct.cloud.logout().catch(n=>{console.log("Logout cancelled",n)})}function lC(){const n=gp(ct.cloud.currentUser),[e,r]=rt.useState(!1);return M.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background border-b border-border",children:M.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[M.jsxs("div",{className:"flex h-16 items-center justify-between",children:[M.jsx("div",{className:"flex items-center",children:M.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Dexie Cloud ToDo App"})}),M.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[M.jsx(Fg,{className:"h-5 w-5"}),n!=null&&n.isLoggedIn?M.jsxs(Bg,{children:[M.jsx(nd,{children:M.jsxs(Et,{variant:"ghost",className:"flex items-center gap-2",children:[M.jsx(cw,{className:"h-4 w-4"}),n.name,M.jsx(Tg,{className:"h-4 w-4"})]})}),M.jsx(rd,{children:M.jsxs(Pa,{onClick:()=>$g(),children:[M.jsx(Pg,{className:"mr-2 h-4 w-4"}),"Logout"]})})]}):M.jsxs(Bg,{children:[M.jsx(nd,{children:M.jsxs(Et,{variant:"outline",className:"flex items-center gap-2",children:["Sign in or create account",M.jsx(Tg,{className:"h-4 w-4"})]})}),M.jsxs(rd,{children:[M.jsx(Vh,{children:"Sign in a demo user"}),Object.keys(Kh.demoUsers).map(o=>M.jsx(Pa,{onClick:il(()=>ct.cloud.login({grant_type:"demo",email:o})),children:o},o)),M.jsx(xw,{}),M.jsx(Vh,{children:"Sign in real user"}),M.jsx(Pa,{onClick:il(()=>ct.cloud.login()),children:"Sign in / sign up yourself"})]})]})]}),M.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[M.jsx(Fg,{className:"h-5 w-5"}),M.jsx(Et,{variant:"ghost",size:"icon",onClick:()=>r(!e),children:M.jsx(HS,{className:"h-5 w-5"})})]})]}),e&&M.jsx("div",{className:"md:hidden border-t border-border",children:M.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:n!=null&&n.isLoggedIn?M.jsxs("div",{className:"space-y-1",children:[M.jsxs("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:["Signed in as ",n.name]}),M.jsxs(Et,{variant:"ghost",className:"w-full justify-start",onClick:()=>{$g(),r(!1)},children:[M.jsx(Pg,{className:"mr-2 h-4 w-4"}),"Logout"]})]}):M.jsxs("div",{className:"space-y-1",children:[M.jsx("div",{className:"px-3 py-2 text-sm font-medium text-muted-foreground",children:"Sign in a demo user"}),Object.keys(Kh.demoUsers).map(o=>M.jsx(Et,{variant:"ghost",className:"w-full justify-start",onClick:il(async()=>{await ct.cloud.login({grant_type:"demo",email:o}),r(!1)}),children:o},o)),M.jsx("div",{className:"border-t border-border my-2"}),M.jsx("div",{className:"px-3 py-2 text-sm font-medium text-muted-foreground",children:"Sign in real user"}),M.jsx(Et,{variant:"outline",className:"w-full justify-start",onClick:il(async()=>{await ct.cloud.login(),r(!1)}),children:"Sign in / sign up yourself"})]})})})]})})}function aC(){const n=gp(ct.cloud.invites,[]);return n.length===0?null:M.jsxs(Va,{children:[M.jsxs(Wa,{children:[M.jsxs(Ha,{className:"flex items-center gap-2",children:[M.jsx(rE,{className:"h-5 w-5"}),"You've got invited!"]}),M.jsxs(qa,{children:["You have ",n.length," pending invitation",n.length>1?"s":""]})]}),M.jsx(Ga,{children:M.jsx("div",{className:"space-y-4",children:n.map(e=>{var r,o;return M.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[M.jsxs("div",{className:"flex-1",children:[M.jsx("div",{className:"font-medium",children:(r=e.realm)==null?void 0:r.name}),M.jsxs("div",{className:"text-sm text-muted-foreground",children:["Invited by ",(o=e.invitedBy)==null?void 0:o.name]})]}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx(Et,{size:"sm",onClick:()=>e.accept(),disabled:!!e.accepted,variant:e.accepted?"secondary":"default",children:e.accepted?"Accepted":"Accept"}),M.jsx(Et,{size:"sm",variant:"outline",onClick:()=>e.reject(),disabled:!!e.rejected,children:e.rejected?"Rejected":"Reject"}),M.jsx(Et,{size:"sm",variant:"ghost",onClick:()=>ct.members.delete(e.id),title:"Remove invite",children:M.jsx(bd,{className:"h-4 w-4"})})]})]},e.id)})})})]})}function uC(){return M.jsxs("div",{className:"min-h-screen bg-background",children:[M.jsx(lC,{}),M.jsxs("main",{className:"pt-16",children:[M.jsxs("div",{className:"max-w-4xl mx-auto px-4 pb-2",children:[M.jsx(cC,{}),M.jsx(aC,{})]}),M.jsx(tC,{}),M.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:M.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[M.jsx(rC,{}),M.jsx(iC,{})]})})]})]})}function cC(){var o;const n=Ya(ct.cloud.currentUser);if(!n)return null;const{license:e}=n;if(!e||e.status==="ok"&&e.validUntil===void 0&&e.evalDaysLeft===void 0)return null;if(e.status!=="ok")return M.jsxs(Va,{className:"mb-6 border-destructive",children:[M.jsx(Wa,{children:M.jsx(Ha,{className:"text-destructive",children:"License Required"})}),M.jsxs(Ga,{className:"space-y-4",children:[M.jsx(qa,{children:"No valid license. You are in offline mode until a valid license is purchased."}),M.jsxs("div",{className:"space-y-2",children:[M.jsx(Et,{asChild:!0,children:M.jsx("a",{href:"https://example.com",children:"Purchase License"})}),M.jsx(Et,{variant:"destructive",onClick:l=>{l.preventDefault(),l.stopPropagation(),dC(n)},children:"Delete Account & All Data"})]})]})]});let r=e.evalDaysLeft;if(r===void 0){const l=((o=e.validUntil)==null?void 0:o.getTime())??1/0;r=Math.round((l-Date.now())/(1440*60*1e3))}return r<7?M.jsxs(Va,{className:"mb-6 border-yellow-500",children:[M.jsx(Wa,{children:M.jsx(Ha,{className:"text-yellow-600",children:"License Expiring Soon"})}),M.jsxs(Ga,{className:"space-y-4",children:[M.jsxs(qa,{children:["License expires in ",r," days."]}),M.jsx(Et,{asChild:!0,children:M.jsx("a",{href:"https://example.com",children:"Purchase Production License"})})]})]}):null}async function dC(n){var r;!(n!=null&&n.userId)||!confirm(`Are you sure you want to delete your user completely along all stored data for ${n.userId}? Private data will be deleted. Shared data will not be deleted. This action cannot be undone.`)||(await fetch(`${(r=ct.cloud.options)==null?void 0:r.databaseUrl}/users/${n.userId}`,{method:"DELETE",headers:{Authorization:`Bearer ${n.accessToken}`}}),await ct.cloud.logout({force:!0}))}function fC(n){return"serviceWorker"in navigator?window.addEventListener("load",async()=>{try{let e="./";e.endsWith("/")||(e+="/");const r=await navigator.serviceWorker.register(`${e}sw.js`,{scope:e});console.log("🔧 Service Worker: Registration successful",r),r.addEventListener("updatefound",()=>{const o=r.installing;o&&o.addEventListener("statechange",()=>{var l,a,f,h;o.state==="installed"&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed."),(l=n==null?void 0:n.onUpdate)==null||l.call(n,r),(a=n==null?void 0:n.onNeedRefresh)==null||a.call(n)):(console.log("App ready to work offline."),(f=n==null?void 0:n.onSuccess)==null||f.call(n,r),(h=n==null?void 0:n.onOfflineReady)==null||h.call(n)))})})}catch(e){console.error("🚨 Service worker registration failed:",e),e instanceof Error&&console.error("🚨 Error details:",{name:e.name,message:e.message,stack:e.stack})}}):"serviceWorker"in navigator||console.log("🚫 Service Worker: Not supported in this browser"),()=>{}}window.Dexie=dt;dt.debug=!0;const hC=document.getElementById("root"),pC=Sb.createRoot(hC);pC.render(M.jsx(tl.StrictMode,{children:M.jsx(uC,{})}));fC();
//# sourceMappingURL=index-Dp1PzISQ.js.map
