{"version":3,"sources":["dexie-observable.js"],"names":["global","factory","exports","module","require","define","amd","globalThis","self","Dexie","Observable","this","_interopDefaultLegacy","e","default","Dexie__default","nop","promisableChain","f1","f2","thiz","args","res","apply","arguments","then","CREATE","UPDATE","DELETE","initCrudMonitor","db","table","tableName","hook","_observing","name","subscribe","primKey","obj","trans","rv","undefined","change","schema","uuid","createUUID","keyPath","setByKeyPath","source","key","type","promise","_changes","add","rev","_lastWrittenRevision","Math","max","onsuccess","resultKey","_then","put","onerror","delete","mods","oldObj","propPath","modsWithoutUndefined","anythingChanged","newObj","deepClone","currentValue","mod","delByKeyPath","getByKeyPath","JSON","stringify","catch","console","log","stack","Promise$2","Promise","initIntercomm","SyncNode","mySyncNode","localStorage","requestsWaitingForReply","consumeIntercommMessages","node","ignoreTransaction","transaction","_intercomm","where","destinationNode","id","toArray","messages","forEach","msg","consumeMessage","request","requestId","toString","isFailure","reject","message","error","resolve","result","observable","sendMessage","sender","on","fire","anyOf","map","DatabaseClosedError","options","extend","tables","wantReply","push","_syncNodes","equals","count","receiverAlive","above","first","masterNode","messageId","setItem","intercomm","broadcastMessage","bIncludeSelf","mySyncNodeId","nodes","all","filter","onIntercomm","dbname","overrideParseStoresSpec","origFunc","stores","dbSchema","call","Object","keys","indexOf","substr","DatabaseChange","defineClass","Number","String","override","Promise$1","browserIsShuttingDown","test","version","Error","wakeupObservers","crudMonitor","NODE_TIMEOUT","HIBERNATE_GRACE_PERIOD","HEARTBEAT_INTERVAL","localStorageImpl","myRevision","lastHeartBeat","deleteTimeStamp","url","isMaster","syncProtocol","syncContext","syncOptions","connected","status","appliedRemoteRevision","remoteBaseRevisions","local","remote","dbUploadState","tablesToUpload","currentTable","currentKey","localBaseRevision","lastWrittenRevision","latestRevision","overrideCreateTransaction","mode","storenames","dbschema","parent","addChanges","dynamicallyOpened","some","storeName","slice","rootTransaction","findRootTransaction","timeoutHandle","clearTimeout","setTimeout","overrideOpen","origOpen","_allTables","mapToClass","pollHandle","defineProperty","get","heartbeatHandle","handledRevision","fake","_uncommittedChanges","Date","now","Version","prototype","_parseStoresSpec","addEventType","changes","cleanup","_createTransaction","open","close","origClose","unsubscribe","onLatestRevisionIncremented","onSuicide","onBeforeUnload","suicideNurseCall","origDelete","orderBy","last","lastChange","latestRevisionIncremented","mySyncNodeShouldBecomeMaster","reverse","modify","existingNode","poll","heartbeat","vip","readChanges","recursion","wasPartial","partial","ourSyncNode","ongoingOperation","limit","length","ourNodeStillExists","syncNode","location","reload","finally","currentInstance","isOpen","weBecameMaster","below","value","removeItem","update","deleteOldChanges","wereTheOneDying","nodeID","Events","d","replace","c","r","random","floor","oldestNode","primaryKeys","keysToDelete","bulkDelete","_onStorage","event","prop","parts","split","parseInt","newValue","isNaN","_onBeforeUnload","beforeunload","ex","addEventListener","addons"],"mappings":"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"}