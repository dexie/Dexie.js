{"version":3,"sources":["dexie-observable.js"],"names":["global","factory","exports","module","require","define","amd","globalThis","self","Dexie","Observable","this","nop","promisableChain","f1","f2","thiz","args","res","apply","arguments","then","CREATE","UPDATE","DELETE","initCrudMonitor","db","table","tableName","hook","_observing","name","subscribe","primKey","obj","trans","rv","undefined","change","schema","uuid","createUUID","keyPath","setByKeyPath","source","key","type","promise","_changes","add","rev","_lastWrittenRevision","Math","max","onsuccess","resultKey","_then","put","onerror","delete","mods","oldObj","propPath","modsWithoutUndefined","anythingChanged","newObj","deepClone","currentValue","mod","delByKeyPath","getByKeyPath","JSON","stringify","catch","e","console","log","stack","Promise$2","Promise","initIntercomm","SyncNode","mySyncNode","localStorage","requestsWaitingForReply","consumeIntercommMessages","node","ignoreTransaction","transaction","_intercomm","where","destinationNode","id","toArray","messages","forEach","msg","consumeMessage","request","requestId","toString","isFailure","reject","message","error","resolve","result","observable","sendMessage","sender","on","fire","anyOf","map","DatabaseClosedError","options","extend","tables","wantReply","push","_syncNodes","equals","count","receiverAlive","above","first","masterNode","messageId","setItem","intercomm","broadcastMessage","bIncludeSelf","mySyncNodeId","nodes","all","filter","onIntercomm","dbname","overrideParseStoresSpec","origFunc","stores","dbSchema","call","Object","keys","indexOf","substr","DatabaseChange","defineClass","Number","String","override","Promise$1","browserIsShuttingDown","test","version","Error","wakeupObservers","crudMonitor","NODE_TIMEOUT","HIBERNATE_GRACE_PERIOD","HEARTBEAT_INTERVAL","localStorageImpl","myRevision","lastHeartBeat","deleteTimeStamp","url","isMaster","syncProtocol","syncContext","syncOptions","connected","status","appliedRemoteRevision","remoteBaseRevisions","local","remote","dbUploadState","tablesToUpload","currentTable","currentKey","localBaseRevision","lastWrittenRevision","latestRevision","overrideCreateTransaction","mode","storenames","dbschema","parent","addChanges","dynamicallyOpened","some","storeName","slice","rootTransaction","findRootTransaction","timeoutHandle","clearTimeout","setTimeout","overrideOpen","origOpen","_allTables","mapToClass","pollHandle","defineProperty","get","heartbeatHandle","handledRevision","fake","_uncommittedChanges","Date","now","Version","prototype","_parseStoresSpec","addEventType","changes","cleanup","_createTransaction","open","close","origClose","unsubscribe","onLatestRevisionIncremented","onSuicide","onBeforeUnload","suicideNurseCall","origDelete","orderBy","last","lastChange","latestRevisionIncremented","mySyncNodeShouldBecomeMaster","reverse","modify","existingNode","poll","heartbeat","vip","readChanges","recursion","wasPartial","partial","ourSyncNode","ongoingOperation","limit","length","ourNodeStillExists","syncNode","location","reload","finally","currentInstance","isOpen","weBecameMaster","below","value","removeItem","update","deleteOldChanges","wereTheOneDying","nodeID","Events","d","replace","c","r","random","floor","oldestNode","primaryKeys","keysToDelete","bulkDelete","_onStorage","event","prop","parts","split","parseInt","newValue","isNaN","_onBeforeUnload","beforeunload","ex","addEventListener","addons"],"mappings":"CAsBA,CAAWA,EAAQC,KACI,UAAnB,OAAOC,SAA0C,aAAlB,OAAOC,OAAyBA,OAAOD,QAAUD,EAAQG,QAAQ,OAAO,CAAC,EACtF,YAAlB,OAAOC,QAAyBA,OAAOC,IAAMD,OAAO,CAAC,SAAUJ,CAAO,IACrED,EAA+B,aAAtB,OAAOO,WAA6BA,WAAaP,GAAUQ,MAAcC,MAAQT,EAAOS,OAAS,GAAIT,EAAOS,MAAMC,WAAaT,EAAQD,EAAOS,KAAK,EAChK,GAAEE,KAAM,SAAWF,GAEhB,SAASG,KACT,SAASC,EAAgBC,EAAIC,GACzB,OAAID,IAAOF,EACAG,EACJ,WACH,IAEQC,EAAaC,EAFjBC,EAAMJ,EAAGK,MAAMR,KAAMS,SAAS,EAClC,OAAIF,GAA2B,YAApB,OAAOA,EAAIG,MACdL,EAAOL,KAAMM,EAAOG,UACjBF,EAAIG,KAAK,WACZ,OAAON,EAAGI,MAAMH,EAAMC,CAAI,CAC9B,CAAC,GAEEF,EAAGI,MAAMR,KAAMS,SAAS,CACnC,CACJ,CAsFA,IAAIE,EAAS,EACTC,EAAS,EACTC,EAAS,EA8Hb,SAASC,EAAgBC,GAIrB,OAAO,SAAqBC,GAExB,IAGIC,EArIcF,EAAIC,EAwCJD,EAAIE,EAuDJF,EAAIE,EAmClBD,EAAME,KAAKC,aAEfH,EAAME,KAAKC,WAAa,CAAA,EACpBF,EAAYD,EAAMI,KACtBJ,EAAME,KAAK,UAAU,EAAEG,WAtILN,EAsIgCA,EAtI5BC,EAsIgCA,EArInD,SAAsBM,EAASC,EAAKC,GAEvC,IAAIC,EAAKC,KAAAA,EAOLC,GANYD,KAAAA,IAAZJ,GAAyBN,EAAMY,OAAON,QAAQO,OAC9CP,EAAUG,EAAK3B,EAAMC,WAAW+B,WAAW,EACvCd,EAAMY,OAAON,QAAQS,UACrBjC,EAAMkC,aAAaT,EAAKP,EAAMY,OAAON,QAAQS,QAAST,CAAO,EAGxD,CACTW,OAAQT,EAAMS,QAAU,KACxBjB,MAAOA,EAAMI,KACbc,IAAiBR,KAAAA,IAAZJ,EAAwB,KAAOA,EACpCa,KAAMxB,EACNY,IAAKA,CACT,GACIa,EAAUrB,EAAGsB,SAASC,IAAIX,CAAM,EAAEjB,KAAK,SAAU6B,GAEjD,OADAf,EAAMgB,qBAAuBC,KAAKC,IAAIlB,EAAMgB,qBAAsBD,CAAG,EAC9DA,CACX,CAAC,EAgBD,OAdAvC,KAAK2C,UAAY,SAAUC,GACnBtB,GAAWsB,GACXR,EAAQS,MAAM,WACVlB,EAAOO,IAAMU,EACb7B,EAAGsB,SAASS,IAAInB,CAAM,CAC1B,CAAC,CACT,EACA3B,KAAK+C,QAAU,WAEXX,EAAQS,MAAM,SAAUN,GAEpBxB,EAAGsB,SAASW,OAAOT,CAAG,CAC1B,CAAC,CACL,EACOd,CACX,EAiGgE,EAC5DT,EAAME,KAAK,UAAU,EAAEG,WA/FLN,EA+FgCA,EA/F5BE,EA+FgCA,EA9FnD,SAAsBgC,EAAM3B,EAAS4B,EAAQ1B,GAKhD,IAMS2B,EA0BDf,EAhCJgB,EAAuB,GAIvBC,EAAkB,CAAA,EAClBC,EAASxD,EAAMyD,UAAUL,CAAM,EACnC,IAASC,KAAYF,EAAM,CACvB,IAOQO,EAPJC,EAAMR,EAAKE,GACI,KAAA,IAARM,GACP3D,EAAM4D,aAAaJ,EAAQH,CAAQ,EAEnCE,EAAkB,EADlBD,EAAqBD,GAAY,OAK7BM,KADAD,EAAe1D,EAAM6D,aAAaT,EAAQC,CAAQ,IAC1BS,KAAKC,UAAUJ,CAAG,IAAMG,KAAKC,UAAUL,CAAY,IAC3E1D,EAAMkC,aAAasB,EAAQH,EAAUM,CAAG,EACxCL,EAAqBD,GAAYM,EACjCJ,EAAkB,CAAA,EAG9B,CACIA,IACI1B,EAAS,CACTM,OAAQT,EAAMS,QAAU,KACxBjB,MAAOC,EACPiB,IAAKZ,EACLa,KAAMvB,EACNqC,KAAMG,EACNF,OAAQA,EACR3B,IAAK+B,CACT,EACIlB,EAAUrB,EAAGsB,SAASC,IAAIX,CAAM,EACpC3B,KAAK2C,UAAY,WACbP,EAAQS,MAAM,SAAUN,GACpBf,EAAMgB,qBAAuBC,KAAKC,IAAIlB,EAAMgB,qBAAsBD,CAAG,CACzE,CAAC,CACL,EACAvC,KAAK+C,QAAU,WAEXX,EAAQS,MAAM,SAAUN,GAEpBxB,EAAGsB,SAASW,OAAOT,CAAG,CAC1B,CAAC,CACL,EAER,EA2CoE,EAChEvB,EAAME,KAAK,UAAU,EAAEG,WAzCLN,EAyCgCA,EAzC5BE,EAyCgCA,EAxCnD,SAAsBK,EAASC,EAAKC,GAEvC,IAAIY,EAAUrB,EAAGsB,SAASC,IAAI,CAC1BL,OAAQT,EAAMS,QAAU,KACxBjB,MAAOC,EACPiB,IAAKZ,EACLa,KAAMtB,EACNqC,OAAQ3B,CACZ,CAAC,EAAEb,KAAK,SAAU6B,GAEd,OADAf,EAAMgB,qBAAuBC,KAAKC,IAAIlB,EAAMgB,qBAAsBD,CAAG,EAC9DA,CACX,CAAC,EACIuB,MAAM,SAAUC,GACjBC,QAAQC,IAAI1C,CAAG,EACfyC,QAAQC,IAAIF,EAAEG,KAAK,CACvB,CAAC,EACDlE,KAAK+C,QAAU,WAIXX,EAAQS,MAAM,SAAUN,GAEpBxB,EAAGsB,SAASW,OAAOT,CAAG,CAC1B,CAAC,CACL,CACJ,EAeoE,EACpE,CACJ,CAqDA,IAAI4B,EAAYrE,EAAMsE,QACtB,SAASC,EAActD,EAAIhB,EAAYuE,EAAUC,EAAYC,GAKzD,IAAIC,EAA0B,GA8E9B,SAASC,IAEL,OAAKH,EAAWI,KAET7E,EAAM8E,kBAAkB,WAC3B,OAAO7D,EAAG8D,YAAY,KAAM,aAAc,WACtC,OAAO9D,EAAG+D,WAAWC,MAAM,CAAEC,gBAAiBT,EAAWI,KAAKM,EAAG,CAAC,EAAEC,QAAQ,SAAUC,GAElF,OADAA,EAASC,QAAQ,SAAUC,GAAcC,IAMjCD,EANgDA,EAOnD,aAAbA,EAAIlD,MAEAoD,EAAUd,EAAwBY,EAAIG,UAAUC,SAAS,MAErDJ,EAAIK,UACJH,EAAQI,OAAON,EAAIO,QAAQC,KAAK,EAGhCN,EAAQO,QAAQT,EAAIO,QAAQG,MAAM,EAEtC,OAAOtB,EAAwBY,EAAIG,UAAUC,SAAS,KAK1DJ,EAAIS,QAAU,SAAUC,GACpBhF,EAAGiF,WAAWC,YAAY,WAAY,CAAEF,OAAQA,CAAO,EAAGV,EAAIa,OAAQ,CAAEV,UAAWH,EAAIJ,EAAG,CAAC,CAC/F,EACAI,EAAIM,OAAS,SAAUE,GACnB9E,EAAGiF,WAAWC,YAAY,WAAY,CAAEJ,MAAOA,EAAMJ,SAAS,CAAE,EAAGJ,EAAIa,OAAQ,CAAER,UAAW,CAAA,EAAMF,UAAWH,EAAIJ,EAAG,CAAC,CACzH,EACAlE,EAAGoF,GAAGP,QAAQQ,KAAKf,CAAG,EA5BgD,CAAC,EACxDtE,EAAG+D,WAAWC,MAAM,IAAI,EAAEsB,MAAMlB,EAASmB,IAAI,SAAUjB,GAAO,OAAOA,EAAIJ,EAAI,CAAC,CAAC,EAAEjC,OAAO,CACnG,CAAC,CACL,CAAC,CACL,CAAC,EARUmB,EAAUwB,OAAO,IAAI7F,EAAMyG,mBAAqB,CAS/D,CAoCA,OAvHAxF,EAAGiF,WAAWC,YAAc,SAAU9D,EAAMyD,EAASZ,EAAiBwB,GAMlE,IAIInB,EAJJ,OADAmB,EAAUA,GAAW,GAChBjC,EAAWI,MAIZU,EAAM,CAAEO,QAASA,EAASZ,gBAAiBA,EAAiBkB,OAAQ3B,EAAWI,KAAKM,GAAI9C,KAAMA,CAAK,EACvGrC,EAAM2G,OAAOpB,EAAKmB,CAAO,EAClB1G,EAAM8E,kBAAkB,WAC3B,IAAI8B,EAAS,CAAC,cAGVtE,GAFAoE,EAAQG,WACRD,EAAOE,KAAK,YAAY,EACd7F,EAAG8D,YAAY,KAAM6B,EAAQ,WACvC,OAAIF,EAAQG,UAED5F,EAAG8F,WAAW9B,MAAM,IAAI,EAAE+B,OAAO9B,CAAe,EAAE+B,MAAM,SAAUC,GACrE,OAAIA,EACOjG,EAAG+D,WAAWxC,IAAI+C,CAAG,EAErBtE,EAAG8F,WAAW9B,MAAM,UAAU,EAAEkC,MAAM,CAAC,EAAEC,MAAM,SAAUC,GAE5D,OADA9B,EAAIL,gBAAkBmC,EAAWlC,GAC1BlE,EAAG+D,WAAWxC,IAAI+C,CAAG,CAChC,CAAC,CACT,CAAC,EAIMtE,EAAG+D,WAAWxC,IAAI+C,CAAG,CAEpC,CAAC,EAAE3E,KAAK,SAAU0G,GACd,IAAI3F,EAAK,KAUT,OATI+E,EAAQG,YACRlF,EAAK,IAAI0C,EAAU,SAAU2B,EAASH,GAClClB,EAAwB2C,EAAU3B,SAAS,GAAK,CAAEK,QAASA,EAASH,OAAQA,CAAO,CACvF,CAAC,GAEDnB,GACAA,EAAa6C,QAAQ,8BAAgCtG,EAAGK,KAAMgG,EAAU3B,SAAS,CAAC,EAEtF1F,EAAWoG,GAAGmB,UAAUlB,KAAKrF,EAAGK,IAAI,EAC7BK,CACX,CAAC,GACD,GAAK+E,EAAQG,UAOT,OAAOvE,EANPA,EAAQ0B,MAAM,YACb,CAOT,CAAC,GAhDU0C,EAAQG,UACXxC,EAAUwB,OAAO,IAAI7F,EAAMyG,mBAAqB,EAChDpC,EAAU2B,QAAQ,CA+C9B,EAEA/E,EAAGiF,WAAWuB,iBAAmB,SAAUpF,EAAMyD,EAAS4B,GACtD,IAEIC,EAFClD,EAAWI,OAEZ8C,EAAelD,EAAWI,KAAKM,GACnCnF,EAAM8E,kBAAkB,WACpB7D,EAAG8F,WAAW3B,QAAQ,SAAUwC,GAC5B,OAAOvD,EAAUwD,IAAID,EAChBE,OAAO,SAAUjD,GAAQ,MAAqB,UAAdA,EAAKxC,OAAqBqF,GAAgB7C,EAAKM,KAAOwC,EAAe,CAAC,EACtGnB,IAAI,SAAU3B,GAAQ,OAAO5D,EAAGiF,WAAWC,YAAY9D,EAAMyD,EAASjB,EAAKM,EAAE,CAAG,CAAC,CAAC,CAC3F,CAAC,EAAEnB,MAAM,YACR,CACL,CAAC,EACL,EAiDO,CACH+D,YAPJ,SAAqBC,GAEbA,IAAW/G,EAAGK,MACdsD,EAAyB,EAAEZ,MAAM,sBAAuB,YAAe,CAE/E,EAGIY,yBAA0BA,CAC9B,CACJ,CAEA,SAASqD,EAAwBC,GAC7B,OAAO,SAAUC,EAAQC,GAErBD,EAAiB,SAAI,QACrBA,EAAmB,WAAI,0DACvBA,EAAmB,WAAI,uBACvBA,EAA4B,oBAAI,YAEhCD,EAASG,KAAKnI,KAAMiI,EAAQC,CAAQ,EAEpCE,OAAOC,KAAKH,CAAQ,EAAE9C,QAAQ,SAAUnE,GAChCW,EAASsG,EAASjH,GACoB,IAAtCW,EAAON,QAAQF,KAAKkH,QAAQ,IAAI,IAChC1G,EAAON,QAAQO,KAAO,CAAA,EACtBD,EAAON,QAAQF,KAAOQ,EAAON,QAAQF,KAAKmH,OAAO,CAAC,EAClD3G,EAAON,QAAQS,QAAUH,EAAON,QAAQS,QAAQwG,OAAO,CAAC,EAEhE,CAAC,EAEDH,OAAOC,KAAKH,CAAQ,EAAE9C,QAAQ,SAAUnE,GAEL,IAA3BA,EAAUqH,QAAQ,GAAG,GAAsC,IAA3BrH,EAAUqH,QAAQ,GAAG,IACrDJ,EAASjH,GAAW+E,WAAa,CAAA,EAEzC,CAAC,CACL,CACJ,CAsDA,IA7QuBjG,EA6QnBV,EAASQ,KAKT2I,EAAiB1I,EAAM2I,YAAY,CACnClG,IAAKmG,OACLzG,OAAQ0G,OACR3H,MAAO2H,OACPzG,IAAKkG,OACLjG,KAAMuG,OACNnH,IAAK6G,OACLnF,KAAMmF,OACNlF,OAAQkF,MACZ,CAAC,EAEGQ,EAAW9I,EAAM8I,SACjBC,EAAY/I,EAAMsE,QAClB0E,EAAwB,CAAA,EAK5B,SAAS/I,EAAWgB,GAChB,GAAI,CAAC,WAAWgI,KAAKjJ,EAAMkJ,OAAO,EAC9B,MAAM,IAAIC,MAAM,kCAAkC,EACtD,GAAIlI,EAAGiF,YACH,GAA8B,kBAA1BjF,EAAGiF,WAAWgD,QACd,MAAM,IAAIC,MAAM,oCAAoC,CAAC,MAG7D,IAjdyBlI,EAAIhB,EAAYyE,EArDNzD,EAAImI,EAyPjBnI,EAAIuD,EAAU6E,EA6QhCC,EAAe,IACnBC,EAAyB,IAIzBC,EAAqBF,EAAe,IAChC5E,EAAezE,EAAWwJ,iBAK1BjF,EAAWxE,EAAM2I,YAAY,CAE7Be,WAAYd,OACZvG,KAAMwG,OACNc,cAAef,OACfgB,gBAAiBhB,OACjBiB,IAAKhB,OACLiB,SAAUlB,OAEVmB,aAAclB,OACdmB,YAAa,KACbC,YAAa3B,OACb4B,UAAW,CAAA,EACXC,OAAQvB,OACRwB,sBAAuB,KACvBC,oBAAqB,CAAC,CAAEC,MAAO1B,OAAQ2B,OAAQ,IAAK,GACpDC,cAAe,CACXC,eAAgB,CAAC5B,QACjB6B,aAAc7B,OACd8B,WAAY,KACZC,kBAAmBhC,MACvB,CACJ,CAAC,EAGGQ,GAFJnI,EAAGiF,WAAa,CAAEgD,QAAS,eAAgB,EAC3CjI,EAAGiF,WAAW1B,SAAWA,EAnflB,SAAyBqG,GAExB5K,EAAW6K,eAAe7J,EAAGK,MAAQuJ,IAErC5K,EAAW6K,eAAe7J,EAAGK,MAAQuJ,EAErC7K,EAAM8E,kBAAkB,WACpB7E,EAAWoG,GAAG,2BAA2B,EAAEC,KAAKrF,EAAGK,KAAMuJ,CAAmB,CAChF,CAAC,EAKGnG,IACAA,EAAa6C,QAAQ,mCAAqCtG,EAAGK,KAAMuJ,CAAmB,CAElG,GAqeIE,GA3iBmC3B,EA2iB2BA,EA1iB3D,SAAmClB,GACtC,OAAO,SAAU8C,EAAMC,EAAYC,EAAUC,GACzC,IAEIC,EAWA1J,EAbJ,OAAIT,EAAGoK,kBAAkB,EACdnD,EAASxH,MAAMR,KAAMS,SAAS,GACrCyK,EAAa,CAAA,EACJ,cAATJ,GAAwBC,EAAWK,KAAK,SAAUC,GAClD,OAAOL,EAASK,IAAcL,EAASK,GAAWrF,UACtD,CAAC,IAEGkF,EAAa,CAAA,EAE0B,CAAC,KADxCH,EAAaA,EAAWO,MAAM,CAAC,GAChBhD,QAAQ,UAAU,IAC7ByC,EAAWnE,KAAK,UAAU,EAG9BpF,EAAQwG,EAASG,KAAKnI,KAAM8K,EAAMC,EAAYC,EAAUC,CAAM,EAE9DC,IACA1J,EAAMgB,qBAAuB,EAC7BhB,EAAM2E,GAAG,WAAY,WACjB,IAgBYoF,EAhBR/J,EAAMgB,uBAEDyI,GAcGM,EAAkB,SAAUC,EAAoBhK,GAChD,OAAOA,EAAMyJ,OAASO,EAAoBhK,EAAMyJ,MAAM,EAAIzJ,CAC7D,EAAEyJ,CAAM,GACOzI,qBAAuBC,KAAKC,IAAIlB,EAAMgB,qBAAsB+I,EAAgBZ,qBAAuB,CAAC,GAdhHzB,EAAgBuC,eAChBC,aAAaxC,EAAgBuC,aAAa,EAC9CvC,EAAgBuC,cAAgBE,WAAW,WACvC,OAAOzC,EAAgBuC,cACvBvC,EAAgB1H,EAAMgB,oBAAoB,CAC9C,EAAG,EAAE,GAYjB,CAAC,EAEGhB,EAAMyJ,SAAUzJ,EAAMyJ,OAAOhJ,SAC7BT,EAAMS,OAAST,EAAMyJ,OAAOhJ,QAE7BT,EACX,CACJ,GA0fI2H,EAAcrI,EA5iBiBC,EAqDVA,EAqfiBA,CAEN,EAChC6K,GApTsBtH,EAoTcA,EApTJ6E,EAoTcA,EAnT3C,SAAsB0C,GACzB,OAAO,WAaH,OATAzD,OAAOC,KAAKtH,EAAG+K,UAAU,EAAE1G,QAAQ,SAAUnE,GACrCD,EAAQD,EAAG+K,WAAW7K,GACtBD,EAAMY,OAAOoE,YACbmD,EAAYnI,CAAK,EAEF,eAAfA,EAAMI,MACNJ,EAAM+K,WAAWzH,CAAQ,CAEjC,CAAC,EACMuH,EAASrL,MAAMR,KAAMS,SAAS,CACzC,CACJ,GAoSI8D,EAAa,CAAEI,KAAM,IAAK,EAC1B2C,EAAYjD,EAtTMtD,EAoTcA,EAxfPhB,EAqfiBA,EAKAuE,EAAUC,EA1ffC,EAqfiBA,CAKsB,EAC5EqD,EAAcP,EAAUO,YACxBnD,EAA2B4C,EAAU5C,yBAKrCsH,GAHJ5D,OAAO6D,eAAelL,EAAI,iBAAkB,CACxCmL,IAAK,WAAc,OAAO3H,EAAWI,IAAM,CAC/C,CAAC,EACgB,MAAMwH,EAAkB,KAmJrCC,GAlJAtM,EAAMuM,OAGNtL,EAAGiI,QAAQ,CAAC,EAAEf,OAAO,CACjBpB,WAAY,gCACZxE,SAAU,QACVyC,WAAY,uBACZwH,oBAAqB,WACzB,CAAC,EACDvL,EAAG8F,WAAWkF,WAAWzH,CAAQ,EACjCvD,EAAGsB,SAAS0J,WAAWvD,CAAc,EACrCjE,EAAWI,KAAO,IAAIL,EAAS,CAC3BkF,WAAY,EACZrH,KAAM,QACNsH,cAAe8C,KAAKC,IAAI,EACxB9C,gBAAiB,IACrB,CAAC,GAML3I,EAAG0L,QAAQC,UAAUC,iBAAmB/D,EAAS7H,EAAG0L,QAAQC,UAAUC,iBAAkB5E,CAAuB,EAE/GhH,EAAGoF,GAAGyG,aAAa,CACfC,QAAS,OACTC,QAAS,CAAC5M,EAAiBD,GAC3B2F,QAAS,MACb,CAAC,EAID7E,EAAGgM,mBAAqBnE,EAAS7H,EAAGgM,mBAAoBlC,CAAyB,EAIjF9K,EAAW6K,eAAe7J,EAAGK,MAAQrB,EAAW6K,eAAe7J,EAAGK,OAAS,EAI3EL,EAAGiM,KAAOpE,EAAS7H,EAAGiM,KAAMpB,CAAY,EACxC7K,EAAGkM,MAAQrE,EAAS7H,EAAGkM,MAAO,SAAUC,GACpC,OAAO,WA8BH,OA7BInM,EAAGoK,kBAAkB,IAGrBjC,EAAgBuC,gBAChBC,aAAaxC,EAAgBuC,aAAa,EAC1C,OAAOvC,EAAgBuC,eAE3B1L,EAAWoG,GAAG,2BAA2B,EAAEgH,YAAYC,CAA2B,EAClFrN,EAAWoG,GAAG,kBAAkB,EAAEgH,YAAYE,CAAS,EACvDtN,EAAWoG,GAAG,WAAW,EAAEgH,YAAYtF,CAAW,EAClD9H,EAAWoG,GAAG,cAAc,EAAEgH,YAAYG,CAAc,EAEpD/I,EAAWI,MAAQJ,EAAWI,KAAKM,KACnClF,EAAWoG,GAAGoH,iBAAiBnH,KAAKrF,EAAGK,KAAMmD,EAAWI,KAAKM,EAAE,EAE3DT,GACAA,EAAa6C,QAAQ,6BAA+B9C,EAAWI,KAAKM,GAAGQ,SAAS,EAAI,IAAM1E,EAAGK,KAAM,MAAM,EAE7GmD,EAAWI,KAAK+E,gBAAkB,EAClCnF,EAAWI,KAAK8E,cAAgB,EAChC1I,EAAG8F,WAAW/D,IAAIyB,EAAWI,IAAI,EACjCJ,EAAWI,KAAO,MAElBqH,GACAN,aAAaM,CAAU,EAC3BA,EAAa,KACTG,GACAT,aAAaS,CAAe,EAChCA,EAAkB,MACXe,EAAU1M,MAAMR,KAAMS,SAAS,CAC1C,CACJ,CAAC,EAEDM,EAAGiC,OAAS4F,EAAS7H,EAAGiC,OAAQ,SAAUwK,GACtC,OAAO,WACH,OAAOA,EAAWhN,MAAMR,KAAMS,SAAS,EAAEC,KAAK,SAAUqF,GAGpD,OADAhG,EAAW6K,eAAe7J,EAAGK,MAAQ,EAC9B2E,CACX,CAAC,CACL,CACJ,CAAC,EAEDhF,EAAGoF,GAAG,QAAS,WACX,OAAIpF,EAAGoK,kBAAkB,EACdpK,EACJA,EAAGC,MAAM,UAAU,EAAEyM,QAAQ,KAAK,EAAEC,KAAK,SAAUC,GAGtD,IAAI/C,EAAkB+C,EAAaA,EAAWpL,IAAM,EAiBpD,OAhBAgC,EAAWI,KAAO,IAAIL,EAAS,CAC3BkF,WAAYoB,EACZzI,KAAM,QACNsH,cAAe8C,KAAKC,IAAI,EACxB9C,gBAAiB,KACjBE,SAAU,CACd,CAAC,EACG7J,EAAW6K,eAAe7J,EAAGK,MAAQwJ,IAGrC7K,EAAW6K,eAAe7J,EAAGK,MAAQwJ,EACrC9K,EAAM8E,kBAAkB,WACpB7E,EAAWoG,GAAGyH,0BAA0BxH,KAAKwE,CAAc,CAC/D,CAAC,GAGE7J,EAAG8F,WAAW/D,IAAIyB,EAAWI,IAAI,EAAEjE,KAAKZ,EAAM8E,kBAAkB,WAEnE,IAAIiJ,EAA+B,EACnC,OAAO9M,EAAG8F,WAAW4G,QAAQ,UAAU,EAAEK,QAAQ,EAAEC,OAAO,SAAUC,GAC5DA,EAAapE,WACToE,EAAavE,cAAgB8C,KAAKC,IAAI,EAAIpD,EAE1C4E,EAAapE,SAAW,EAIxBiE,EAA+B,GAIlCtJ,EAAWI,MAIZqJ,EAAa/I,KAAOV,EAAWI,KAAKM,KACpC+I,EAAapE,SAAWrF,EAAWI,KAAKiF,SAAWiE,EAE3D,CAAC,CACL,CAAC,CAAC,EAAEnN,KAAK,WACLX,EAAWoG,GAAG,4BAA6BiH,CAA2B,EACtErN,EAAWoG,GAAG,eAAgBmH,CAAc,EAC5CvN,EAAWoG,GAAG,mBAAoBkH,CAAS,EAC3CtN,EAAWoG,GAAG,YAAa0B,CAAW,EAEtCmE,EAAaL,WAAWsC,EAvLvB,GAuLuC,EAExC9B,EAAkBR,WAAWuC,EAAW5E,CAAkB,CAC9D,CAAC,EAAE5I,KAAK,WACJoM,EAAQ,CACZ,CAAC,CACL,CAAC,CACL,EAAG,CAAA,CAAI,EACe,GACtB,SAASM,EAA4BtF,EAAQ8C,GACrC9C,IAAW/G,EAAGK,MACSwJ,GAAnBwB,IAEJA,EAAkBxB,EAClB9K,EAAMqO,IAAI,WACNC,EAAY,EAAEtK,MAAM,sBAAuB,YAK1C,CACL,CAAC,EAET,CACA,SAASsK,EAAYxD,EAAgByD,EAAWC,GAI5C,IAMIC,EACAC,EAKApM,EAZJ,MAAI,CAACiM,GAAaD,EAAYK,iBAInBL,EAAYK,kBAEnBF,EAAU,CAAA,GACVC,EAAcjK,EAAWI,OAKzBvC,EAAUrB,EAAGsB,SAAS0C,MAAM,KAAK,EAAEkC,MAAMuH,EAAYhF,UAAU,EAAEkF,MADzD,GACoE,EAAExJ,QAAQ,SAAU2H,GAC3E,EAAjBA,EAAQ8B,QACJhB,EAAad,EAAQA,EAAQ8B,OAAS,GAC1CJ,EAJI,MAIO1B,EAAQ8B,OACnB5N,EAAGoF,GAAG,SAAS,EAAEC,KAAKyG,EAAS0B,CAAO,EACtCC,EAAYhF,WAAamE,EAAWpL,KAE/B+L,GAGLvN,EAAGoF,GAAG,SAAS,EAAEC,KAAK,GAAI,CAAA,CAAK,EATnC,IACQuH,EAUJiB,EAAqB,CAAA,EACzB,OAAO7N,EAAG8F,WAAW9B,MAAM,KAAK,EAAE+B,OAAO0H,EAAYvJ,EAAE,EAAE8I,OAAO,SAAUc,GACtED,EAAqB,CAAA,EACrBC,EAASpF,cAAgB8C,KAAKC,IAAI,EAClCqC,EAASnF,gBAAkB,KAC3BmF,EAASrF,WAAa/G,KAAKC,IAAImM,EAASrF,WAAYgF,EAAYhF,UAAU,CAC9E,CAAC,EAAE9I,KAAK,WAAc,OAAOkO,CAAoB,CAAC,CACtD,CAAC,EAAElO,KAAK,SAAUkO,GACd,GAAI,CAACA,EAED,MAAI9F,EACM,IAAIG,MAAM,0BAA0B,GAG1ClI,EAAGkM,MAAM,EACTjJ,QAAQ6B,MAAM,aAAa,EACvBxG,EAAOyP,UACPzP,EAAOyP,SAASC,OAAO,CAAA,CAAI,EACzB,IAAI9F,MAAM,aAAa,GAKrC,GAAIsF,GAAWxO,EAAW6K,eAAe7J,EAAGK,MAAQoN,EAAYhF,WAG5D,OAAO4E,EAAYrO,EAAW6K,eAAe7J,EAAGK,OAAQiN,GAAa,GAAK,EAAGE,CAAO,CAE5F,CAAC,EAAES,QAAQ,WACP,OAAOZ,EAAYK,gBACvB,CAAC,EACIJ,IACDD,EAAYK,iBAAmBrM,GAE5BA,GAjDIyG,EAAUlD,OAAO,IAAI7F,EAAMyG,mBAAqB,EAkD/D,CAaA,SAAS2H,IACL/B,EAAkB,KAClB,IAAI8C,EAAkB1K,EAAWI,MAAQJ,EAAWI,KAAKM,GACpDgK,GAELlO,EAAG8D,YAAY,MAAO9D,EAAG8F,WAAY,WACjC9F,EAAG8F,WAAW9B,MAAM,CAAEE,GAAIgK,CAAgB,CAAC,EAAE/H,MAAM,SAAUsH,GACzD,GAAKA,EAQL,OAFAA,EAAY/E,cAAgB8C,KAAKC,IAAI,EACrCgC,EAAY9E,gBAAkB,KACvB3I,EAAG8F,WAAW/D,IAAI0L,CAAW,EAN5BzN,EAAGmO,OAAO,GACVnO,EAAGkM,MAAM,CAMrB,CAAC,CACL,CAAC,EAAEnJ,MAAM,sBAAuB,YAE/B,EAAEkL,QAAQ,WACHzK,EAAWI,MAAQJ,EAAWI,KAAKM,KAAOgK,GAAmBlO,EAAGmO,OAAO,IACvE/C,EAAkBR,WAAWuC,EAAW5E,CAAkB,EAElE,CAAC,CACL,CACA,SAAS2E,IACLjC,EAAa,KACb,IAAIiD,EAAkB1K,EAAWI,MAAQJ,EAAWI,KAAKM,GACpDgK,GAELnP,EAAMqO,IAAI,WACNC,EAAYrO,EAAW6K,eAAe7J,EAAGK,KAAK,EAAEV,KAAKoM,CAAO,EAAEpM,KAAKgE,CAAwB,EACtFZ,MAAM,sBAAuB,YAKjC,EACIkL,QAAQ,WAELzK,EAAWI,MAAQJ,EAAWI,KAAKM,KAAOgK,GAAmBlO,EAAGmO,OAAO,IACvElD,EAAaL,WAAWsC,EApU3B,GAoU2C,EAEhD,CAAC,CACL,CAAC,CACL,CACA,SAASnB,IACL,IAAI0B,EAAcjK,EAAWI,KAC7B,OAAK6J,EAEEzN,EAAG8D,YAAY,KAAM,aAAc,WAAY,aAAc,WAMhE,IAAIsK,EAAiB,CAAA,EACrBpO,EAAG8F,WAAW9B,MAAM,eAAe,EAAEqK,MAAM7C,KAAKC,IAAI,EAAIpD,CAAY,EAAExB,OAAO,SAAUjD,GAAQ,MAAqB,UAAdA,EAAKxC,IAAkB,CAAC,EAAE4L,OAAO,SAAUpJ,GACzIA,EAAK+E,iBAAmB/E,EAAK+E,gBAAkB6C,KAAKC,IAAI,GAExD,OAAOxM,KAAKqP,MAER7K,GACAA,EAAa8K,WAAW,6BAA+B3K,EAAKM,GAAK,IAAMlE,EAAGK,IAAI,EAG9EuD,EAAKiF,WAGL7I,EAAG8F,WAAW0I,OAAOf,EAAa,CAAE5E,SAAU,CAAE,CAAC,EACjDuF,EAAiB,CAAA,GAIrBpO,EAAG+D,WAAWC,MAAM,CAAEC,gBAAiBL,EAAKM,EAAG,CAAC,EAAE8I,OAAO,SAAU1I,GAC3DA,EAAIsB,UACJtB,EAAIL,gBAAkBwJ,EAAYvJ,GAGlC,OAAOjF,KAAKqP,KACpB,CAAC,GAEK1K,EAAK+E,kBAEX/E,EAAK+E,gBAAkB6C,KAAKC,IAAI,EAAInD,EAE5C,CAAC,EAAE3I,KAAK,WAGJ,OADAX,EAAWyP,iBAAiBzO,CAAE,EACvBA,EAAGoF,GAAG,SAAS,EAAEC,KAAK+I,CAAc,CAC/C,CAAC,CACL,CAAC,EA1CUtG,EAAUlD,OAAO,IAAI7F,EAAMyG,mBAAqB,CA2C/D,CACA,SAAS+G,IAEA/I,EAAWI,OAEhBmE,EAAwB,CAAA,EACxBvE,EAAWI,KAAK+E,gBAAkB,EAClCnF,EAAWI,KAAK8E,cAAgB,EAChC1I,EAAG8F,WAAW/D,IAAIyB,EAAWI,IAAI,EACjC5E,EAAW0P,gBAAkB,CAAA,EAEzBjL,IACAA,EAAa6C,QAAQ,6BAA+B9C,EAAWI,KAAKM,GAAGQ,SAAS,EAAI,IAAM1E,EAAGK,KAAM,MAAM,CAEjH,CACA,SAASiM,EAAUvF,EAAQ4H,GACnB5H,IAAW/G,EAAGK,MAASrB,EAAW0P,iBAIlC3P,EAAMqO,IAAI,WACNpN,EAAG8F,WAAW0I,OAAOG,EAAQ,CAAEhG,gBAAiB,EAAGD,cAAe,CAAE,CAAC,EAAE/I,KAAKoM,CAAO,CACvF,CAAC,CAET,CACJ,CAIA/M,EAAWiJ,QAAU,gBACrBjJ,EAAW6K,eAAiB,GAC5B7K,EAAWoG,GAAKrG,EAAM6P,OAAO,KAAM,4BAA6B,mBAAoB,YAAa,cAAc,EAC/G5P,EAAW+B,WA56BX,WAEI,IAAI8N,EAAIrD,KAAKC,IAAI,EAMjB,MALW,uCAAuCqD,QAAQ,QAAS,SAAUC,GACzE,IAAIC,GAAKH,EAAoB,GAAhBnN,KAAKuN,OAAO,GAAU,GAAK,EAExC,OADAJ,EAAInN,KAAKwN,MAAML,EAAI,EAAE,GACP,MAANE,EAAYC,EAAS,EAAJA,EAAU,GAAMtK,SAAS,EAAE,CACxD,CAAC,CAEL,EAo6BA1F,EAAWyP,iBA/eX,SAASA,EAAiBzO,GAQtBjB,EAAM8E,kBAAkB,WACpB,OAAO7D,EAAG8F,WAAW4G,QAAQ,YAAY,EAAEvG,MAAM,SAAUgJ,GACvD,OAAOnP,EAAGsB,SACL0C,MAAM,KAAK,EAAEqK,MAAMc,EAAW1G,UAAU,EACxCkF,MALI,GAKY,EAChByB,YAAY,CACrB,CAAC,EAAEzP,KAAK,SAAU0P,GACd,GAA4B,IAAxBA,EAAazB,OAEjB,OAAO5N,EAAGsB,SAASgO,WAAWD,CAAY,EAAE1P,KAAK,WAVxC,MAYD0P,EAAazB,QAEbhD,WAAW,WAAc,OAAO5K,EAAGmO,OAAO,GAAKM,EAAiBzO,CAAE,CAAG,EAAG,GAAG,CAEnF,CAAC,CACL,CAAC,CACL,CAAC,EAAE+C,MAAM,YAGR,CACL,EAmdA/D,EAAWuQ,YAzsBYvQ,EAysBeA,EAxsB3B,SAAmBwQ,GAEtB,IAEQC,EACA1I,EAEIvF,EASAmN,EAdRa,EAAMrO,KAAkD,IAA3CqO,EAAMrO,IAAIoG,QAAQ,mBAAmB,IAE9CkI,GADAC,EAAQF,EAAMrO,IAAIwO,MAAM,GAAG,GACd,GACb5I,EAAS2I,EAAM,GACN,mBAATD,GACIjO,EAAMoO,SAASJ,EAAMK,SAAU,EAAE,EACjC,CAACC,MAAMtO,CAAG,GAAKA,EAAMxC,EAAW6K,eAAe9C,KAC/C/H,EAAW6K,eAAe9C,GAAUvF,EACpCzC,EAAM8E,kBAAkB,WACpB7E,EAAWoG,GAAG,2BAA2B,EAAEC,KAAK0B,EAAQvF,CAAG,CAC/D,CAAC,IAG8B,IAA9BiO,EAAKlI,QAAQ,WAAW,GACzBoH,EAASiB,SAASH,EAAKE,MAAM,GAAG,EAAE,GAAI,EAAE,EACxCH,EAAMK,UACN7Q,EAAWoG,GAAGoH,iBAAiBnH,KAAK0B,EAAQ4H,CAAM,GAGxC,cAATc,GACDD,EAAMK,UACN7Q,EAAWoG,GAAGmB,UAAUlB,KAAK0B,CAAM,EAInD,GA8qBJ/H,EAAW+Q,gBAAkB,WACzB/Q,EAAWoG,GAAG4K,aAAa3K,KAAK,CACpC,EACA,IACIrG,EAAWwJ,iBAAmBlK,EAAOmF,YAE5B,CAAb,MAAOwM,IAQP,GAJI3R,MAAAA,GAAgDA,EAAO4R,mBACvD5R,EAAO4R,iBAAiB,UAAWlR,EAAWuQ,UAAU,EACxDjR,EAAO4R,iBAAiB,eAAgBlR,EAAW+Q,eAAe,GAElEhR,EAAMC,YACN,GAAiC,kBAA7BD,EAAMC,WAAWiJ,QACjB,MAAM,IAAIC,MAAM,oCAAoC,CACxD,MAIAnJ,EAAMC,WAAaA,EACnBD,EAAMoR,OAAOtK,KAAK7G,CAAU,EAIhC,OAFuBD,EAAMC,UAIhC,CAAC"}